import{j as e,S as t,O as s,P as r,C as a,a as i,T as n,D as o,R as l,b as c,c as d,L as h,I as u,d as m,e as p,f as g,V as f,g as x,A as y,h as v,i as b,k as w,l as j,m as _,$ as N,n as k,o as S,p as C,q as P,r as T,s as E,t as A,u as R,v as O,w as L,x as M,y as I,z as D,B as $,E as V,F,G as U,H as B,J as q,K as z,M as H,N as K,Q as G}from"./radix-DfChhuyU.js";import{a as W,r as J,b as Y,g as X,c as Z,L as Q,u as ee,N as te,d as se,e as re,f as ae,h as ie,B as ne}from"./vendor-CQwlcOMX.js";var oe;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var le=W;oe=le.createRoot,le.hydrateRoot;const ce=J.createContext({});function de(e){const t=J.useRef(null);return null===t.current&&(t.current=e()),t.current}const he=J.createContext(null),ue=J.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class me extends J.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pe({children:t,isPresent:s}){const r=J.useId(),a=J.useRef(null),i=J.useRef({width:0,height:0,top:0,left:0}),{nonce:n}=J.useContext(ue);return J.useInsertionEffect((()=>{const{width:e,height:t,top:o,left:l}=i.current;if(s||!a.current||!e||!t)return;a.current.dataset.motionPopId=r;const c=document.createElement("style");return n&&(c.nonce=n),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${o}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[s]),e.jsx(me,{isPresent:s,childRef:a,sizeRef:i,children:J.cloneElement(t,{ref:a})})}const ge=({children:t,initial:s,isPresent:r,onExitComplete:a,custom:i,presenceAffectsLayout:n,mode:o})=>{const l=de(fe),c=J.useId(),d=J.useCallback((e=>{l.set(e,!0);for(const t of l.values())if(!t)return;a&&a()}),[l,a]),h=J.useMemo((()=>({id:c,initial:s,isPresent:r,custom:i,onExitComplete:d,register:e=>(l.set(e,!1),()=>l.delete(e))})),n?[Math.random(),d]:[r,d]);return J.useMemo((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[r]),J.useEffect((()=>{!r&&!l.size&&a&&a()}),[r]),"popLayout"===o&&(t=e.jsx(pe,{isPresent:r,children:t})),e.jsx(he.Provider,{value:h,children:t})};function fe(){return new Map}function xe(e=!0){const t=J.useContext(he);if(null===t)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=t,i=J.useId();J.useEffect((()=>{e&&a(i)}),[e]);const n=J.useCallback((()=>e&&r&&r(i)),[i,r,e]);return!s&&r?[!1,n]:[!0]}const ye=e=>e.key||"";function ve(e){const t=[];return J.Children.forEach(e,(e=>{J.isValidElement(e)&&t.push(e)})),t}const be="undefined"!=typeof window,we=be?J.useLayoutEffect:J.useEffect,je=({children:t,custom:s,initial:r=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:n="sync",propagate:o=!1})=>{const[l,c]=xe(o),d=J.useMemo((()=>ve(t)),[t]),h=o&&!l?[]:d.map(ye),u=J.useRef(!0),m=J.useRef(d),p=de((()=>new Map)),[g,f]=J.useState(d),[x,y]=J.useState(d);we((()=>{u.current=!1,m.current=d;for(let e=0;e<x.length;e++){const t=ye(x[e]);h.includes(t)?p.delete(t):!0!==p.get(t)&&p.set(t,!1)}}),[x,h.length,h.join("-")]);const v=[];if(d!==g){let e=[...d];for(let t=0;t<x.length;t++){const s=x[t],r=ye(s);h.includes(r)||(e.splice(t,0,s),v.push(s))}return"wait"===n&&v.length&&(e=v),y(ve(e)),void f(d)}const{forceRender:b}=J.useContext(ce);return e.jsx(e.Fragment,{children:x.map((t=>{const g=ye(t),f=!(o&&!l)&&(d===x||h.includes(g));return e.jsx(ge,{isPresent:f,initial:!(u.current&&!r)&&void 0,custom:f?void 0:s,presenceAffectsLayout:i,mode:n,onExitComplete:f?void 0:()=>{if(!p.has(g))return;p.set(g,!0);let e=!0;p.forEach((t=>{t||(e=!1)})),e&&(null==b||b(),y(m.current),o&&(null==c||c()),a&&a())},children:t},g)}))})},_e=e=>e;let Ne=_e;function ke(e){let t;return()=>(void 0===t&&(t=e()),t)}const Se=(e,t,s)=>{const r=t-e;return 0===r?1:(s-e)/r},Ce=e=>1e3*e,Pe=e=>e/1e3,Te=!1;const Ee=["read","resolveKeyframes","update","preRender","render","postRender"];function Ae(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,n=Ee.reduce(((e,t)=>(e[t]=function(e){let t=new Set,s=new Set,r=!1,a=!1;const i=new WeakSet;let n={delta:0,timestamp:0,isProcessing:!1};function o(t){i.has(t)&&(l.schedule(t),e()),t(n)}const l={schedule:(e,a=!1,n=!1)=>{const o=n&&r?t:s;return a&&i.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),i.delete(e)},process:e=>{n=e,r?a=!0:(r=!0,[t,s]=[s,t],t.forEach(o),t.clear(),r=!1,a&&(a=!1,l.process(e)))}};return l}(i),e)),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:u}=n,m=()=>{const i=performance.now();s=!1,a.delta=r?1e3/60:Math.max(Math.min(i-a.timestamp,40),1),a.timestamp=i,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),d.process(a),h.process(a),u.process(a),a.isProcessing=!1,s&&t&&(r=!1,e(m))};return{schedule:Ee.reduce(((t,i)=>{const o=n[i];return t[i]=(t,i=!1,n=!1)=>(s||(s=!0,r=!0,a.isProcessing||e(m)),o.schedule(t,i,n)),t}),{}),cancel:e=>{for(let t=0;t<Ee.length;t++)n[Ee[t]].cancel(e)},state:a,steps:n}}const{schedule:Re,cancel:Oe,state:Le,steps:Me}=Ae("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:_e,!0),Ie=J.createContext({strict:!1}),De={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$e={};for(const Zx in De)$e[Zx]={isEnabled:e=>De[Zx].some((t=>!!e[t]))};const Ve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fe(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ve.has(e)}let Ue=e=>!Fe(e);try{(Be=require("@emotion/is-prop-valid").default)&&(Ue=e=>e.startsWith("on")?!Fe(e):Be(e))}catch(Yx){}var Be;function qe(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(s,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const ze=J.createContext({});function He(e){return"string"==typeof e||Array.isArray(e)}function Ke(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const Ge=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],We=["initial",...Ge];function Je(e){return Ke(e.animate)||We.some((t=>He(e[t])))}function Ye(e){return Boolean(Je(e)||e.variants)}function Xe(e){const{initial:t,animate:s}=function(e,t){if(Je(e)){const{initial:t,animate:s}=e;return{initial:!1===t||He(t)?t:void 0,animate:He(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,J.useContext(ze));return J.useMemo((()=>({initial:t,animate:s})),[Ze(t),Ze(s)])}function Ze(e){return Array.isArray(e)?e.join(" "):e}const Qe=Symbol.for("motionComponentSymbol");function et(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tt(e,t,s){return J.useCallback((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&("function"==typeof s?s(r):et(s)&&(s.current=r))}),[t])}const st=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rt="data-"+st("framerAppearId"),{schedule:at}=Ae(queueMicrotask,!1),it=J.createContext({});function nt(e,t,s,r,a){var i,n;const{visualElement:o}=J.useContext(ze),l=J.useContext(Ie),c=J.useContext(he),d=J.useContext(ue).reducedMotion,h=J.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:o,props:s,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const u=h.current,m=J.useContext(it);!u||u.projection||!a||"html"!==u.type&&"svg"!==u.type||function(e,t,s,r){const{layoutId:a,layout:i,drag:n,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:ot(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:Boolean(n)||o&&et(o),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,s,a,m);const p=J.useRef(!1);J.useInsertionEffect((()=>{u&&p.current&&u.update(s,c)}));const g=s[rt],f=J.useRef(Boolean(g)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,g))&&(null===(n=window.MotionHasOptimisedAnimation)||void 0===n?void 0:n.call(window,g)));return we((()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),at.render(u.render),f.current&&u.animationState&&u.animationState.animateChanges())})),J.useEffect((()=>{u&&(!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),f.current=!1))})),u}function ot(e){if(e)return!1!==e.options.allowProjection?e.projection:ot(e.parent)}function lt({preloadedFeatures:t,createVisualElement:s,useRender:r,useVisualState:a,Component:i}){var n,o;function l(t,n){let o;const l={...J.useContext(ue),...t,layoutId:ct(t)},{isStatic:c}=l,d=Xe(t),h=a(t,c);if(!c&&be){J.useContext(Ie).strict;const e=function(e){const{drag:t,layout:s}=$e;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==s?void 0:s.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,d.visualElement=nt(i,h,l,s,e.ProjectionNode)}return e.jsxs(ze.Provider,{value:d,children:[o&&d.visualElement?e.jsx(o,{visualElement:d.visualElement,...l}):null,r(i,t,tt(h,d.visualElement,n),h,c,d.visualElement)]})}t&&function(e){for(const t in e)$e[t]={...$e[t],...e[t]}}(t),l.displayName=`motion.${"string"==typeof i?i:`create(${null!==(o=null!==(n=i.displayName)&&void 0!==n?n:i.name)&&void 0!==o?o:""})`}`;const c=J.forwardRef(l);return c[Qe]=i,c}function ct({layoutId:e}){const t=J.useContext(ce).id;return t&&void 0!==e?t+"-"+e:e}const dt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ht(e){return"string"==typeof e&&!e.includes("-")&&!!(dt.indexOf(e)>-1||/[A-Z]/u.test(e))}function ut(e){const t=[{},{}];return null==e||e.values.forEach(((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()})),t}function mt(e,t,s,r){if("function"==typeof t){const[a,i]=ut(r);t=t(void 0!==s?s:e.custom,a,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[a,i]=ut(r);t=t(void 0!==s?s:e.custom,a,i)}return t}const pt=e=>Array.isArray(e),gt=e=>Boolean(e&&e.getVelocity);function ft(e){const t=gt(e)?e.get():e;return s=t,Boolean(s&&"object"==typeof s&&s.mix&&s.toValue)?t.toValue():t;var s}const xt=e=>(t,s)=>{const r=J.useContext(ze),a=J.useContext(he),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},r,a,i){const n={latestValues:yt(r,a,i,e),renderState:t()};return s&&(n.onMount=e=>s({props:r,current:e,...n}),n.onUpdate=e=>s(e)),n}(e,t,r,a);return s?i():de(i)};function yt(e,t,s,r){const a={},i=r(e,{});for(const u in i)a[u]=ft(i[u]);let{initial:n,animate:o}=e;const l=Je(e),c=Ye(e);t&&c&&!l&&!1!==e.inherit&&(void 0===n&&(n=t.initial),void 0===o&&(o=t.animate));let d=!!s&&!1===s.initial;d=d||!1===n;const h=d?o:n;if(h&&"boolean"!=typeof h&&!Ke(h)){const t=Array.isArray(h)?h:[h];for(let s=0;s<t.length;s++){const r=mt(e,t[s]);if(r){const{transitionEnd:e,transition:t,...s}=r;for(const r in s){let e=s[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}const vt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bt=new Set(vt),wt=e=>t=>"string"==typeof t&&t.startsWith(e),jt=wt("--"),_t=wt("var(--"),Nt=e=>!!_t(e)&&kt.test(e.split("/*")[0].trim()),kt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,St=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Ct=(e,t,s)=>s>t?t:s<e?e:s,Pt={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Tt={...Pt,transform:e=>Ct(0,1,e)},Et={...Pt,default:1},At=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Rt=At("deg"),Ot=At("%"),Lt=At("px"),Mt=At("vh"),It=At("vw"),Dt={...Ot,parse:e=>Ot.parse(e)/100,transform:e=>Ot.transform(100*e)},$t={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt},Vt={rotate:Rt,rotateX:Rt,rotateY:Rt,rotateZ:Rt,scale:Et,scaleX:Et,scaleY:Et,scaleZ:Et,skew:Rt,skewX:Rt,skewY:Rt,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:Tt,originX:Dt,originY:Dt,originZ:Lt},Ft={...Pt,transform:Math.round},Ut={...$t,...Vt,zIndex:Ft,size:Lt,fillOpacity:Tt,strokeOpacity:Tt,numOctaves:Ft},Bt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qt=vt.length;function zt(e,t,s){const{style:r,vars:a,transformOrigin:i}=e;let n=!1,o=!1;for(const l in t){const e=t[l];if(bt.has(l))n=!0;else if(jt(l))a[l]=e;else{const t=St(e,Ut[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(n||s?r.transform=function(e,t,s){let r="",a=!0;for(let i=0;i<qt;i++){const n=vt[i],o=e[n];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(n.startsWith("scale")?1:0):0===parseFloat(o),!l||s){const e=St(o,Ut[n]);l||(a=!1,r+=`${Bt[n]||n}(${e}) `),s&&(t[n]=e)}}return r=r.trim(),s?r=s(t,a?"":r):a&&(r="none"),r}(t,e.transform,s):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:s=0}=i;r.transformOrigin=`${e} ${t} ${s}`}}const Ht={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kt={offset:"strokeDashoffset",array:"strokeDasharray"};function Gt(e,t,s){return"string"==typeof e?e:Lt.transform(t+s*e)}function Wt(e,{attrX:t,attrY:s,attrScale:r,originX:a,originY:i,pathLength:n,pathSpacing:o=1,pathOffset:l=0,...c},d,h){if(zt(e,c,h),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:m,dimensions:p}=e;u.transform&&(p&&(m.transform=u.transform),delete u.transform),p&&(void 0!==a||void 0!==i||m.transform)&&(m.transformOrigin=function(e,t,s){return`${Gt(t,e.x,e.width)} ${Gt(s,e.y,e.height)}`}(p,void 0!==a?a:.5,void 0!==i?i:.5)),void 0!==t&&(u.x=t),void 0!==s&&(u.y=s),void 0!==r&&(u.scale=r),void 0!==n&&function(e,t,s=1,r=0,a=!0){e.pathLength=1;const i=a?Ht:Kt;e[i.offset]=Lt.transform(-r);const n=Lt.transform(t),o=Lt.transform(s);e[i.array]=`${n} ${o}`}(u,n,o,l,!1)}const Jt=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Yt=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Xt=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Zt(e,{style:t,vars:s},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in s)e.style.setProperty(i,s[i])}const Qt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function es(e,t,s,r){Zt(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Qt.has(a)?a:st(a),t.attrs[a])}const ts={};function ss(e,{layout:t,layoutId:s}){return bt.has(e)||e.startsWith("origin")||(t||void 0!==s)&&(!!ts[e]||"opacity"===e)}function rs(e,t,s){var r;const{style:a}=e,i={};for(const n in a)(gt(a[n])||t.style&&gt(t.style[n])||ss(n,e)||void 0!==(null===(r=null==s?void 0:s.getValue(n))||void 0===r?void 0:r.liveStyle))&&(i[n]=a[n]);return i}function as(e,t,s){const r=rs(e,t,s);for(const a in e)if(gt(e[a])||gt(t[a])){r[-1!==vt.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}const is=["x","y","width","height","cx","cy","r"],ns={useVisualState:xt({scrapeMotionValuesFromProps:as,createRenderState:Yt,onUpdate:({props:e,prevProps:t,current:s,renderState:r,latestValues:a})=>{if(!s)return;let i=!!e.drag;if(!i)for(const o in a)if(bt.has(o)){i=!0;break}if(!i)return;let n=!t;if(t)for(let o=0;o<is.length;o++){const s=is[o];e[s]!==t[s]&&(n=!0)}n&&Re.read((()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(s){t.dimensions={x:0,y:0,width:0,height:0}}}(s,r),Re.render((()=>{Wt(r,a,Xt(s.tagName),e.transformTemplate),es(s,r)}))}))}})},os={useVisualState:xt({scrapeMotionValuesFromProps:rs,createRenderState:Jt})};function ls(e,t,s){for(const r in t)gt(t[r])||ss(r,s)||(e[r]=t[r])}function cs(e,t){const s={};return ls(s,e.style||{},e),Object.assign(s,function({transformTemplate:e},t){return J.useMemo((()=>{const s={style:{},transform:{},transformOrigin:{},vars:{}};return zt(s,t,e),Object.assign({},s.vars,s.style)}),[t])}(e,t)),s}function ds(e,t){const s={},r=cs(e,t);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}function hs(e,t,s,r){const a=J.useMemo((()=>{const s={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Wt(s,t,Xt(r),e.transformTemplate),{...s.attrs,style:{...s.style}}}),[t]);if(e.style){const t={};ls(t,e.style,e),a.style={...t,...a.style}}return a}function us(e=!1){return(t,s,r,{latestValues:a},i)=>{const n=(ht(t)?hs:ds)(s,a,i,t),o=function(e,t,s){const r={};for(const a in e)"values"===a&&"object"==typeof e.values||(Ue(a)||!0===s&&Fe(a)||!t&&!Fe(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(s,"string"==typeof t,e),l=t!==J.Fragment?{...o,...n,ref:r}:{},{children:c}=s,d=J.useMemo((()=>gt(c)?c.get():c),[c]);return J.createElement(t,{...l,children:d})}}function ms(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){return lt({...ht(s)?ns:os,preloadedFeatures:e,useRender:us(r),createVisualElement:t,Component:s})}}function ps(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function gs(e,t,s){const r=e.getProps();return mt(r,t,void 0!==s?s:r.custom,e)}const fs=ke((()=>void 0!==window.ScrollTimeline));class xs{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map((s=>fs()&&s.attachTimeline?s.attachTimeline(e):"function"==typeof t?t(s):void 0));return()=>{s.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ys extends xs{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function vs(e,t){return e?e[t]||e.default||e:void 0}const bs=2e4;function ws(e){let t=0;let s=e.next(t);for(;!s.done&&t<bs;)t+=50,s=e.next(t);return t>=bs?1/0:t}function js(e){return"function"==typeof e}function _s(e,t){e.timeline=t,e.onfinish=null}const Ns=e=>Array.isArray(e)&&"number"==typeof e[0],ks={linearEasing:void 0};function Ss(e,t){const s=ke(e);return()=>{var e;return null!==(e=ks[t])&&void 0!==e?e:s()}}const Cs=Ss((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),Ps=(e,t,s=10)=>{let r="";const a=Math.max(Math.round(t/s),2);for(let i=0;i<a;i++)r+=e(Se(0,a-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Ts(e){return Boolean("function"==typeof e&&Cs()||!e||"string"==typeof e&&(e in As||Cs())||Ns(e)||Array.isArray(e)&&e.every(Ts))}const Es=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,As={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Es([0,.65,.55,1]),circOut:Es([.55,0,1,.45]),backIn:Es([.31,.01,.66,-.59]),backOut:Es([.33,1.53,.69,.99])};function Rs(e,t){return e?"function"==typeof e&&Cs()?Ps(e,t):Ns(e)?Es(e):Array.isArray(e)?e.map((e=>Rs(e,t)||As.easeOut)):As[e]:void 0}const Os={x:!1,y:!1};function Ls(){return Os.x||Os.y}function Ms(e,t){const s=function(e){if(e instanceof Element)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[s,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Is(e){return t=>{"touch"===t.pointerType||Ls()||e(t)}}const Ds=(e,t)=>!!t&&(e===t||Ds(e,t.parentElement)),$s=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Vs=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Fs=new WeakSet;function Us(e){return t=>{"Enter"===t.key&&e(t)}}function Bs(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function qs(e){return $s(e)&&!Ls()}function zs(e,t,s={}){const[r,a,i]=Ms(e,s),n=e=>{const r=e.currentTarget;if(!qs(e)||Fs.has(r))return;Fs.add(r);const i=t(e),n=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),qs(e)&&Fs.has(r)&&(Fs.delete(r),"function"==typeof i&&i(e,{success:t}))},o=e=>{n(e,s.useGlobalTarget||Ds(r,e.target))},l=e=>{n(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach((e=>{(function(e){return Vs.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(s.useGlobalTarget?window:e).addEventListener("pointerdown",n,a),e.addEventListener("focus",(e=>((e,t)=>{const s=e.currentTarget;if(!s)return;const r=Us((()=>{if(Fs.has(s))return;Bs(s,"down");const e=Us((()=>{Bs(s,"up")}));s.addEventListener("keyup",e,t),s.addEventListener("blur",(()=>Bs(s,"cancel")),t)}));s.addEventListener("keydown",r,t),s.addEventListener("blur",(()=>s.removeEventListener("keydown",r)),t)})(e,a)),a)})),i}const Hs=new Set(["width","height","top","left","right","bottom",...vt]);let Ks;function Gs(){Ks=void 0}const Ws={now:()=>(void 0===Ks&&Ws.set(Le.isProcessing||Te?Le.timestamp:performance.now()),Ks),set:e=>{Ks=e,queueMicrotask(Gs)}};function Js(e,t){-1===e.indexOf(t)&&e.push(t)}function Ys(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Xs{constructor(){this.subscriptions=[]}add(e){return Js(this.subscriptions,e),()=>Ys(this.subscriptions,e)}notify(e,t,s){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,s);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Zs(e,t){return t?e*(1e3/t):0}class Qs{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const s=Ws.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ws.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Xs);const s=this.events[e].add(t);return"change"===e?()=>{s(),Re.read((()=>{this.events.change.getSize()||this.stop()}))}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ws.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Zs(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function er(e,t){return new Qs(e,t)}function tr(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,er(s))}function sr(e,t){const s=e.getValue("willChange");if(r=s,Boolean(gt(r)&&r.add))return s.add(t);var r}function rr(e){return e.props[rt]}const ar=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function ir(e,t,s,r){if(e===t&&s===r)return _e;const a=t=>function(e,t,s,r,a){let i,n,o=0;do{n=t+(s-t)/2,i=ar(n,r,a)-e,i>0?s=n:t=n}while(Math.abs(i)>1e-7&&++o<12);return n}(t,0,1,e,s);return e=>0===e||1===e?e:ar(a(e),t,r)}const nr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,or=e=>t=>1-e(1-t),lr=ir(.33,1.53,.69,.99),cr=or(lr),dr=nr(cr),hr=e=>(e*=2)<1?.5*cr(e):.5*(2-Math.pow(2,-10*(e-1))),ur=e=>1-Math.sin(Math.acos(e)),mr=or(ur),pr=nr(ur),gr=e=>/^0[^.\s]+$/u.test(e);const fr=e=>Math.round(1e5*e)/1e5,xr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const yr=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vr=(e,t)=>s=>Boolean("string"==typeof s&&yr.test(s)&&s.startsWith(e)||t&&!function(e){return null==e}(s)&&Object.prototype.hasOwnProperty.call(s,t)),br=(e,t,s)=>r=>{if("string"!=typeof r)return r;const[a,i,n,o]=r.match(xr);return{[e]:parseFloat(a),[t]:parseFloat(i),[s]:parseFloat(n),alpha:void 0!==o?parseFloat(o):1}},wr={...Pt,transform:e=>Math.round((e=>Ct(0,255,e))(e))},jr={test:vr("rgb","red"),parse:br("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+wr.transform(e)+", "+wr.transform(t)+", "+wr.transform(s)+", "+fr(Tt.transform(r))+")"};const _r={test:vr("#"),parse:function(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:jr.transform},Nr={test:vr("hsl","hue"),parse:br("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ot.transform(fr(t))+", "+Ot.transform(fr(s))+", "+fr(Tt.transform(r))+")"},kr={test:e=>jr.test(e)||_r.test(e)||Nr.test(e),parse:e=>jr.test(e)?jr.parse(e):Nr.test(e)?Nr.parse(e):_r.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?jr.transform(e):Nr.transform(e)},Sr=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Cr="number",Pr="color",Tr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Er(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},a=[];let i=0;const n=t.replace(Tr,(e=>(kr.test(e)?(r.color.push(i),a.push(Pr),s.push(kr.parse(e))):e.startsWith("var(")?(r.var.push(i),a.push("var"),s.push(e)):(r.number.push(i),a.push(Cr),s.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:s,split:n,indexes:r,types:a}}function Ar(e){return Er(e).values}function Rr(e){const{split:t,types:s}=Er(e),r=t.length;return e=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],void 0!==e[i]){const t=s[i];a+=t===Cr?fr(e[i]):t===Pr?kr.transform(e[i]):e[i]}return a}}const Or=e=>"number"==typeof e?0:e;const Lr={test:function(e){var t,s;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(xr))||void 0===t?void 0:t.length)||0)+((null===(s=e.match(Sr))||void 0===s?void 0:s.length)||0)>0},parse:Ar,createTransformer:Rr,getAnimatableNone:function(e){const t=Ar(e);return Rr(e)(t.map(Or))}},Mr=new Set(["brightness","contrast","saturate","opacity"]);function Ir(e){const[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=s.match(xr)||[];if(!r)return e;const a=s.replace(r,"");let i=Mr.has(t)?1:0;return r!==s&&(i*=100),t+"("+i+a+")"}const Dr=/\b([a-z-]*)\(.*?\)/gu,$r={...Lr,getAnimatableNone:e=>{const t=e.match(Dr);return t?t.map(Ir).join(" "):e}},Vr={...Ut,color:kr,backgroundColor:kr,outlineColor:kr,fill:kr,stroke:kr,borderColor:kr,borderTopColor:kr,borderRightColor:kr,borderBottomColor:kr,borderLeftColor:kr,filter:$r,WebkitFilter:$r},Fr=e=>Vr[e];function Ur(e,t){let s=Fr(e);return s!==$r&&(s=Lr),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Br=new Set(["auto","none","0"]);const qr=e=>e===Pt||e===Lt,zr=(e,t)=>parseFloat(e.split(", ")[t]),Hr=(e,t)=>(s,{transform:r})=>{if("none"===r||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return zr(a[1],t);{const t=r.match(/^matrix\((.+)\)$/u);return t?zr(t[1],e):0}},Kr=new Set(["x","y","z"]),Gr=vt.filter((e=>!Kr.has(e)));const Wr={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Hr(4,13),y:Hr(5,14)};Wr.translateX=Wr.x,Wr.translateY=Wr.y;const Jr=new Set;let Yr=!1,Xr=!1;function Zr(){if(Xr){const e=Array.from(Jr).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),s=new Map;t.forEach((e=>{const t=function(e){const t=[];return Gr.forEach((s=>{const r=e.getValue(s);void 0!==r&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))})),t}(e);t.length&&(s.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=s.get(e);t&&t.forEach((([t,s])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(s)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Xr=!1,Yr=!1,Jr.forEach((e=>e.complete())),Jr.clear()}function Qr(){Jr.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Xr=!0)}))}class ea{constructor(e,t,s,r,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=r,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jr.add(this),Yr||(Yr=!0,Re.read(Qr),Re.resolveKeyframes(Zr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:r}=this;for(let a=0;a<e.length;a++)if(null===e[a])if(0===a){const a=null==r?void 0:r.get(),i=e[e.length-1];if(void 0!==a)e[0]=a;else if(s&&t){const r=s.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===a&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ta=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),sa=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ra(e,t,s=1){const[r,a]=function(e){const t=sa.exec(e);if(!t)return[,];const[,s,r,a]=t;return[`--${null!=s?s:r}`,a]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return ta(e)?parseFloat(e):e}return Nt(a)?ra(a,t,s+1):a}const aa=e=>t=>t.test(e),ia=[Pt,Lt,Ot,Rt,It,Mt,{test:e=>"auto"===e,parse:e=>e}],na=e=>ia.find(aa(e));class oa extends ea{constructor(e,t,s,r,a){super(e,t,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let s=e[o];if("string"==typeof s&&(s=s.trim(),Nt(s))){const r=ra(s,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!Hs.has(s)||2!==e.length)return;const[r,a]=e,i=na(r),n=na(a);if(i!==n)if(qr(i)&&qr(n))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)("number"==typeof(r=e[a])?0===r:null===r||"none"===r||"0"===r||gr(r))&&s.push(a);var r;s.length&&function(e,t,s){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"==typeof t&&!Br.has(t)&&Er(t).values.length&&(r=e[a]),a++}if(r&&s)for(const i of t)e[i]=Ur(s,r)}(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(s);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,n=r[i];r[i]=Wr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==n&&void 0===this.finalKeyframe&&(this.finalKeyframe=n),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((([e,s])=>{t.getValue(e).set(s)})),this.resolveNoneKeyframes()}}const la=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Lr.test(e)&&"0"!==e||e.startsWith("url(")));function ca(e,t,s,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],n=la(a,t),o=la(i,t);return!(!n||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||js(s))&&r)}const da=e=>null!==e;function ha(e,{repeat:t,repeatType:s="loop"},r){const a=e.filter(da),i=t&&"loop"!==s&&t%2==1?0:a.length-1;return i&&void 0!==r?r:a[i]}class ua{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i="loop",...n}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ws.now(),this.options={autoplay:e,delay:t,type:s,repeat:r,repeatDelay:a,repeatType:i,...n},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Qr(),Zr()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ws.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:a,delay:i,onComplete:n,onUpdate:o,isGenerator:l}=this.options;if(!l&&!ca(e,s,r,a)){if(!i)return o&&o(ha(e,this.options,t)),n&&n(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const ma=(e,t,s)=>e+(t-e)*s;function pa(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ga(e,t){return s=>s>0?t:e}const fa=(e,t,s)=>{const r=e*e,a=s*(t*t-r)+r;return a<0?0:Math.sqrt(a)},xa=[_r,jr,Nr];function ya(e){const t=(s=e,xa.find((e=>e.test(s))));var s;if(!Boolean(t))return!1;let r=t.parse(e);return t===Nr&&(r=function({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,s/=100;let a=0,i=0,n=0;if(t/=100){const r=s<.5?s*(1+t):s+t-s*t,o=2*s-r;a=pa(o,r,e+1/3),i=pa(o,r,e),n=pa(o,r,e-1/3)}else a=i=n=s;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*n),alpha:r}}(r)),r}const va=(e,t)=>{const s=ya(e),r=ya(t);if(!s||!r)return ga(e,t);const a={...s};return e=>(a.red=fa(s.red,r.red,e),a.green=fa(s.green,r.green,e),a.blue=fa(s.blue,r.blue,e),a.alpha=ma(s.alpha,r.alpha,e),jr.transform(a))},ba=(e,t)=>s=>t(e(s)),wa=(...e)=>e.reduce(ba),ja=new Set(["none","hidden"]);function _a(e,t){return s=>ma(e,t,s)}function Na(e){return"number"==typeof e?_a:"string"==typeof e?Nt(e)?ga:kr.test(e)?va:Ca:Array.isArray(e)?ka:"object"==typeof e?kr.test(e)?va:Sa:ga}function ka(e,t){const s=[...e],r=s.length,a=e.map(((e,s)=>Na(e)(e,t[s])));return e=>{for(let t=0;t<r;t++)s[t]=a[t](e);return s}}function Sa(e,t){const s={...e,...t},r={};for(const a in s)void 0!==e[a]&&void 0!==t[a]&&(r[a]=Na(e[a])(e[a],t[a]));return e=>{for(const t in r)s[t]=r[t](e);return s}}const Ca=(e,t)=>{const s=Lr.createTransformer(t),r=Er(e),a=Er(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?ja.has(e)&&!a.values.length||ja.has(t)&&!r.values.length?function(e,t){return ja.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}(e,t):wa(ka(function(e,t){var s;const r=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const n=t.types[i],o=e.indexes[n][a[n]],l=null!==(s=e.values[o])&&void 0!==s?s:0;r[i]=l,a[n]++}return r}(r,a),a.values),s):ga(e,t)};function Pa(e,t,s){if("number"==typeof e&&"number"==typeof t&&"number"==typeof s)return ma(e,t,s);return Na(e)(e,t)}function Ta(e,t,s){const r=Math.max(t-5,0);return Zs(s-e(r),t-r)}const Ea=100,Aa=10,Ra=1,Oa=0,La=800,Ma=.3,Ia=.3,Da={granular:.01,default:2},$a={granular:.005,default:.5},Va=.01,Fa=10,Ua=.05,Ba=1;function qa({duration:e=La,bounce:t=Ma,velocity:s=Oa,mass:r=Ra}){let a,i,n=1-t;n=Ct(Ua,Ba,n),e=Ct(Va,Fa,Pe(e)),n<1?(a=t=>{const r=t*n,a=r*e;return.001-(r-s)/Ha(t,n)*Math.exp(-a)},i=t=>{const r=t*n*e,i=r*s+s,o=Math.pow(n,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Ha(Math.pow(t,2),n);return(.001-a(t)>0?-1:1)*((i-o)*l)/c}):(a=t=>Math.exp(-t*e)*((t-s)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(s-t)));const o=function(e,t,s){let r=s;for(let a=1;a<za;a++)r-=e(r)/t(r);return r}(a,i,5/e);if(e=Ce(e),isNaN(o))return{stiffness:Ea,damping:Aa,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*n*Math.sqrt(r*t),duration:e}}}const za=12;function Ha(e,t){return e*Math.sqrt(1-t*t)}const Ka=["duration","bounce"],Ga=["stiffness","damping","mass"];function Wa(e,t){return t.some((t=>void 0!==e[t]))}function Ja(e=Ia,t=Ma){const s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=s;const i=s.keyframes[0],n=s.keyframes[s.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:u,isResolvedFromDuration:m}=function(e){let t={velocity:Oa,stiffness:Ea,damping:Aa,mass:Ra,isResolvedFromDuration:!1,...e};if(!Wa(e,Ga)&&Wa(e,Ka))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(1.2*s),a=r*r,i=2*Ct(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ra,stiffness:a,damping:i}}else{const s=qa(e);t={...t,...s,mass:Ra},t.isResolvedFromDuration=!0}return t}({...s,velocity:-Pe(s.velocity||0)}),p=u||0,g=c/(2*Math.sqrt(l*d)),f=n-i,x=Pe(Math.sqrt(l/d)),y=Math.abs(f)<5;let v;if(r||(r=y?Da.granular:Da.default),a||(a=y?$a.granular:$a.default),g<1){const e=Ha(x,g);v=t=>{const s=Math.exp(-g*x*t);return n-s*((p+g*x*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}}else if(1===g)v=e=>n-Math.exp(-x*e)*(f+(p+x*f)*e);else{const e=x*Math.sqrt(g*g-1);v=t=>{const s=Math.exp(-g*x*t),r=Math.min(e*t,300);return n-s*((p+g*x*f)*Math.sinh(r)+e*f*Math.cosh(r))/e}}const b={calculatedDuration:m&&h||null,next:e=>{const t=v(e);if(m)o.done=e>=h;else{let s=0;g<1&&(s=0===e?Ce(p):Ta(v,e,t));const i=Math.abs(s)<=r,l=Math.abs(n-t)<=a;o.done=i&&l}return o.value=o.done?n:t,o},toString:()=>{const e=Math.min(ws(b),bs),t=Ps((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function Ya({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:n,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],u={done:!1,value:h},m=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=s*t;const g=h+p,f=void 0===n?g:n(g);f!==g&&(p=f-h);const x=e=>-p*Math.exp(-e/r),y=e=>f+x(e),v=e=>{const t=x(e),s=y(e);u.done=Math.abs(t)<=c,u.value=u.done?f:s};let b,w;const j=e=>{var t;(t=u.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(b=e,w=Ja({keyframes:[u.value,m(u.value)],velocity:Ta(y,e,u.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==b||(t=!0,v(e),j(e)),void 0!==b&&e>=b?w.next(e-b):(!t&&v(e),u)}}}const Xa=ir(.42,0,1,1),Za=ir(0,0,.58,1),Qa=ir(.42,0,.58,1),ei={linear:_e,easeIn:Xa,easeInOut:Qa,easeOut:Za,circIn:ur,circInOut:pr,circOut:mr,backIn:cr,backInOut:dr,backOut:lr,anticipate:hr},ti=e=>{if(Ns(e)){Ne(4===e.length);const[t,s,r,a]=e;return ir(t,s,r,a)}return"string"==typeof e?ei[e]:e};function si(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const i=e.length;if(Ne(i===t.length),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const n=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,s){const r=[],a=s||Pa,i=e.length-1;for(let n=0;n<i;n++){let s=a(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]||_e:t;s=wa(e,s)}r.push(s)}return r}(t,r,a),l=o.length,c=s=>{if(n&&s<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(s<e[r+1]);r++);const a=Se(e[r],e[r+1],s);return o[r](a)};return s?t=>c(Ct(e[0],e[i-1],t)):c}function ri(e){const t=[0];return function(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=Se(0,t,r);e.push(ma(s,1,a))}}(t,e.length-1),t}function ai({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(ti):ti(r),i={done:!1,value:t[0]},n=function(e,t){return e.map((e=>e*t))}(s&&s.length===t.length?s:ri(t),e),o=si(n,t,{ease:Array.isArray(a)?a:(l=t,c=a,l.map((()=>c||Qa)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(i.value=o(t),i.done=t>=e,i)}}const ii=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Re.update(t,!0),stop:()=>Oe(t),now:()=>Le.isProcessing?Le.timestamp:Ws.now()}},ni={decay:Ya,inertia:Ya,tween:ai,keyframes:ai,spring:Ja},oi=e=>e/100;class li extends ua{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:s,element:r,keyframes:a}=this.options,i=(null==r?void 0:r.KeyframeResolver)||ea;this.resolver=new i(a,((e,t)=>this.onKeyframesResolved(e,t)),t,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:i=0}=this.options,n=js(t)?t:ni[t]||ai;let o,l;n!==ai&&"number"!=typeof e[0]&&(o=wa(oi,Pa(e[0],e[1])),e=[0,100]);const c=n({...this.options,keyframes:e});"mirror"===a&&(l=n({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=ws(c));const{calculatedDuration:d}=c,h=d+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:d,resolvedDuration:h,totalDuration:h*(s+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:s}=this;if(!s){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:i,mapPercentToKeyframes:n,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=s;if(null===this.startTime)return a.next(0);const{delay:h,repeat:u,repeatType:m,repeatDelay:p,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const f=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?f<0:f>c;this.currentTime=Math.max(f,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,v=a;if(u){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===m?(s=1-s,p&&(s-=p/d)):"mirror"===m&&(v=i)),y=Ct(0,1,s)*d}const b=x?{done:!1,value:o[0]}:v.next(y);n&&(b.value=n(b.value));let{done:w}=b;x||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==r&&(b.value=ha(o,this.options,r)),g&&g(b.value),j&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Pe(e.calculatedDuration):0}get time(){return Pe(this.currentTime)}set time(e){e=Ce(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Pe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=ii,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=s?s:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ci=new Set(["opacity","clipPath","filter","transform"]);function di(e,t,s,{delay:r=0,duration:a=300,repeat:i=0,repeatType:n="loop",ease:o="easeInOut",times:l}={}){const c={[t]:s};l&&(c.offset=l);const d=Rs(o,a);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===n?"alternate":"normal"})}const hi=ke((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const ui={anticipate:hr,backInOut:dr,circInOut:pr};class mi extends ua{constructor(e){super(e);const{name:t,motionValue:s,element:r,keyframes:a}=this.options;this.resolver=new oa(a,((e,t)=>this.onKeyframesResolved(e,t)),t,s,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:r,ease:a,type:i,motionValue:n,name:o,startTime:l}=this.options;if(!n.owner||!n.owner.current)return!1;if("string"==typeof a&&Cs()&&a in ui&&(a=ui[a]),function(e){return js(e.type)||"spring"===e.type||!Ts(e.ease)}(this.options)){const{onComplete:t,onUpdate:n,motionValue:o,element:l,...c}=this.options,d=function(e,t){const s=new li({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let i=0;for(;!r.done&&i<2e4;)r=s.sample(i),a.push(r.value),i+=10;return{times:void 0,keyframes:a,duration:i-10,ease:"linear"}}(e,c);1===(e=d.keyframes).length&&(e[1]=e[0]),s=d.duration,r=d.times,a=d.ease,i="keyframes"}const c=di(n.owner.current,o,e,{...this.options,duration:s,times:r,ease:a});return c.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(_s(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:s}=this.options;n.set(ha(e,this.options,t)),s&&s(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:s,times:r,type:i,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Pe(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Pe(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=Ce(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return _e;const{animation:s}=t;_s(s,e)}else this.pendingTimeline=e;return _e}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:r,type:a,ease:i,times:n}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,d=new li({...c,keyframes:s,duration:r,type:a,ease:i,times:n,isGenerator:!0}),h=Ce(this.time);e.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:r,repeatType:a,damping:i,type:n}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return hi()&&s&&ci.has(s)&&!o&&!l&&!r&&"mirror"!==a&&0!==i&&"inertia"!==n}}const pi={type:"spring",stiffness:500,damping:25,restSpeed:10},gi={type:"keyframes",duration:.8},fi={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xi=(e,{keyframes:t})=>t.length>2?gi:bt.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:pi:fi;const yi=(e,t,s,r={},a,i)=>n=>{const o=vs(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=Ce(l);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{n(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};(function({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:n,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||(d={...d,...xi(e,d)}),d.duration&&(d.duration=Ce(d.duration)),d.repeatDelay&&(d.repeatDelay=Ce(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(h=!0)),h&&!i&&void 0!==t.get()){const e=ha(d.keyframes,o);if(void 0!==e)return Re.update((()=>{d.onUpdate(e),d.onComplete()})),new ys([])}return!i&&mi.supports(d)?new mi(d):new li(d)};function vi({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&!0!==t[s];return t[s]=!1,r}function bi(e,t,{delay:s=0,transitionOverride:r,type:a}={}){var i;let{transition:n=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(n=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const t=e.getValue(h,null!==(i=e.latestValues[h])&&void 0!==i?i:null),r=l[h];if(void 0===r||d&&vi(d,h))continue;const a={delay:s,...vs(n||{},h)};let o=!1;if(window.MotionHandoffAnimation){const t=rr(e);if(t){const e=window.MotionHandoffAnimation(t,h,Re);null!==e&&(a.startTime=e,o=!0)}}sr(e,h),t.start(yi(h,t,r,e.shouldReduceMotion&&Hs.has(h)?{type:!1}:a,e,o));const u=t.animation;u&&c.push(u)}return o&&Promise.all(c).then((()=>{Re.update((()=>{o&&function(e,t){const s=gs(e,t);let{transitionEnd:r={},transition:a={},...i}=s||{};i={...i,...r};for(const o in i)tr(e,o,(n=i[o],pt(n)?n[n.length-1]||0:n));var n}(e,o)}))})),c}function wi(e,t,s={}){var r;const a=gs(e,t,"exit"===s.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(i=s.transitionOverride);const n=a?()=>Promise.all(bi(e,a,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:a=0,staggerChildren:n,staggerDirection:o}=i;return function(e,t,s=0,r=0,a=1,i){const n=[],o=(e.variantChildren.size-1)*r,l=1===a?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(ji).forEach(((e,r)=>{e.notify("AnimationStart",t),n.push(wi(e,t,{...i,delay:s+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(n)}(e,t,a+r,n,o,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[n,o]:[o,n];return e().then((()=>t()))}return Promise.all([n(),o(s.delay)])}function ji(e,t){return e.sortNodePosition(t)}const _i=We.length;function Ni(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Ni(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let s=0;s<_i;s++){const r=We[s],a=e.props[r];(He(a)||!1===a)&&(t[r]=a)}return t}const ki=[...Ge].reverse(),Si=Ge.length;function Ci(e){return t=>Promise.all(t.map((({animation:t,options:s})=>function(e,t,s={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map((t=>wi(e,t,s)));r=Promise.all(a)}else if("string"==typeof t)r=wi(e,t,s);else{const a="function"==typeof t?gs(e,t,s.custom):t;r=Promise.all(bi(e,a,s))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,s))))}function Pi(e){let t=Ci(e),s=Ai(),r=!0;const a=t=>(s,r)=>{var a;const i=gs(e,r,"exit"===t?null===(a=e.presenceContext)||void 0===a?void 0:a.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;s={...s,...r,...t}}return s};function i(i){const{props:n}=e,o=Ni(e.parent)||{},l=[],c=new Set;let d={},h=1/0;for(let t=0;t<Si;t++){const u=ki[t],m=s[u],p=void 0!==n[u]?n[u]:o[u],g=He(p),f=u===i?m.isActive:null;!1===f&&(h=t);let x=p===o[u]&&p!==n[u]&&g;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...d},!m.isActive&&null===f||!p&&!m.prevProp||Ke(p)||"boolean"==typeof p)continue;const y=Ti(m.prevProp,p);let v=y||u===i&&m.isActive&&!x&&g||t>h&&g,b=!1;const w=Array.isArray(p)?p:[p];let j=w.reduce(a(u),{});!1===f&&(j={});const{prevResolvedValues:_={}}=m,N={..._,...j},k=t=>{v=!0,c.has(t)&&(b=!0,c.delete(t)),m.needsAnimating[t]=!0;const s=e.getValue(t);s&&(s.liveStyle=!1)};for(const e in N){const t=j[e],s=_[e];if(d.hasOwnProperty(e))continue;let r=!1;r=pt(t)&&pt(s)?!ps(t,s):t!==s,r?null!=t?k(e):c.add(e):void 0!==t&&c.has(e)?k(e):m.protectedKeys[e]=!0}m.prevProp=p,m.prevResolvedValues=j,m.isActive&&(d={...d,...j}),r&&e.blockInitialAnimation&&(v=!1);v&&(!(x&&y)||b)&&l.push(...w.map((e=>({animation:e,options:{type:u}}))))}if(c.size){const t={};c.forEach((s=>{const r=e.getBaseTarget(s),a=e.getValue(s);a&&(a.liveStyle=!0),t[s]=null!=r?r:null})),l.push({animation:t})}let u=Boolean(l.length);return!r||!1!==n.initial&&n.initial!==n.animate||e.manuallyAnimateOnMount||(u=!1),r=!1,u?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var a;if(s[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var s;return null===(s=e.animationState)||void 0===s?void 0:s.setActive(t,r)})),s[t].isActive=r;const n=i(t);for(const e in s)s[e].protectedKeys={};return n},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=Ai(),r=!0}}}function Ti(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!ps(t,e)}function Ei(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ai(){return{animate:Ei(!0),whileInView:Ei(),whileHover:Ei(),whileTap:Ei(),whileDrag:Ei(),whileFocus:Ei(),exit:Ei()}}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Oi=0;const Li={animation:{Feature:class extends Ri{constructor(e){super(e),e.animationState||(e.animationState=Pi(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ke(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Ri{constructor(){super(...arguments),this.id=Oi++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Mi(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Ii(e){return{point:{x:e.pageX,y:e.pageY}}}function Di(e,t,s,r){return Mi(e,t,(e=>t=>$s(t)&&e(t,Ii(t)))(s),r)}const $i=(e,t)=>Math.abs(e-t);class Vi{constructor(e,t,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Bi(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,s=function(e,t){const s=$i(e.x,t.x),r=$i(e.y,t.y);return Math.sqrt(s**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!s)return;const{point:r}=e,{timestamp:a}=Le;this.history.push({...r,timestamp:a});const{onStart:i,onMove:n}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),n&&n(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Fi(t,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:s,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Bi("pointercancel"===e.type?this.lastMoveEventInfo:Fi(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,i),r&&r(e,i)},!$s(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=s,this.contextWindow=r||window;const i=Fi(Ii(e),this.transformPagePoint),{point:n}=i,{timestamp:o}=Le;this.history=[{...n,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Bi(i,this.history)),this.removeListeners=wa(Di(this.contextWindow,"pointermove",this.handlePointerMove),Di(this.contextWindow,"pointerup",this.handlePointerUp),Di(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oe(this.updatePoint)}}function Fi(e,t){return t?{point:t(e.point)}:e}function Ui(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bi({point:e},t){return{point:e,delta:Ui(e,zi(t)),offset:Ui(e,qi(t)),velocity:Hi(t,.1)}}function qi(e){return e[0]}function zi(e){return e[e.length-1]}function Hi(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=zi(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>Ce(t)));)s--;if(!r)return{x:0,y:0};const i=Pe(a.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const n={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return n.x===1/0&&(n.x=0),n.y===1/0&&(n.y=0),n}function Ki(e){return e.max-e.min}function Gi(e,t,s,r=.5){e.origin=r,e.originPoint=ma(t.min,t.max,e.origin),e.scale=Ki(s)/Ki(t),e.translate=ma(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Wi(e,t,s,r){Gi(e.x,t.x,s.x,r?r.originX:void 0),Gi(e.y,t.y,s.y,r?r.originY:void 0)}function Ji(e,t,s){e.min=s.min+t.min,e.max=e.min+Ki(t)}function Yi(e,t,s){e.min=t.min-s.min,e.max=e.min+Ki(t)}function Xi(e,t,s){Yi(e.x,t.x,s.x),Yi(e.y,t.y,s.y)}function Zi(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function Qi(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}const en=.35;function tn(e,t,s){return{min:sn(e,t),max:sn(e,s)}}function sn(e,t){return"number"==typeof e?e:e[t]||0}const rn=()=>({x:{min:0,max:0},y:{min:0,max:0}});function an(e){return[e("x"),e("y")]}function nn({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function on(e){return void 0===e||1===e}function ln({scale:e,scaleX:t,scaleY:s}){return!on(e)||!on(t)||!on(s)}function cn(e){return ln(e)||dn(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function dn(e){return hn(e.x)||hn(e.y)}function hn(e){return e&&"0%"!==e}function un(e,t,s){return s+t*(e-s)}function mn(e,t,s,r,a){return void 0!==a&&(e=un(e,a,r)),un(e,s,r)+t}function pn(e,t=0,s=1,r,a){e.min=mn(e.min,t,s,r,a),e.max=mn(e.max,t,s,r,a)}function gn(e,{x:t,y:s}){pn(e.x,t.translate,t.scale,t.originPoint),pn(e.y,s.translate,s.scale,s.originPoint)}const fn=.999999999999,xn=1.0000000000001;function yn(e,t){e.min=e.min+t,e.max=e.max+t}function vn(e,t,s,r,a=.5){pn(e,t,s,ma(e.min,e.max,a),r)}function bn(e,t){vn(e.x,t.x,t.scaleX,t.scale,t.originX),vn(e.y,t.y,t.scaleY,t.scale,t.originY)}function wn(e,t){return nn(function(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const jn=({current:e})=>e?e.ownerDocument.defaultView:null,_n=new WeakMap;class Nn{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Vi(e,{onSessionStart:e=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ii(e).point)},onStart:(e,t)=>{const{drag:s,dragPropagation:r,onDragStart:a}=this.getProps();if(s&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=s)||"y"===i?Os[i]?null:(Os[i]=!0,()=>{Os[i]=!1}):Os.x||Os.y?null:(Os.x=Os.y=!0,()=>{Os.x=Os.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ot.test(t)){const{projection:s}=this.visualElement;if(s&&s.layout){const r=s.layout.layoutBox[e];if(r){t=Ki(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),a&&Re.postRender((()=>a(e,t))),sr(this.visualElement,"transform");const{animationState:n}=this.visualElement;n&&n.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:s,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!s&&!this.openDragLock)return;const{offset:n}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let s=null;Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x");return s}(n),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,n),this.updateAxis("y",t.point,n),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>an((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:jn(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Re.postRender((()=>a(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:r}=this.getProps();if(!s||!kn(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let i=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:s},r){return void 0!==t&&e<t?e=r?ma(t,e,r.min):Math.max(e,t):void 0!==s&&e>s&&(e=r?ma(s,e,r.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&et(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:s,bottom:r,right:a}){return{x:Zi(e.x,s,a),y:Zi(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=en){return!1===e?e=0:!0===e&&(e=en),{x:tn(e,"left","right"),y:tn(e,"top","bottom")}}(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&an((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const s={};return void 0!==t.min&&(s.min=t.min-e.min),void 0!==t.max&&(s.max=t.max-e.min),s}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!et(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,s){const r=wn(e,s),{scroll:a}=t;return a&&(yn(r.x,a.offset.x),yn(r.y,a.offset.y)),r}(s,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Qi(e.x,t.x),y:Qi(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=nn(e))}return i}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:n}=this.getProps(),o=this.constraints||{},l=an((n=>{if(!kn(n,t,this.currentDirection))return;let l=o&&o[n]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,h={type:"inertia",velocity:s?e[n]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(n,h)}));return Promise.all(l).then(n)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return sr(this.visualElement,e),s.start(yi(e,s,0,t,this.visualElement,!1))}stopAnimation(){an((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){an((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[t];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){an((t=>{const{drag:s}=this.getProps();if(!kn(t,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:i}=r.layout.layoutBox[t];a.set(e[t]-ma(s,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!et(t)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};an((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const s=t.get();r[e]=function(e,t){let s=.5;const r=Ki(e),a=Ki(t);return a>r?s=Se(t.min,t.max-r,e.min):r>a&&(s=Se(e.min,e.max-a,t.min)),Ct(0,1,s)}({min:s,max:s},this.constraints[e])}}));const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),an((t=>{if(!kn(t,e,null))return;const s=this.getAxisMotionValue(t),{min:a,max:i}=this.constraints[t];s.set(ma(a,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;_n.set(this.visualElement,this);const e=Di(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:s=!0}=this.getProps();t&&s&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();et(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",t);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Re.read(t);const a=Mi(window,"resize",(()=>this.scalePositionWithinConstraints())),i=s.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(an((t=>{const s=this.getAxisMotionValue(t);s&&(this.originPoint[t]+=e[t].translate,s.set(s.get()+e[t].translate))})),this.visualElement.render())}));return()=>{a(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:i=en,dragMomentum:n=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:i,dragMomentum:n}}}function kn(e,t,s){return!(!0!==t&&t!==e||null!==s&&s!==e)}const Sn=e=>(t,s)=>{e&&Re.postRender((()=>e(t,s)))};const Cn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pn(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Tn={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Lt.test(e))return e;e=parseFloat(e)}return`${Pn(e,t.target.x)}% ${Pn(e,t.target.y)}%`}},En={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=Lr.parse(e);if(a.length>5)return r;const i=Lr.createTransformer(e),n="number"!=typeof a[0]?1:0,o=s.x.scale*t.x,l=s.y.scale*t.y;a[0+n]/=o,a[1+n]/=l;const c=ma(o,l,.5);return"number"==typeof a[2+n]&&(a[2+n]/=c),"number"==typeof a[3+n]&&(a[3+n]/=c),i(a)}};class An extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;var i;i=On,Object.assign(ts,i),a&&(t.group&&t.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",(()=>{this.safeToRemove()})),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:r,isPresent:a}=this.props,i=s.projection;return i?(i.isPresent=a,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?i.promote():i.relegate()||Re.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),at.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rn(t){const[s,r]=xe(),a=J.useContext(ce);return e.jsx(An,{...t,layoutGroup:a,switchLayoutGroup:J.useContext(it),isPresent:s,safeToRemove:r})}const On={borderRadius:{...Tn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tn,borderTopRightRadius:Tn,borderBottomLeftRadius:Tn,borderBottomRightRadius:Tn,boxShadow:En};const Ln=(e,t)=>e.depth-t.depth;class Mn{constructor(){this.children=[],this.isDirty=!1}add(e){Js(this.children,e),this.isDirty=!0}remove(e){Ys(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ln),this.isDirty=!1,this.children.forEach(e)}}const In=["TopLeft","TopRight","BottomLeft","BottomRight"],Dn=In.length,$n=e=>"string"==typeof e?parseFloat(e):e,Vn=e=>"number"==typeof e||Lt.test(e);function Fn(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Un=qn(0,.5,mr),Bn=qn(.5,.95,_e);function qn(e,t,s){return r=>r<e?0:r>t?1:s(Se(e,t,r))}function zn(e,t){e.min=t.min,e.max=t.max}function Hn(e,t){zn(e.x,t.x),zn(e.y,t.y)}function Kn(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Gn(e,t,s,r,a){return e=un(e-=t,1/s,r),void 0!==a&&(e=un(e,1/a,r)),e}function Wn(e,t,[s,r,a],i,n){!function(e,t=0,s=1,r=.5,a,i=e,n=e){Ot.test(t)&&(t=parseFloat(t),t=ma(n.min,n.max,t/100)-n.min);if("number"!=typeof t)return;let o=ma(i.min,i.max,r);e===i&&(o-=t),e.min=Gn(e.min,t,s,o,a),e.max=Gn(e.max,t,s,o,a)}(e,t[s],t[r],t[a],t.scale,i,n)}const Jn=["x","scaleX","originX"],Yn=["y","scaleY","originY"];function Xn(e,t,s,r){Wn(e.x,t,Jn,s?s.x:void 0,r?r.x:void 0),Wn(e.y,t,Yn,s?s.y:void 0,r?r.y:void 0)}function Zn(e){return 0===e.translate&&1===e.scale}function Qn(e){return Zn(e.x)&&Zn(e.y)}function eo(e,t){return e.min===t.min&&e.max===t.max}function to(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function so(e,t){return to(e.x,t.x)&&to(e.y,t.y)}function ro(e){return Ki(e.x)/Ki(e.y)}function ao(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class io{constructor(){this.members=[]}add(e){Js(this.members,e),e.scheduleRender()}remove(e){if(Ys(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let s;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){s=e;break}}return!!s&&(this.promote(s),!0)}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&s.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const no={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},oo="undefined"!=typeof window&&void 0!==window.MotionDebug,lo=["","X","Y","Z"],co={visibility:"hidden"};let ho=0;function uo(e,t,s,r){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function mo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=rr(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Re,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&mo(r)}function po({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(e={},s=(null==t?void 0:t())){this.id=ho++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,oo&&(no.totalNodes=no.resolvedTargetDeltas=no.recalculatedProjection=0),this.nodes.forEach(xo),this.nodes.forEach(No),this.nodes.forEach(ko),this.nodes.forEach(yo),oo&&window.MotionDebug.record(no)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mn)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Xs),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const s=this.eventHandlers.get(e);s&&s.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,s=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:a,layout:i,visualElement:n}=this.options;if(n&&!n.current&&n.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(i||a)&&(this.isLayoutDirty=!0),e){let s;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,s&&s(),s=function(e,t){const s=Ws.now(),r=({timestamp:a})=>{const i=a-s;i>=t&&(Oe(r),e(i-t))};return Re.read(r,!0),()=>Oe(r)}(r,250),Cn.hasAnimatedSinceResize&&(Cn.hasAnimatedSinceResize=!1,this.nodes.forEach(_o))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&n&&(a||i)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:s,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||n.getDefaultTransition()||Ao,{onLayoutAnimationStart:i,onLayoutAnimationComplete:o}=n.getProps(),l=!this.targetLayout||!so(this.targetLayout,r)||s,c=!t&&s;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...vs(a,"layout"),onPlay:i,onComplete:o};(n.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||_o(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(So),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(bo);this.isUpdating||this.nodes.forEach(wo),this.isUpdating=!1,this.nodes.forEach(jo),this.nodes.forEach(go),this.nodes.forEach(fo),this.clearAllSnapshots();const e=Ws.now();Le.delta=Ct(0,1e3/60,e-Le.timestamp),Le.timestamp=e,Le.isProcessing=!0,Me.update.process(Le),Me.preRender.process(Le),Me.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,at.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vo),this.sharedNodes.forEach(Co)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++){this.path[s].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Qn(this.projectionDelta),s=this.getTransformTemplate(),r=s?s(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||cn(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let s=this.removeElementScroll(t);var r;return e&&(s=this.removeTransform(s)),Lo((r=s).x),Lo(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const s=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Io))){const{scroll:e}=this.root;e&&(yn(s.x,e.offset.x),yn(s.y,e.offset.y))}return s}removeElementScroll(e){var t;const s={x:{min:0,max:0},y:{min:0,max:0}};if(Hn(s,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return s;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:a,options:i}=t;t!==this.root&&a&&i.layoutScroll&&(a.wasRoot&&Hn(s,e),yn(s.x,a.offset.x),yn(s.y,a.offset.y))}return s}applyTransform(e,t=!1){const s={x:{min:0,max:0},y:{min:0,max:0}};Hn(s,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&bn(s,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),cn(e.latestValues)&&bn(s,e.latestValues)}return cn(this.latestValues)&&bn(s,this.latestValues),s}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Hn(t,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];if(!e.instance)continue;if(!cn(e.latestValues))continue;ln(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Hn(r,e.measurePageBox()),Xn(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return cn(this.latestValues)&&Xn(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==s;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:i}=this.options;if(this.layout&&(a||i)){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Xi(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var n,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n=this.target,o=this.relativeTarget,l=this.relativeParent.target,Ji(n.x,o.x,l.x),Ji(n.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),gn(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Xi(this.relativeTargetOrigin,this.target,e.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}oo&&no.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ln(this.parent.latestValues)&&!dn(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),s=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(r=!1),r)return;const{layout:a,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!i)return;Hn(this.layoutCorrected,this.layout.layoutBox);const n=this.treeScale.x,o=this.treeScale.y;!function(e,t,s,r=!1){const a=s.length;if(!a)return;let i,n;t.x=t.y=1;for(let o=0;o<a;o++){i=s[o],n=i.projectionDelta;const{visualElement:a}=i.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),n&&(t.x*=n.x.scale,t.y*=n.y.scale,gn(e,n)),r&&cn(i.latestValues)&&bn(e,i.latestValues))}t.x<xn&&t.x>fn&&(t.x=1),t.y<xn&&t.y>fn&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,s),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Kn(this.prevProjectionDelta.x,this.projectionDelta.x),Kn(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Wi(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===n&&this.treeScale.y===o&&ao(this.projectionDelta.x,this.prevProjectionDelta.x)&&ao(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),oo&&no.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const s=this.snapshot,r=s?s.latestValues:{},a={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const n={x:{min:0,max:0},y:{min:0,max:0}},o=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Eo));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const s=t/1e3;var l,u,m,p,g,f;Po(i.x,e.x,s),Po(i.y,e.y,s),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xi(n,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,g=n,f=s,To(m.x,p.x,g.x,f),To(m.y,p.y,g.y,f),h&&(l=this.relativeTarget,u=h,eo(l.x,u.x)&&eo(l.y,u.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),Hn(h,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,s,r,a,i){a?(e.opacity=ma(0,void 0!==s.opacity?s.opacity:1,Un(r)),e.opacityExit=ma(void 0!==t.opacity?t.opacity:1,0,Bn(r))):i&&(e.opacity=ma(void 0!==t.opacity?t.opacity:1,void 0!==s.opacity?s.opacity:1,r));for(let n=0;n<Dn;n++){const a=`border${In[n]}Radius`;let i=Fn(t,a),o=Fn(s,a);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||Vn(i)===Vn(o)?(e[a]=Math.max(ma($n(i),$n(o),r),0),(Ot.test(o)||Ot.test(i))&&(e[a]+="%")):e[a]=o)}(t.rotate||s.rotate)&&(e.rotate=ma(t.rotate||0,s.rotate||0,r))}(a,r,this.latestValues,s,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update((()=>{Cn.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,s){const r=gt(e)?e:er(e);return r.start(yi("",r,t,s)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:s,layout:r,latestValues:a}=e;if(t&&s&&r){if(this!==e&&this.layout&&r&&Mo(this.options.animationType,this.layout.layoutBox,r.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ki(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;const r=Ki(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+r}Hn(t,s),bn(t,a),Wi(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new io);this.sharedNodes.get(e).add(t);const s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:s}={}){const r=this.getStack();r&&r.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;const r={};s.z&&uo("z",e,r,this.animationValues);for(let a=0;a<lo.length;a++)uo(`rotate${lo[a]}`,e,r,this.animationValues),uo(`skew${lo[a]}`,e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}getProjectionStyles(e){var t,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return co;const r={visibility:""},a=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=ft(null==e?void 0:e.pointerEvents)||"",r.transform=a?a(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=ft(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!cn(this.latestValues)&&(t.transform=a?a({},""):"none",this.hasProjected=!1),t}const n=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,s){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,n=(null==s?void 0:s.z)||0;if((a||i||n)&&(r=`translate3d(${a}px, ${i}px, ${n}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:i,skewX:n,skewY:o}=s;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),a&&(r+=`rotateX(${a}deg) `),i&&(r+=`rotateY(${i}deg) `),n&&(r+=`skewX(${n}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,n),a&&(r.transform=a(n,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,i.animationValues?r.opacity=i===this?null!==(s=null!==(t=n.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==s?s:1:this.preserveOpacity?this.latestValues.opacity:n.opacityExit:r.opacity=i===this?void 0!==n.opacity?n.opacity:"":void 0!==n.opacityExit?n.opacityExit:0;for(const c in ts){if(void 0===n[c])continue;const{correct:e,applyTo:t}=ts[c],s="none"===r.transform?n[c]:e(n[c],i);if(t){const e=t.length;for(let a=0;a<e;a++)r[t[a]]=s}else r[c]=s}return this.options.layoutId&&(r.pointerEvents=i===this?ft(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(bo),this.root.sharedNodes.clear()}}}function go(e){e.updateLayout()}function fo(e){var t;const s=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:a}=e.options,i=s.source!==e.layout.source;"size"===a?an((e=>{const r=i?s.measuredBox[e]:s.layoutBox[e],a=Ki(r);r.min=t[e].min,r.max=r.min+a})):Mo(a,s.layoutBox,t)&&an((r=>{const a=i?s.measuredBox[r]:s.layoutBox[r],n=Ki(t[r]);a.max=a.min+n,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+n)}));const n={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Wi(n,t,s.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Wi(o,e.applyTransform(r,!0),s.measuredBox):Wi(o,t,s.layoutBox);const l=!Qn(n);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:i}=r;if(a&&i){const n={x:{min:0,max:0},y:{min:0,max:0}};Xi(n,s.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Xi(o,t,i.layoutBox),so(n,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=n,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:s,delta:o,layoutDelta:n,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function xo(e){oo&&no.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yo(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vo(e){e.clearSnapshot()}function bo(e){e.clearMeasurements()}function wo(e){e.isLayoutDirty=!1}function jo(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _o(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function No(e){e.resolveTargetDelta()}function ko(e){e.calcProjection()}function So(e){e.resetSkewAndRotation()}function Co(e){e.removeLeadSnapshot()}function Po(e,t,s){e.translate=ma(t.translate,0,s),e.scale=ma(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function To(e,t,s,r){e.min=ma(t.min,s.min,r),e.max=ma(t.max,s.max,r)}function Eo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ao={duration:.45,ease:[.4,0,.1,1]},Ro=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Oo=Ro("applewebkit/")&&!Ro("chrome/")?Math.round:_e;function Lo(e){e.min=Oo(e.min),e.max=Oo(e.max)}function Mo(e,t,s){return"position"===e||"preserve-aspect"===e&&(r=ro(t),a=ro(s),i=.2,!(Math.abs(r-a)<=i));var r,a,i}function Io(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Do=po({attachResizeListener:(e,t)=>Mi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$o={current:void 0},Vo=po({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$o.current){const e=new Do({});e.mount(window),e.setOptions({layoutScroll:!0}),$o.current=e}return $o.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Fo={pan:{Feature:class extends Ri{constructor(){super(...arguments),this.removePointerDownListener=_e}onPointerDown(e){this.session=new Vi(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jn(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Sn(e),onStart:Sn(t),onMove:s,onEnd:(e,t)=>{delete this.session,r&&Re.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Di(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ri{constructor(e){super(e),this.removeGroupControls=_e,this.removeListeners=_e,this.controls=new Nn(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_e}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Vo,MeasureLayout:Rn}};function Uo(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===s);const a=r["onHover"+s];a&&Re.postRender((()=>a(t,Ii(t))))}function Bo(e,t,s){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===s);const a=r["onTap"+("End"===s?"":s)];a&&Re.postRender((()=>a(t,Ii(t))))}const qo=new WeakMap,zo=new WeakMap,Ho=e=>{const t=qo.get(e.target);t&&t(e)},Ko=e=>{e.forEach(Ho)};function Go(e,t,s){const r=function({root:e,...t}){const s=e||document;zo.has(s)||zo.set(s,{});const r=zo.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Ko,{root:e,...t})),r[a]}(t);return qo.set(e,s),r.observe(e),()=>{qo.delete(e),r.unobserve(e)}}const Wo={some:0,all:1};const Jo={inView:{Feature:class extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:r="some",once:a}=e,i={root:t?t.current:void 0,rootMargin:s,threshold:"number"==typeof r?r:Wo[r]};return Go(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:s,onViewportLeave:r}=this.node.getProps(),i=t?s:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=zs(e,(e=>(Bo(this.node,e,"Start"),(e,{success:t})=>Bo(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wa(Mi(this.node.current,"focus",(()=>this.onFocus())),Mi(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){const[r,a,i]=Ms(e,s),n=Is((e=>{const{target:s}=e,r=t(e);if("function"!=typeof r||!s)return;const i=Is((e=>{r(e),s.removeEventListener("pointerleave",i)}));s.addEventListener("pointerleave",i,a)}));return r.forEach((e=>{e.addEventListener("pointerenter",n,a)})),i}(e,(e=>(Uo(this.node,e,"Start"),e=>Uo(this.node,e,"End")))))}unmount(){}}}},Yo={layout:{ProjectionNode:Vo,MeasureLayout:Rn}},Xo={current:null},Zo={current:!1};const Qo=[...ia,kr,Lr],el=new WeakMap;const tl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sl{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:i},n={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ea,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ws.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Re.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:c}=i;this.onUpdate=c,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=n,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Je(t),this.isVariantNode=Ye(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in h){const e=h[u];void 0!==o[u]&&gt(e)&&e.set(o[u],!1)}}mount(e){this.current=e,el.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Zo.current||function(){if(Zo.current=!0,be)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xo.current=e.matches;e.addListener(t),t()}else Xo.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Xo.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){el.delete(this.current),this.projection&&this.projection.unmount(),Oe(this.notifyUpdate),Oe(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=bt.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),a(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in $e){const t=$e[e];if(!t)continue;const{isEnabled:s,Feature:r}=t;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<tl.length;s++){const t=tl[s];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,s){for(const r in t){const a=t[r],i=s[r];if(gt(a))e.addValue(r,a);else if(gt(i))e.addValue(r,er(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,er(void 0!==t?t:a,{owner:e}))}}for(const r in s)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=er(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let r=void 0===this.latestValues[e]&&this.current?null!==(s=this.getBaseTargetFromProps(this.props,e))&&void 0!==s?s:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var a;return null!=r&&("string"==typeof r&&(ta(r)||gr(r))?r=parseFloat(r):(a=r,!Qo.find(aa(a))&&Lr.test(t)&&(r=Ur(e,t))),this.setBaseTarget(e,gt(r)?r.get():r)),gt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let r;if("string"==typeof s||"object"==typeof s){const a=mt(this.props,s,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);a&&(r=a[e])}if(s&&void 0!==r)return r;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||gt(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new Xs),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class rl extends sl{constructor(){super(...arguments),this.KeyframeResolver=oa}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gt(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class al extends rl{constructor(){super(...arguments),this.type="html",this.renderInstance=Zt}readValueFromInstance(e,t){if(bt.has(t)){const e=Fr(t);return e&&e.default||0}{const r=(s=e,window.getComputedStyle(s)),a=(jt(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof a?a.trim():a}var s}measureInstanceViewportBox(e,{transformPagePoint:t}){return wn(e,t)}build(e,t,s){zt(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return rs(e,t,s)}}class il extends rl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(bt.has(t)){const e=Fr(t);return e&&e.default||0}return t=Qt.has(t)?t:st(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return as(e,t,s)}build(e,t,s){Wt(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,r){es(e,t,0,r)}mount(e){this.isSVGTag=Xt(e.tagName),super.mount(e)}}const nl=qe(ms({...Li,...Jo,...Fo,...Yo},((e,t)=>ht(e)?new il(t):new al(t,{allowProjection:e!==J.Fragment}))));function ol(e){var t,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=ol(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function ll(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=ol(e))&&(r&&(r+=" "),r+=t);return r}const cl=e=>{const t=ml(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),dl(s,t)||ul(e)},getConflictingClassGroupIds:(e,t)=>{const a=s[e]||[];return t&&r[e]?[...a,...r[e]]:a}}},dl=(e,t)=>{if(0===e.length)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?dl(e.slice(1),r):void 0;if(a)return a;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find((({validator:e})=>e(i)))?.classGroupId},hl=/^\[(.+)\]$/,ul=e=>{if(hl.test(e)){const t=hl.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},ml=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return xl(Object.entries(e.classGroups),s).forEach((([e,s])=>{pl(s,r,e,t)})),r},pl=(e,t,s,r)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return fl(e)?void pl(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach((([e,a])=>{pl(a,gl(t,e),s,r)}))}else{(""===e?t:gl(t,e)).classGroupId=s}}))},gl=(e,t)=>{let s=e;return t.split("-").forEach((e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)})),s},fl=e=>e.isThemeGetter,xl=(e,t)=>t?e.map((([e,s])=>[e,s.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,s])=>[t+e,s]))):e))])):e,yl=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(a,i)=>{s.set(a,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):a(e,t)}}},vl=e=>{const{separator:t,experimentalParseClassName:s}=e,r=1===t.length,a=t[0],i=t.length,n=e=>{const s=[];let n,o=0,l=0;for(let h=0;h<e.length;h++){let c=e[h];if(0===o){if(c===a&&(r||e.slice(h,h+i)===t)){s.push(e.slice(l,h)),l=h+i;continue}if("/"===c){n=h;continue}}"["===c?o++:"]"===c&&o--}const c=0===s.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:s,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:n&&n>l?n-l:void 0}};return s?e=>s({className:e,parseClassName:n}):n},bl=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach((e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)})),t.push(...s.sort()),t},wl=/\s+/;function jl(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=_l(e))&&(r&&(r+=" "),r+=t);return r}const _l=e=>{if("string"==typeof e)return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=_l(e[r]))&&(s&&(s+=" "),s+=t);return s};function Nl(e,...t){let s,r,a,i=function(o){const l=t.reduce(((e,t)=>t(e)),e());return s=(e=>({cache:yl(e.cacheSize),parseClassName:vl(e),...cl(e)}))(l),r=s.cache.get,a=s.cache.set,i=n,n(o)};function n(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],n=e.trim().split(wl);let o="";for(let l=n.length-1;l>=0;l-=1){const e=n[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:h}=s(e);let u=Boolean(h),m=r(u?d.substring(0,h):d);if(!m){if(!u){o=e+(o.length>0?" "+o:o);continue}if(m=r(d),!m){o=e+(o.length>0?" "+o:o);continue}u=!1}const p=bl(t).join(":"),g=c?p+"!":p,f=g+m;if(i.includes(f))continue;i.push(f);const x=a(m,u);for(let s=0;s<x.length;++s){const e=x[s];i.push(g+e)}o=e+(o.length>0?" "+o:o)}return o})(e,s);return a(e,i),i}return function(){return i(jl.apply(null,arguments))}}const kl=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Sl=/^\[(?:([a-z-]+):)?(.+)\]$/i,Cl=/^\d+\/\d+$/,Pl=new Set(["px","full","screen"]),Tl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,El=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Al=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ol=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ll=e=>Il(e)||Pl.has(e)||Cl.test(e),Ml=e=>Jl(e,"length",Yl),Il=e=>Boolean(e)&&!Number.isNaN(Number(e)),Dl=e=>Jl(e,"number",Il),$l=e=>Boolean(e)&&Number.isInteger(Number(e)),Vl=e=>e.endsWith("%")&&Il(e.slice(0,-1)),Fl=e=>Sl.test(e),Ul=e=>Tl.test(e),Bl=new Set(["length","size","percentage"]),ql=e=>Jl(e,Bl,Xl),zl=e=>Jl(e,"position",Xl),Hl=new Set(["image","url"]),Kl=e=>Jl(e,Hl,Ql),Gl=e=>Jl(e,"",Zl),Wl=()=>!0,Jl=(e,t,s)=>{const r=Sl.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):s(r[2]))},Yl=e=>El.test(e)&&!Al.test(e),Xl=()=>!1,Zl=e=>Rl.test(e),Ql=e=>Ol.test(e),ec=()=>{const e=kl("colors"),t=kl("spacing"),s=kl("blur"),r=kl("brightness"),a=kl("borderColor"),i=kl("borderRadius"),n=kl("borderSpacing"),o=kl("borderWidth"),l=kl("contrast"),c=kl("grayscale"),d=kl("hueRotate"),h=kl("invert"),u=kl("gap"),m=kl("gradientColorStops"),p=kl("gradientColorStopPositions"),g=kl("inset"),f=kl("margin"),x=kl("opacity"),y=kl("padding"),v=kl("saturate"),b=kl("scale"),w=kl("sepia"),j=kl("skew"),_=kl("space"),N=kl("translate"),k=()=>["auto",Fl,t],S=()=>[Fl,t],C=()=>["",Ll,Ml],P=()=>["auto",Il,Fl],T=()=>["","0",Fl],E=()=>[Il,Fl];return{cacheSize:500,separator:":",theme:{colors:[Wl],spacing:[Ll,Ml],blur:["none","",Ul,Fl],brightness:E(),borderColor:[e],borderRadius:["none","","full",Ul,Fl],borderSpacing:S(),borderWidth:C(),contrast:E(),grayscale:T(),hueRotate:E(),invert:T(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Vl,Ml],inset:k(),margin:k(),opacity:E(),padding:S(),saturate:E(),scale:E(),sepia:T(),skew:E(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Fl]}],container:["container"],columns:[{columns:[Ul]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Fl]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$l,Fl]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fl]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",$l,Fl]}],"grid-cols":[{"grid-cols":[Wl]}],"col-start-end":[{col:["auto",{span:["full",$l,Fl]},Fl]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Wl]}],"row-start-end":[{row:["auto",{span:[$l,Fl]},Fl]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fl]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fl]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fl,t]}],"min-w":[{"min-w":[Fl,t,"min","max","fit"]}],"max-w":[{"max-w":[Fl,t,"none","full","min","max","fit","prose",{screen:[Ul]},Ul]}],h:[{h:[Fl,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fl,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fl,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fl,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ul,Ml]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dl]}],"font-family":[{font:[Wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fl]}],"line-clamp":[{"line-clamp":["none",Il,Dl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ll,Fl]}],"list-image":[{"list-image":["none",Fl]}],"list-style-type":[{list:["none","disc","decimal",Fl]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ll,Ml]}],"underline-offset":[{"underline-offset":["auto",Ll,Fl]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fl]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fl]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",zl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ql]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kl]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Ll,Fl]}],"outline-w":[{outline:[Ll,Ml]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ll,Ml]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ul,Gl]}],"shadow-color":[{shadow:[Wl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ul,Fl]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[n]}],"border-spacing-x":[{"border-spacing-x":[n]}],"border-spacing-y":[{"border-spacing-y":[n]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fl]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",Fl]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fl]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[$l,Fl]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fl]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fl]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fl]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ll,Ml,Dl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tc=Nl(ec);function sc(...e){return tc(ll(e))}const rc=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,ac=ll,ic=(e,t)=>s=>{var r;if(null==(null==t?void 0:t.variants))return ac(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:a,defaultVariants:i}=t,n=Object.keys(a).map((e=>{const t=null==s?void 0:s[e],r=null==i?void 0:i[e];if(null===t)return null;const n=rc(t)||rc(r);return a[e][n]})),o=s&&Object.entries(s).reduce(((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e}),{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every((e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...i,...o}[t]):{...i,...o}[t]===s}))?[...e,s,r]:e}),[]);return ac(e,n,l,null==s?void 0:s.class,null==s?void 0:s.className)},nc=ic("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oc=Y.forwardRef((({className:s,variant:r,size:a,asChild:i=!1,...n},o)=>{const l=i?t:"button";return e.jsx(l,{className:sc(nc({variant:r,size:a,className:s})),ref:o,...n})}));oc.displayName="Button";const lc={},cc=(e,t,s,r)=>{mc(s)&&lc[s]||(mc(s)&&(lc[s]=new Date),((e,t,s,r)=>{const a=[s,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);mc(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console})(e,t,s,r))},dc=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout((()=>{e.off("initialized",s)}),0),t()};e.on("initialized",s)}},hc=(e,t,s)=>{e.loadNamespaces(t,dc(e,s))},uc=(e,t,s,r)=>{if(mc(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return hc(e,s,r);s.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,dc(e,r))},mc=e=>"string"==typeof e,pc=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gc={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},fc=e=>gc[e];let xc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(pc,fc)};let yc;const vc={type:"3rdParty",init(e){((e={})=>{xc={...xc,...e}})(e.options.react),(e=>{yc=e})(e)}},bc=J.createContext();class wc{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const jc=(e,t,s,r)=>e.getFixedT(t,s,r),_c=(e,t={})=>{const{i18n:s}=t,{i18n:r,defaultNS:a}=J.useContext(bc)||{},i=s||r||yc;if(i&&!i.reportNamespaces&&(i.reportNamespaces=new wc),!i){cc(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return mc(t)?t:"object"==typeof(s=t)&&null!==s&&mc(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var s},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}i.options.react?.wait&&cc(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const n={...xc,...i.options.react,...t},{useSuspense:o,keyPrefix:l}=n;let c=a||i.options?.defaultNS;c=mc(c)?[c]:c||["translation"],i.reportNamespaces.addUsedNamespaces?.(c);const d=(i.isInitialized||i.initializedStoreOnce)&&c.every((e=>((e,t,s={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:s.lng,precheck:(t,r)=>{if(s.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(cc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,i,n))),h=((e,t,s,r)=>J.useCallback(jc(e,t,s,r),[e,t,s,r]))(i,t.lng||null,"fallback"===n.nsMode?c:c[0],l),u=()=>h,m=()=>jc(i,t.lng||null,"fallback"===n.nsMode?c:c[0],l),[p,g]=J.useState(u);let f=c.join();t.lng&&(f=`${t.lng}${f}`);const x=((e,t)=>{const s=J.useRef();return J.useEffect((()=>{s.current=e}),[e,t]),s.current})(f),y=J.useRef(!0);J.useEffect((()=>{const{bindI18n:e,bindI18nStore:s}=n;y.current=!0,d||o||(t.lng?uc(i,t.lng,c,(()=>{y.current&&g(m)})):hc(i,c,(()=>{y.current&&g(m)}))),d&&x&&x!==f&&y.current&&g(m);const r=()=>{y.current&&g(m)};return e&&i?.on(e,r),s&&i?.store.on(s,r),()=>{y.current=!1,i&&e?.split(" ").forEach((e=>i.off(e,r))),s&&i&&s.split(" ").forEach((e=>i.store.off(e,r)))}}),[i,f]),J.useEffect((()=>{y.current&&d&&g(u)}),[i,l,d]);const v=[p,i,d];if(v.t=p,v.i18n=i,v.ready=d,d)return v;if(!d&&!o)return v;throw new Promise((e=>{t.lng?uc(i,t.lng,c,(()=>e())):hc(i,c,(()=>e()))}))},Nc=({className:t})=>{const{t:s}=_c();return e.jsx("img",{src:"/LOGO UFC.png",alt:s("logo.alt"),className:`h-24 w-auto object-contain ${t}`})};
/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var kc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=(e,t)=>{const s=J.forwardRef((({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:n="",children:o,...l},c)=>{return J.createElement("svg",{ref:c,...kc,width:r,height:r,stroke:s,strokeWidth:i?24*Number(a)/Number(r):a,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,n].join(" "),...l},[...t.map((([e,t])=>J.createElement(e,t))),...Array.isArray(o)?o:[o]]);var d}));return s.displayName=`${e}`,s},Cc=Sc("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Pc=Sc("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Tc=Sc("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ec=Sc("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Ac=Sc("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Rc=Sc("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Oc=Sc("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Lc=Sc("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Mc=Sc("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ic=Sc("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]),Dc=Sc("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),$c=Sc("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Vc=Sc("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Fc=Sc("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),Uc=Sc("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Bc=Sc("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),qc=Sc("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),zc=Sc("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Hc=Sc("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Kc=Sc("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]),Gc=Sc("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Wc=Sc("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Jc=Sc("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Yc=Sc("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Xc=Sc("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Zc=Sc("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Qc=Sc("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ed=Sc("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),td=Sc("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),sd=Sc("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),rd=Sc("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ad=Sc("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),id=Sc("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),nd=Sc("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),od=Sc("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ld=Sc("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),cd=Sc("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),dd=Sc("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),hd=Sc("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ud=Sc("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),md=Sc("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),pd=Sc("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gd=Sc("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),fd=Sc("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xd=Sc("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),yd=Sc("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vd=Sc("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),bd=Sc("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),wd=Sc("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jd=Sc("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),_d=l,Nd=c,kd=i,Sd=r,Cd=Y.forwardRef((({className:t,...r},a)=>e.jsx(s,{className:sc("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})));Cd.displayName=s.displayName;const Pd=ic("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Td=Y.forwardRef((({side:t="right",className:s,children:r,...n},o)=>e.jsxs(Sd,{children:[e.jsx(Cd,{}),e.jsxs(a,{ref:o,className:sc(Pd({side:t}),s),...n,children:[r,e.jsxs(i,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(wd,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));Td.displayName=a.displayName;const Ed=({className:t,...s})=>e.jsx("div",{className:sc("flex flex-col space-y-2 text-center sm:text-left",t),...s});Ed.displayName="SheetHeader";const Ad=Y.forwardRef((({className:t,...s},r)=>e.jsx(n,{ref:r,className:sc("text-lg font-semibold text-foreground",t),...s})));Ad.displayName=n.displayName;Y.forwardRef((({className:t,...s},r)=>e.jsx(o,{ref:r,className:sc("text-sm text-muted-foreground",t),...s}))).displayName=o.displayName;const Rd={},Od=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in Rd)return;Rd[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,s&&a.setAttribute("nonce",s),document.head.appendChild(a),t?new Promise(((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))};class Ld extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Md extends Ld{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Id extends Ld{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Dd extends Ld{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $d;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}($d||($d={}));var Vd=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};class Fd{constructor(e,{headers:t={},customFetch:s,region:r=$d.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Od((async()=>{const{default:e}=await Promise.resolve().then((()=>Qd));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Vd(this,void 0,void 0,(function*(){try{const{headers:r,method:a,body:i}=t;let n,o={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(o["x-region"]=l),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",n=i):"string"==typeof i?(o["Content-Type"]="text/plain",n=i):"undefined"!=typeof FormData&&i instanceof FormData?n=i:(o["Content-Type"]="application/json",n=JSON.stringify(i)));const c=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:n}).catch((e=>{throw new Md(e)})),d=c.headers.get("x-relay-error");if(d&&"true"===d)throw new Id(c);if(!c.ok)throw new Dd(c);let h,u=(null!==(s=c.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return h="application/json"===u?yield c.json():"application/octet-stream"===u?yield c.blob():"text/event-stream"===u?c:"multipart/form-data"===u?yield c.formData():yield c.text(),{data:h,error:null}}catch(r){return{data:null,error:r}}}))}}var Ud={},Bd={},qd={},zd={},Hd={},Kd={},Gd=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const Wd=Gd.fetch,Jd=Gd.fetch.bind(Gd),Yd=Gd.Headers,Xd=Gd.Request,Zd=Gd.Response,Qd=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yd,Request:Xd,Response:Zd,default:Jd,fetch:Wd},Symbol.toStringTag,{value:"Module"})),eh=X(Qd);var th={};Object.defineProperty(th,"__esModule",{value:!0});let sh=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};th.default=sh;var rh=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kd,"__esModule",{value:!0});const ah=rh(eh),ih=rh(th);Kd.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=ah.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,s,r;let a=null,i=null,n=null,o=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(s=e.headers.get("content-range"))||void 0===s?void 0:s.split("/");r&&c&&c.length>1&&(n=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,n=null,o=406,l="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(i=[],a=null,o=200,l="OK")}catch(c){404===e.status&&""===t?(o=204,l="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null==a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,o=200,l="OK"),a&&this.shouldThrowOnError)throw new ih.default(a)}return{error:a,data:i,count:n,status:o,statusText:l}}));return this.shouldThrowOnError||(s=s.catch((e=>{var t,s,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(s=null==e?void 0:e.stack)&&void 0!==s?s:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),s.then(e,t)}returns(){return this}overrideTypes(){return this}};var nh=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hd,"__esModule",{value:!0});const oh=nh(Kd);let lh=class extends oh.default{select(e){let t=!1;const s=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:a=r}={}){const i=a?`${a}.order`:"order",n=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${n?`${n},`:""}${e}.${t?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const r=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){const a=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:a=!1,format:i="text"}={}){var n;const o=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(n=this.headers.Accept)&&void 0!==n?n:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hd.default=lh;var ch=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zd,"__esModule",{value:!0});const dh=ch(Hd);let hh=class extends dh.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===s?"":`(${s})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};zd.default=hh;var uh=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qd,"__esModule",{value:!0});const mh=uh(zd);qd.default=class{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=t,this.schema=s,this.fetch=r}select(e,{head:t=!1,count:s}={}){const r=t?"HEAD":"GET";let a=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e))).join("");return this.url.searchParams.set("select",i),s&&(this.headers.Prefer=`count=${s}`),new mh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),s||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new mh.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:a=!0}={}){const i=[`resolution=${s?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new mh.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new mh.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new mh.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var ph={},gh={};Object.defineProperty(gh,"__esModule",{value:!0}),gh.version=void 0,gh.version="0.0.0-automated",Object.defineProperty(ph,"__esModule",{value:!0}),ph.DEFAULT_HEADERS=void 0;const fh=gh;ph.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fh.version}`};var xh=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bd,"__esModule",{value:!0});const yh=xh(qd),vh=xh(zd),bh=ph;Bd.default=class e{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},bh.DEFAULT_HEADERS),t),this.schemaName=s,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new yh.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:r=!1,count:a}={}){let i;const n=new URL(`${this.url}/rpc/${e}`);let o;s||r?(i=s?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{n.searchParams.append(e,t)}))):(i="POST",o=t);const l=Object.assign({},this.headers);return a&&(l.Prefer=`count=${a}`),new vh.default({method:i,url:n,headers:l,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};var wh=Z&&Z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.PostgrestError=Ud.PostgrestBuilder=Ud.PostgrestTransformBuilder=Ud.PostgrestFilterBuilder=Ud.PostgrestQueryBuilder=Ud.PostgrestClient=void 0;const jh=wh(Bd);Ud.PostgrestClient=jh.default;const _h=wh(qd);Ud.PostgrestQueryBuilder=_h.default;const Nh=wh(zd);Ud.PostgrestFilterBuilder=Nh.default;const kh=wh(Hd);Ud.PostgrestTransformBuilder=kh.default;const Sh=wh(Kd);Ud.PostgrestBuilder=Sh.default;const Ch=wh(th);Ud.PostgrestError=Ch.default;var Ph=Ud.default={PostgrestClient:jh.default,PostgrestQueryBuilder:_h.default,PostgrestFilterBuilder:Nh.default,PostgrestTransformBuilder:kh.default,PostgrestBuilder:Sh.default,PostgrestError:Ch.default};const{PostgrestClient:Th,PostgrestQueryBuilder:Eh,PostgrestFilterBuilder:Ah,PostgrestTransformBuilder:Rh,PostgrestBuilder:Oh,PostgrestError:Lh}=Ph;let Mh;Mh="undefined"==typeof window?require("ws"):window.WebSocket;const Ih={"X-Client-Info":"realtime-js/2.11.10"};var Dh,$h,Vh,Fh,Uh,Bh;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Dh||(Dh={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}($h||($h={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Vh||(Vh={})),function(e){e.websocket="websocket"}(Fh||(Fh={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Uh||(Uh={}));class qh{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const n=s.decode(e.slice(i,i+r));i+=r;const o=s.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:n,event:o,payload:JSON.parse(s.decode(e.slice(i,e.byteLength)))}}}class zh{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Bh||(Bh={}));const Hh=(e,t,s={})=>{var r;const a=null!==(r=s.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((s,r)=>(s[r]=Kh(r,e,t,a),s)),{})},Kh=(e,t,s,r)=>{const a=t.find((t=>t.name===e)),i=null==a?void 0:a.type,n=s[e];return i&&!r.includes(i)?Gh(i,n):Wh(n)},Gh=(e,t)=>{if("_"===e.charAt(0)){const s=e.slice(1,e.length);return Zh(t,s)}switch(e){case Bh.bool:return Jh(t);case Bh.float4:case Bh.float8:case Bh.int2:case Bh.int4:case Bh.int8:case Bh.numeric:case Bh.oid:return Yh(t);case Bh.json:case Bh.jsonb:return Xh(t);case Bh.timestamp:return Qh(t);case Bh.abstime:case Bh.date:case Bh.daterange:case Bh.int4range:case Bh.int8range:case Bh.money:case Bh.reltime:case Bh.text:case Bh.time:case Bh.timestamptz:case Bh.timetz:case Bh.tsrange:case Bh.tstzrange:default:return Wh(t)}},Wh=e=>e,Jh=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yh=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xh=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Zh=(e,t)=>{if("string"!=typeof e)return e;const s=e.length-1,r=e[s];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,s);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map((e=>Gh(t,e)))}return e},Qh=e=>"string"==typeof e?e.replace(" ","T"):e,eu=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class tu{constructor(e,t,s={},r=1e4){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var su,ru,au,iu;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(su||(su={}));class nu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},(e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nu.syncState(this.state,e,t,s),this.pendingDiffs.forEach((e=>{this.state=nu.syncDiff(this.state,e,t,s)})),this.pendingDiffs=[],r()})),this.channel._on(s.diff,{},(e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=nu.syncDiff(this.state,e,t,s),r())})),this.onJoin(((e,t,s)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:s})})),this.onLeave(((e,t,s)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:s})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,s,r){const a=this.cloneDeep(e),i=this.transformState(t),n={},o={};return this.map(a,((e,t)=>{i[e]||(o[e]=t)})),this.map(i,((e,t)=>{const s=a[e];if(s){const r=t.map((e=>e.presence_ref)),a=s.map((e=>e.presence_ref)),i=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=s.filter((e=>r.indexOf(e.presence_ref)<0));i.length>0&&(n[e]=i),l.length>0&&(o[e]=l)}else n[e]=t})),this.syncDiff(a,{joins:n,leaves:o},s,r)}static syncDiff(e,t,s,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(a,((t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const s=e[t].map((e=>e.presence_ref)),r=i.filter((e=>s.indexOf(e.presence_ref)<0));e[t].unshift(...r)}s(t,i,r)})),this.map(i,((t,s)=>{let a=e[t];if(!a)return;const i=s.map((e=>e.presence_ref));a=a.filter((e=>i.indexOf(e.presence_ref)<0)),e[t]=a,r(t,a,s),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((s=>t(s,e[s])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,s)=>{const r=e[s];return t[s]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(ru||(ru={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(au||(au={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(iu||(iu={}));class ou{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=$h.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new tu(this,Vh.join,this.params,this.timeout),this.rejoinTimer=new zh((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=$h.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$h.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=$h.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$h.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Vh.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new nu(this),this.broadcastEndpointURL=eu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:n}}=this.params;this._onError((t=>null==e?void 0:e(iu.CHANNEL_ERROR,t))),this._onClose((()=>null==e?void 0:e(iu.CLOSED)));const o={},l={broadcast:a,presence:i,postgres_changes:null!==(r=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map((e=>e.filter)))&&void 0!==r?r:[],private:n};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async({postgres_changes:t})=>{var s;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,a=null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0,i=[];for(let s=0;s<a;s++){const a=r[s],{filter:{event:n,schema:o,table:l,filter:c}}=a,d=t&&t[s];if(!d||d.event!==n||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=$h.errored,void(null==e||e(iu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=i,void(e&&e(iu.SUBSCRIBED))}null==e||e(iu.SUBSCRIBED)})).receive("error",(t=>{this.state=$h.errored,null==e||e(iu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null==e||e(iu.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((s=>{var r,a,i;const n=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||s("ok"),n.receive("ok",(()=>s("ok"))),n.receive("error",(()=>s("error"))),n.receive("timeout",(()=>s("timed out")))}));{const{event:i,payload:n}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:n,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(s=t.timeout)&&void 0!==s?s:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$h.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vh.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise((s=>{const r=new tu(this,Vh.leave,{},e);r.receive("ok",(()=>{t(),s("ok")})).receive("timeout",(()=>{t(),s("timed out")})).receive("error",(()=>{s("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}teardown(){this.pushBuffer.forEach((e=>e.destroy())),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,s){const r=new AbortController,a=setTimeout((()=>r.abort()),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new tu(this,e,t,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,a;const i=e.toLocaleLowerCase(),{close:n,error:o,leave:l,join:c}=Vh;if(s&&[n,o,l,c].indexOf(i)>=0&&s!==this._joinRef())return;let d=this._onMessage(i,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,s,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(s=e.filter)||void 0===s?void 0:s.event)||void 0===r?void 0:r.toLocaleLowerCase())===i})).map((e=>e.callback(d,s))):null===(a=this.bindings[i])||void 0===a||a.filter((e=>{var s,r,a,n,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,n=null===(s=e.filter)||void 0===s?void 0:s.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===n||(null==n?void 0:n.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const s=null===(o=null===(n=null==e?void 0:e.filter)||void 0===n?void 0:n.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===s||s===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i})).map((e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:s,commit_timestamp:r,type:a,errors:i}=e,n={schema:t,table:s,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};d=Object.assign(Object.assign({},n),this._getPayloadRecords(e))}e.callback(d,s)}))}_isClosed(){return this.state===$h.closed}_isJoined(){return this.state===$h.joined}_isJoining(){return this.state===$h.joining}_isLeaving(){return this.state===$h.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===s&&ou.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vh.close,{},e)}_onError(e){this._on(Vh.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$h.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Hh(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Hh(e.columns,e.old_record)),t}}const lu=()=>{};class cu{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Ih,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lu,this.ref=0,this.logger=lu,this.conn=null,this.sendBuffer=[],this.serializer=new qh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Od((async()=>{const{default:e}=await Promise.resolve().then((()=>Qd));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${Fh.websocket}`,this.httpEndpoint=eu(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),((null==t?void 0:t.logLevel)||(null==t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zh((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Mh),this.transport){const e="undefined"!=typeof window&&this.transport===window.WebSocket;return this.conn=e?new this.transport(this.endpointURL()):new this.transport(this.endpointURL(),void 0,{headers:this.headers}),void this.setupConnection()}this.conn=new du(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach((e=>e.teardown())))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels=this.channels.filter((t=>t._joinRef!==e._joinRef)),0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Dh.connecting:return Uh.Connecting;case Dh.open:return Uh.Open;case Dh.closing:return Uh.Closing;default:return Uh.Closed}}isConnected(){return this.connectionState()===Uh.Open}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find((e=>e.topic===s));if(r)return r;{const s=new ou(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:s,payload:r,ref:a}=e,i=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${s} (${a})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),e.joinedOnce&&e._isJoined()&&e._push(Vh.access_token,{access_token:t})})))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t.topic!==e.topic))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:s,payload:r,ref:a}=e;"phoenix"===t&&"phx_reply"===s&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${s} ${a&&"("+a+")"||""}`,r),Array.from(this.channels).filter((e=>e._isMember(t))).forEach((e=>e._trigger(s,r,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Vh.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const s=e.match(/\?/)?"&":"?";return`${e}${s}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class du{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dh.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class hu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function uu(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class mu extends hu{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pu extends hu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var gu=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};const fu=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Od((async()=>{const{default:e}=await Promise.resolve().then((()=>Qd));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},xu=e=>{if(Array.isArray(e))return e.map((e=>xu(e)));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((([e,s])=>{const r=e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[r]=xu(s)})),t};var yu=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};const vu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bu=(e,t,s)=>yu(void 0,void 0,void 0,(function*(){const r=yield gu(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Od((()=>Promise.resolve().then((()=>Qd))),void 0)).Response:Response}));e instanceof r&&!(null==s?void 0:s.noResolveJson)?e.json().then((s=>{t(new mu(vu(s),e.status||500))})).catch((e=>{t(new pu(vu(e),e))})):t(new pu(vu(e),e))}));function wu(e,t,s,r,a,i){return yu(this,void 0,void 0,(function*(){return new Promise(((n,o)=>{e(s,((e,t,s,r)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),s))})(t,r,a,i)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()})).then((e=>n(e))).catch((e=>bu(e,o,r)))}))}))}function ju(e,t,s,r){return yu(this,void 0,void 0,(function*(){return wu(e,"GET",t,s,r)}))}function _u(e,t,s,r,a){return yu(this,void 0,void 0,(function*(){return wu(e,"POST",t,r,a,s)}))}function Nu(e,t,s,r,a){return yu(this,void 0,void 0,(function*(){return wu(e,"DELETE",t,r,a,s)}))}var ku=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};const Su={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pu{constructor(e,t={},s,r){this.url=e,this.headers=t,this.bucketId=s,this.fetch=fu(r)}uploadOrUpdate(e,t,s,r){return ku(this,void 0,void 0,(function*(){try{let a;const i=Object.assign(Object.assign({},Cu),r);let n=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!=typeof Blob&&s instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(a=s,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=s,n["cache-control"]=`max-age=${i.cacheControl}`,n["content-type"]=i.contentType,o&&(n["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null==r?void 0:r.headers)&&(n=Object.assign(Object.assign({},n),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:n},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{})),h=yield d.json();if(d.ok)return{data:{path:l,id:h.Id,fullPath:h.Key},error:null};return{data:null,error:h}}catch(a){if(uu(a))return{data:null,error:a};throw a}}))}upload(e,t,s){return ku(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,s)}))}uploadToSignedUrl(e,t,s,r){return ku(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),n=new URL(this.url+`/object/upload/sign/${i}`);n.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Cu.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&s instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(e=s,e.append("cacheControl",t.cacheControl)):(e=s,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const o=yield this.fetch(n.toString(),{method:"PUT",body:e,headers:i}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(uu(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return ku(this,void 0,void 0,(function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield _u(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),i=new URL(this.url+a.url),n=i.searchParams.get("token");if(!n)throw new hu("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:n},error:null}}catch(s){if(uu(s))return{data:null,error:s};throw s}}))}update(e,t,s){return ku(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,s)}))}move(e,t,s){return ku(this,void 0,void 0,(function*(){try{return{data:yield _u(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(uu(r))return{data:null,error:r};throw r}}))}copy(e,t,s){return ku(this,void 0,void 0,(function*(){try{return{data:{path:(yield _u(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(uu(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,s){return ku(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),a=yield _u(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const i=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(r){if(uu(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,s){return ku(this,void 0,void 0,(function*(){try{const r=yield _u(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null}))),error:null}}catch(r){if(uu(r))return{data:null,error:r};throw r}}))}download(e,t){return ku(this,void 0,void 0,(function*(){const s=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield ju(this.fetch,`${this.url}/${s}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(uu(i))return{data:null,error:i};throw i}}))}info(e){return ku(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ju(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:xu(e),error:null}}catch(s){if(uu(s))return{data:null,error:s};throw s}}))}exists(e){return ku(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,s,r){return yu(this,void 0,void 0,(function*(){return wu(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(uu(s)&&s instanceof pu){const e=s.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:s}}throw s}}))}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],a=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==n&&r.push(n);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${s}${o}`)}}}remove(e){return ku(this,void 0,void 0,(function*(){try{return{data:yield Nu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(uu(t))return{data:null,error:t};throw t}}))}list(e,t,s){return ku(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},Su),t),{prefix:e||""});return{data:yield _u(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(uu(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Tu={"X-Client-Info":"storage-js/2.7.1"};var Eu=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};class Au{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Tu),t),this.fetch=fu(s)}listBuckets(){return Eu(this,void 0,void 0,(function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(uu(e))return{data:null,error:e};throw e}}))}getBucket(e){return Eu(this,void 0,void 0,(function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(uu(t))return{data:null,error:t};throw t}}))}createBucket(e,t={public:!1}){return Eu(this,void 0,void 0,(function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(uu(s))return{data:null,error:s};throw s}}))}updateBucket(e,t){return Eu(this,void 0,void 0,(function*(){try{const s=yield function(e,t,s,r,a){return yu(this,void 0,void 0,(function*(){return wu(e,"PUT",t,r,a,s)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:s,error:null}}catch(s){if(uu(s))return{data:null,error:s};throw s}}))}emptyBucket(e){return Eu(this,void 0,void 0,(function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(uu(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return Eu(this,void 0,void 0,(function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(uu(t))return{data:null,error:t};throw t}}))}}class Ru extends Au{constructor(e,t={},s){super(e,t,s)}from(e){return new Pu(this.url,this.headers,e,this.fetch)}}let Ou="";Ou="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Lu={headers:{"X-Client-Info":`supabase-js-${Ou}/2.50.0`}},Mu={schema:"public"},Iu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Du={};var $u=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};const Vu=e=>{let t;return t=e||("undefined"==typeof fetch?Jd:fetch),(...e)=>t(...e)},Fu=(e,t,s)=>{const r=Vu(s),a="undefined"==typeof Headers?Yd:Headers;return(s,i)=>$u(void 0,void 0,void 0,(function*(){var n;const o=null!==(n=yield t())&&void 0!==n?n:e;let l=new a(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(s,Object.assign(Object.assign({},i),{headers:l}))}))};var Uu=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};const Bu="2.70.0",qu=3e4,zu=9e4,Hu={"X-Client-Info":`gotrue-js/${Bu}`},Ku="X-Supabase-Api-Version",Gu={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Wu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ju extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Yu(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Xu extends Ju{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class Zu extends Ju{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Qu extends Ju{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class em extends Qu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class tm extends Qu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sm extends Qu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rm extends Qu{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class am extends Qu{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class im extends Qu{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function nm(e){return Yu(e)&&"AuthRetryableFetchError"===e.name}class om extends Qu{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class lm extends Qu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dm=" \t\n\r=".split(""),hm=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dm.length;t+=1)e[dm[t].charCodeAt(0)]=-2;for(let t=0;t<cm.length;t+=1)e[cm[t].charCodeAt(0)]=t;return e})();function um(e,t,s){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(cm[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(cm[e]),t.queuedBits-=6}}function mm(e,t,s){const r=hm[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function pm(e){const t=[],s=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,s){if(0===t.utf8seq){if(e<=127)return void s(e);for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&s(t.codepoint)}}(e,r,s)};for(let n=0;n<e.length;n+=1)mm(e.charCodeAt(n),a,i);return t.join("")}function gm(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function fm(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)mm(e.charCodeAt(a),s,r);return new Uint8Array(t)}function xm(e){const t=[];return function(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(s+1)-56320&65535|t),s+=1}gm(r,t)}}(e,(e=>t.push(e))),new Uint8Array(t)}function ym(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach((e=>um(e,s,r))),um(null,s,r),t.join("")}const vm=()=>"undefined"!=typeof window&&"undefined"!=typeof document,bm={tested:!1,writable:!1},wm=()=>{if(!vm())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(bm.tested)return bm.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bm.tested=!0,bm.writable=!0}catch(t){bm.tested=!0,bm.writable=!1}return bm.writable};const jm=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Od((async()=>{const{default:e}=await Promise.resolve().then((()=>Qd));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},_m=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Nm=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch(Yx){return s}},km=async(e,t)=>{await e.removeItem(t)};class Sm{constructor(){this.promise=new Sm.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Cm(e){const t=e.split(".");if(3!==t.length)throw new lm("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Wu.test(t[s]))throw new lm("JWT not in base64url format");return{header:JSON.parse(pm(t[0])),payload:JSON.parse(pm(t[1])),signature:fm(t[2]),raw:{header:t[0],payload:t[1]}}}function Pm(e){return("0"+e.toString(16)).substr(-2)}async function Tm(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Em(e,t,s=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*t));return s}return crypto.getRandomValues(e),Array.from(e,Pm).join("")}();let a=r;s&&(a+="/PASSWORD_RECOVERY"),await _m(e,`${t}-code-verifier`,a);const i=await Tm(r);return[i,r===i?"plain":"s256"]}Sm.promiseConstructor=Promise;const Am=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Rm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Om(e){if(!Rm.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Lm=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]])}return s};const Mm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Im=[502,503,504];async function Dm(e){var t,s;if(!("object"==typeof(s=e)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"==typeof s.json))throw new im(Mm(e),0);if(Im.includes(e.status))throw new im(Mm(e),e.status);let r,a;try{r=await e.json()}catch(n){throw new Zu(Mm(n),n)}const i=function(e){const t=e.headers.get(Ku);if(!t)return null;if(!t.match(Am))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(n){return null}}(e);if(i&&i.getTime()>=Gu.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?a=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new om(Mm(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new em}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new om(Mm(r),e.status,r.weak_password.reasons);throw new Xu(Mm(r),e.status||500,a)}async function $m(e,t,s,r){var a;const i=Object.assign({},null==r?void 0:r.headers);i[Ku]||(i[Ku]=Gu.name),(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const n=null!==(a=null==r?void 0:r.query)&&void 0!==a?a:{};(null==r?void 0:r.redirectTo)&&(n.redirect_to=r.redirectTo);const o=Object.keys(n).length?"?"+new URLSearchParams(n).toString():"",l=await async function(e,t,s,r,a,i){const n=((e,t,s,r)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),s))})(t,r,a,i);let o;try{o=await e(s,Object.assign({},n))}catch(l){throw new im(Mm(l),0)}o.ok||await Dm(o);if(null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await Dm(l)}}(e,t,s+o,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Vm(e){var t;let s=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:s,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Fm(e){const t=Vm(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function Um(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Bm(e){return{data:e,error:null}}function qm(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:a,verification_type:i}=e,n=Lm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:s,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},n)},error:null}}function zm(e){return e}const Hm=["global","local","others"];var Km=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]])}return s};class Gm{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=jm(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Hm[0]){if(Hm.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hm.join(", ")}`);try{return await $m(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Yu(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await $m(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Um})}catch(s){if(Yu(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Km(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=null==s?void 0:s.newEmail,delete r.newEmail),await $m(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:qm,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Yu(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $m(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Um})}catch(t){if(Yu(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,a,i,n,o;try{const l={nextPage:null,lastPage:0,total:0},c=await $m(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(a=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:zm});if(c.error)throw c.error;const d=await c.json(),h=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,u=null!==(o=null===(n=c.headers.get("link"))||void 0===n?void 0:n.split(","))&&void 0!==o?o:[];return u.length>0&&(u.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t})),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Yu(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Om(e);try{return await $m(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Um})}catch(t){if(Yu(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Om(e);try{return await $m(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Um})}catch(s){if(Yu(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){Om(e);try{return await $m(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Um})}catch(s){if(Yu(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Om(e.userId);try{const{data:t,error:s}=await $m(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:s}}catch(t){if(Yu(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Om(e.userId),Om(e.id);try{return{data:await $m(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Yu(t))return{data:null,error:t};throw t}}}const Wm={getItem:e=>wm()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{wm()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{wm()&&globalThis.localStorage.removeItem(e)}};function Jm(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const Ym=!!(globalThis&&wm()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Xm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zm extends Xm{}async function Qm(e,t,s){const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort()}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw new Zm(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ym)try{await globalThis.navigator.locks.query()}catch(a){}return await s()}try{return await s()}finally{}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const ep={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tp(e,t,s){return await s()}class sp{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sp.nextInstanceID,sp.nextInstanceID+=1,this.instanceID>0&&vm();const r=Object.assign(Object.assign({},ep),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Gm({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=jm(r.fetch),this.lock=r.lock||tp,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:vm()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Qm:this.lock=tp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:wm()?this.storage=Wm:(this.memoryStorage={},this.storage=Jm(this.memoryStorage)):(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),vm()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bu}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},s=new URL(e);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach(((e,s)=>{t[s]=e}))}catch(r){}return s.searchParams.forEach(((e,s)=>{t[s]=e})),t}(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),vm()&&this.detectSessionInUrl&&"none"!==s){const{data:r,error:a}=await this._getSessionFromURL(t,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Yu(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:n}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",n),await this._saveSession(i),setTimeout((async()=>{"recovery"===n?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Yu(t)?{error:t}:{error:new Zu("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const a=await $m(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Vm}),{data:i,error:n}=a;if(n||!i)return{data:{user:null,session:null},error:n};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Yu(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,s,r;try{let a;if("email"in e){const{email:s,password:r,options:i}=e;let n=null,o=null;"pkce"===this.flowType&&([n,o]=await Em(this.storage,this.storageKey)),a=await $m(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:s,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:n,code_challenge_method:o},xform:Vm})}else{if(!("phone"in e))throw new sm("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:n}=e;a=await $m(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(s=null==n?void 0:n.data)&&void 0!==s?s:{},channel:null!==(r=null==n?void 0:n.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Vm})}}const{data:i,error:n}=a;if(n||!i)return{data:{user:null,session:null},error:n};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Yu(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:r,options:a}=e;t=await $m(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Fm})}else{if(!("phone"in e))throw new sm("You must provide either an email or phone number and a password");{const{phone:s,password:r,options:a}=e;t=await $m(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Fm})}}const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r}):{data:{user:null,session:null},error:new tm}}catch(t){if(Yu(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,r,a,i,n,o,l,c,d,h,u;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:h,wallet:u,statement:g,options:f}=e;let x;if(vm())if("object"==typeof u)x=u;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!=typeof u||!(null==f?void 0:f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=u}const y=new URL(null!==(t=null==f?void 0:f.url)&&void 0!==t?t:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==f?void 0:f.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");m="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in x&&"function"==typeof x.signMessage&&"publicKey"in x&&"object"==typeof x&&x.publicKey&&"toBase58"in x.publicKey&&"function"==typeof x.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${y.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(r=null===(s=null==f?void 0:f.signInWithSolana)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(a=null==f?void 0:f.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...(null===(i=null==f?void 0:f.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...(null===(n=null==f?void 0:f.signInWithSolana)||void 0===n?void 0:n.chainId)?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...(null===(o=null==f?void 0:f.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...(null===(l=null==f?void 0:f.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==f?void 0:f.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...f.signInWithSolana.resources.map((e=>`- ${e}`))]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(m),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:s}=await $m(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ym(p)},(null===(h=e.options)||void 0===h?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Vm});if(s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:s}):{data:{user:null,session:null},error:new tm}}catch(g){if(Yu(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const t=await Nm(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(null!=t?t:"").split("/");try{const{data:t,error:a}=await $m(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Vm});if(await km(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new tm}}catch(a){if(Yu(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:a,nonce:i}=e,n=await $m(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Vm}),{data:o,error:l}=n;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new tm}}catch(t){if(Yu(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,n=null;"pkce"===this.flowType&&([i,n]=await Em(this.storage,this.storageKey));const{error:o}=await $m(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(s=null==a?void 0:a.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:n},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:s}=e,{data:n,error:o}=await $m(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},create_user:null===(a=null==s?void 0:s.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(i=null==s?void 0:s.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:o}}throw new sm("You must provide either an email or phone number.")}catch(n){if(Yu(n))return{data:{user:null,session:null},error:n};throw n}}async verifyOtp(e){var t,s;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(s=e.options)||void 0===s?void 0:s.captchaToken);const{data:i,error:n}=await $m(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Vm});if(n)throw n;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(Yu(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await Em(this.storage,this.storageKey)),await $m(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==s?s:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:Bm})}catch(a){if(Yu(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new em;const{error:r}=await $m(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Yu(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:a}=e,{error:i}=await $m(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:s,type:r,options:a}=e,{data:i,error:n}=await $m(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:n}}throw new sm("You must provide either an email or phone number and a type")}catch(t){if(Yu(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch(e){}})()),s}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Nm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=!!e.expires_at&&1e3*e.expires_at-Date.now()<zu;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,s,r)=>(t||"user"!==s||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,s,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await $m(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Um}):await this._useSession((async e=>{var t,s,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await $m(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,xform:Um}):{data:{user:null},error:new em}}))}catch(t){if(Yu(t))return function(e){return Yu(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await km(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async s=>{const{data:r,error:a}=s;if(a)throw a;if(!r.session)throw new em;const i=r.session;let n=null,o=null;"pkce"===this.flowType&&null!=e.email&&([n,o]=await Em(this.storage,this.storageKey));const{data:l,error:c}=await $m(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:n,code_challenge_method:o}),jwt:i.access_token,xform:Um});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}))}catch(s){if(Yu(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new em;const t=Date.now()/1e3;let s=t,r=!0,a=null;const{payload:i}=Cm(e.access_token);if(i.exp&&(s=i.exp,r=s<=t),r){const{session:t,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Yu(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var s;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(s=r.session)&&void 0!==s?s:void 0}if(!(null==e?void 0:e.refresh_token))throw new em;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Yu(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!vm())throw new rm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new am("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new rm("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new am("No code detected.");const{data:t,error:s}=await this._exchangeCodeForSession(e.code);if(s)throw s;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:n,expires_at:o,token_type:l}=e;if(!(a&&n&&i&&l))throw new rm("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(n);let h=c+d;o&&(h=parseInt(o));const{data:u,error:m}=await this._getUser(a);if(m)throw m;const p={provider_token:s,provider_refresh_token:r,access_token:a,expires_in:d,expires_at:h,refresh_token:i,token_type:l,user:u.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(s){if(Yu(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Nm(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var s;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(s=r.session)||void 0===s?void 0:s.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Yu(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await km(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession((async t=>{var s,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a)}}))}async resetPasswordForEmail(e,t={}){let s=null,r=null;"pkce"===this.flowType&&([s,r]=await Em(this.storage,this.storageKey,!0));try{return await $m(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Yu(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Yu(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:r}=await this._useSession((async t=>{var s,r,a,i,n;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(s=e.options)||void 0===s?void 0:s.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await $m(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(n=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==n?n:void 0})}));if(r)throw r;return vm()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==s?void 0:s.url),{data:{provider:e.provider,url:null==s?void 0:s.url},error:null}}catch(s){if(Yu(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var s,r;const{data:a,error:i}=t;if(i)throw i;return await $m(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Yu(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(s=async s=>(s>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await $m(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vm})),r=(e,t)=>{const s=200*Math.pow(2,e);return t&&nm(t)&&Date.now()+s-a<qu},new Promise(((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await s(i);if(!r(i,null,t))return void e(t)}catch(a){if(!r(i,a))return void t(a)}})()})))}catch(a){if(this._debug(t,"error",a),Yu(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var s,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),vm()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await Nm(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s))return this._debug(t,"session is not valid"),void(null!==s&&await this._removeSession());const r=1e3*(null!==(e=s.expires_at)&&void 0!==e?e:1/0)-Date.now()<zu;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(nm(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return void this._debug(t,"error",s)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new em;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Sm;const{data:t,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!t.session)throw new em;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),Yu(a)){const e={session:null,error:a};return nm(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map((async s=>{try{await s.callback(e,t)}catch(a){r.push(a)}}));if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _m(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await km(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vm()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),qu);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:s}}=e;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*s.expires_at-t)/qu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(s.refresh_token)}))}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Xm))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vm()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if((null==s?void 0:s.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){const[e,t]=await Em(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(s.toString())}if(null==s?void 0:s.queryParams){const e=new URLSearchParams(s.queryParams);r.push(e.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var s;const{data:r,error:a}=t;return a?{data:null,error:a}:await $m(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})}))}catch(t){if(Yu(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var s,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const n=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await $m(this.fetch,"POST",`${this.url}/factors`,{body:n,headers:this.headers,jwt:null===(s=null==a?void 0:a.session)||void 0===s?void 0:s.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(Yu(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var s;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:n}=await $m(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});return n?{data:null,error:n}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:n})}))}catch(t){if(Yu(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var s;const{data:r,error:a}=t;return a?{data:null,error:a}:await $m(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})}))}catch(t){if(Yu(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(null==e?void 0:e.factors)||[],r=s.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=s.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:s,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,s;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cm(r.access_token);let n=null;i.aal&&(n=i.aal);let o=n;(null!==(s=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==s?s:[]).length>0&&(o="aal2");return{data:{currentLevel:n,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find((t=>t.kid===e));if(s)return s;if(s=this.jwks.keys.find((t=>t.kid===e)),s&&this.jwks_cached_at+6e5>Date.now())return s;const{data:r,error:a}=await $m(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!r.keys||0===r.keys.length)throw new lm("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find((t=>t.kid===e)),!s)throw new lm("No matching signing key found in JWKS");return s}async getClaims(e,t={keys:[]}){try{let s=e;if(!s){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};s=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:n,payload:o}}=Cm(s);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),d=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!(await crypto.subtle.verify(l,d,i,xm(`${n}.${o}`))))throw new lm("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(s){if(Yu(s))return{data:null,error:s};throw s}}}sp.nextInstanceID=0;const rp=sp;class ap extends rp{constructor(e){super(e)}}var ip=function(e,t,s,r){return new(s||(s=Promise))((function(a,i){function n(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}l((r=r.apply(e,t||[])).next())}))};class np{constructor(e,t,s){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const n=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(n);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d=function(e,t){var s,r;const{db:a,auth:i,realtime:n,global:o}=e,{db:l,auth:c,realtime:d,global:h}=t,u={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),n),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},null!==(s=null==h?void 0:h.headers)&&void 0!==s?s:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>Uu(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!=s?s:{},{db:Mu,realtime:Du,auth:Object.assign(Object.assign({},Iu),{storageKey:c}),global:Lu});this.storageKey=null!==(r=d.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=d.global.headers)&&void 0!==a?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=d.auth)&&void 0!==i?i:{},this.headers,d.global.fetch),this.fetch=Fu(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Th(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Fd(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ru(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return ip(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return null!==(t=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,storageKey:a,flowType:i,lock:n,debug:o},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ap({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,flowType:i,lock:n,debug:o,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new cu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){let e=this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}));return e}_handleTokenChanged(e,t,s){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===s?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=s}}const op=((e,t,s)=>new np(e,t,s))("https://gqylknstxjwlybyvvcvx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdxeWxrbnN0eGp3bHlieXZ2Y3Z4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAwOTMyNzIsImV4cCI6MjA2NTY2OTI3Mn0.fdOlalxcPaKzpjaUnFowsY3gz6f0LYmCdE--aJ76zc8");async function lp(e,t,s="ingreso"){const{data:r,error:a}=await op.from("usuario").select("saldo").eq("id",e).single();if(a)throw a;const i=Number(r.saldo)+Number(t),{error:n}=await op.from("usuario").update({saldo:i}).eq("id",e);if(n)throw n;try{await op.from("transacciones_moneda").insert([{usuario_id:e,tipo:"ingreso",cantidad:t,motivo:s}])}catch(o){}return i}async function cp(e,t,s="egreso"){const{data:r,error:a}=await op.from("usuario").select("saldo").eq("id",e).single();if(a)throw a;if(Number(r.saldo)<Number(t))throw new Error("Saldo insuficiente");const i=Number(r.saldo)-Number(t),{error:n}=await op.from("usuario").update({saldo:i}).eq("id",e);if(n)throw n;try{await op.from("transacciones_moneda").insert([{usuario_id:e,tipo:"egreso",cantidad:t,motivo:s}])}catch(o){}return i}const dp=J.createContext(),hp=({children:t})=>{const[s,r]=J.useState(null),[a,i]=J.useState(!0),n=J.useCallback((async()=>{i(!0);const{data:{user:e}}=await op.auth.getUser();if(e){const{data:t}=await op.from("usuario").select("*").eq("correo",e.email).single();r(t?{...t,auth:e}:null)}else r(null);i(!1)}),[]),o=J.useCallback((async()=>{if(s?.id)try{const e=await async function(e){const{data:t,error:s}=await op.from("usuario").select("saldo").eq("id",e).single();if(s)throw s;return Number(t.saldo)}(s.id);r((t=>t?{...t,saldo:e}:null))}catch(e){}}),[s?.id]),l=J.useCallback((async(e,t="ingreso")=>{if(!s?.id)throw new Error("Usuario no autenticado");try{const a=await lp(s.id,e,t);return r((e=>e?{...e,saldo:a}:null)),a}catch(a){throw a}}),[s?.id]),c=J.useCallback((async(e,t="egreso")=>{if(!s?.id)throw new Error("Usuario no autenticado");try{const a=await cp(s.id,e,t);return r((e=>e?{...e,saldo:a}:null)),a}catch(a){throw a}}),[s?.id]),d=J.useCallback((e=>s?.saldo>=e),[s?.saldo]);J.useEffect((()=>{n();const{data:e}=op.auth.onAuthStateChange((()=>{n()}));return()=>{e?.subscription.unsubscribe()}}),[n]);const h={user:s,loading:a,refreshUser:n,updateUserBalance:o,addCoins:l,spendCoins:c,hasEnoughCoins:d};return e.jsx(dp.Provider,{value:h,children:t})},up=()=>J.useContext(dp),mp=({trigger:t,navItems:s})=>{const{t:r}=_c(),{user:a,refreshUser:i}=up(),n=[...(s||[]).map((e=>({icon:e.icon,label:e.label||e.name,path:e.path}))),{icon:yd,label:r("nav.profile"),path:"/profile"},{icon:Fc,label:r("nav.buy_coins"),path:"/coins"},{icon:Bc,label:"Canjear Recompensas",path:"/badges"}];return e.jsxs(_d,{children:[e.jsx(Nd,{asChild:!0,children:t}),e.jsxs(Td,{side:"left",className:"bg-black border-gray-800 text-white w-[280px] sm:w-[320px] flex flex-col",children:[e.jsx(Ed,{className:"mb-6 border-b border-gray-700 pb-4",children:e.jsx(Ad,{children:e.jsxs(Q,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(Nc,{className:"h-8 w-auto"}),e.jsx("span",{className:"font-bold text-xl text-white",children:"SMASH"})]})})}),e.jsxs("div",{className:"flex flex-col h-full pb-10 overflow-y-auto",children:[a&&e.jsxs("div",{className:"mb-6 px-4 py-3 bg-gray-900/50 rounded-lg border border-gray-700 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-300",children:r("sidebar.my_points")}),e.jsxs("div",{className:"flex items-center text-yellow-400 font-bold text-lg",children:[e.jsx(Fc,{className:"h-5 w-5 mr-2"}),a.saldo?.toLocaleString()||0]})]}),e.jsx("nav",{className:"flex-grow space-y-1",children:n.map((t=>e.jsx(kd,{asChild:!0,children:e.jsxs(Q,{to:t.path,className:"flex items-center px-4 py-2.5 rounded-md text-gray-300 hover:bg-gray-800 hover:text-white transition-colors duration-200",children:[t.icon&&e.jsx(t.icon,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium text-sm",children:t.label})]})},t.label)))}),e.jsx("div",{className:"mt-auto space-y-2 border-t border-gray-700 pt-4",children:!a&&e.jsxs(e.Fragment,{children:[e.jsx(kd,{asChild:!0,children:e.jsx(oc,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsx(Q,{to:"/login",children:r("auth.login")})})}),e.jsx(kd,{asChild:!0,children:e.jsx(oc,{className:"w-full bg-red-600 hover:bg-red-700",asChild:!0,children:e.jsx(Q,{to:"/register",children:r("auth.register")})})})]})}),a&&e.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4",children:e.jsx(kd,{asChild:!0,children:e.jsxs(oc,{variant:"ghost",className:"w-full flex items-center justify-start text-red-500 hover:bg-red-900/50 hover:text-red-400",onClick:async()=>{await op.auth.signOut({redirectTo:window.location.origin+"/login"}),localStorage.removeItem("user"),localStorage.removeItem("access_token"),sessionStorage.clear(),i&&i()},children:[e.jsx(Yc,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium",children:r("auth.logout")})]})})})]})]})]})},pp=p,gp=g,fp=J.forwardRef((({className:t,...s},r)=>e.jsx(d,{ref:r,className:`z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-black p-1 text-white shadow-md ${t||""}`,...s})));fp.displayName=d.displayName;J.forwardRef((({className:t,...s},r)=>e.jsx(h,{ref:r,className:`px-2 py-1.5 text-sm font-semibold ${t||""}`,...s}))).displayName=h.displayName;const xp=J.forwardRef((({className:t,...s},r)=>e.jsx(u,{ref:r,className:`flex cursor-pointer select-none items-center rounded-sm px-2 py-2 text-sm outline-none transition-colors hover:bg-gray-800 ${t||""}`,...s})));xp.displayName=u.displayName;const yp=J.forwardRef((({className:t,...s},r)=>e.jsx(m,{ref:r,className:`my-1 h-px bg-gray-700 ${t||""}`,...s})));async function vp(){try{const{data:e,error:t}=await op.from("insignias_catalogo").select("*").eq("disponible",!0).order("orden",{ascending:!0});if(t)throw t;return e||[]}catch(e){throw e}}async function bp(e,t){try{const{data:r}=await op.from("insignias_usuario").select("id").eq("usuario_id",e).eq("insignia_id",t).single();if(r)throw new Error("Ya tienes esta insignia");const a=await async function(e){try{const{data:t,error:s}=await op.from("insignias_catalogo").select("*").eq("id",e).single();if(s)throw s;return t}catch(t){throw t}}(t);if(!a)throw new Error("Insignia no encontrada");if(!a.disponible)throw new Error("Esta insignia no est disponible");const{data:i,error:n}=await op.from("usuario").select("saldo").eq("id",e).single();if(n)throw n;if(Number(i.saldo)<Number(a.precio))throw new Error("Saldo insuficiente para comprar esta insignia");const o=Number(i.saldo)-Number(a.precio),{error:l}=await op.from("usuario").update({saldo:o}).eq("id",e);if(l)throw l;const c=a.fecha_expira?new Date(a.fecha_expira).toISOString():null,{error:d}=await op.from("insignias_usuario").insert([{usuario_id:e,insignia_id:t,precio_pagado:a.precio,fecha_expira:c}]);if(d)throw d;try{await op.from("transacciones_moneda").insert([{usuario_id:e,tipo:"egreso",cantidad:a.precio,motivo:`compra_insignia_${a.codigo}`}])}catch(s){}return{success:!0,nuevoSaldo:o,insignia:a}}catch(r){throw r}}async function wp(e){try{const{data:t,error:s}=await op.from("insignias_usuario").select("\n        *,\n        insignias_catalogo(*)\n      ").eq("usuario_id",e).order("fecha_compra",{ascending:!1});if(s)throw s;return t||[]}catch(t){return[]}}async function jp(e){try{const{data:t,error:s}=await op.from("insignias_usuario").select("\n        *,\n        insignias_catalogo(*)\n      ").eq("usuario_id",e).eq("equipada",!0).single();if(s&&"PGRST116"!==s.code)throw s;return t||null}catch(t){return null}}yp.displayName=m.displayName;const _p=J.createContext(),Np=({children:t})=>{const[s,r]=J.useState(0);return e.jsx(_p.Provider,{value:{triggerBadgeUpdate:()=>{r((e=>e+1))},badgeUpdateTrigger:s},children:t})},kp=()=>{const e=J.useContext(_p);if(!e)throw new Error("useBadgeEvents must be used within a BadgeEventProvider");return e},Sp=e=>{const[t,s]=J.useState(null),[r,a]=J.useState(!1),{badgeUpdateTrigger:i}=kp();return J.useEffect((()=>{(async()=>{if(e)try{a(!0);const t=await jp(e);s(t)}catch(t){s(null)}finally{a(!1)}else s(null)})()}),[e,i]),{equippedBadge:t,loading:r}},Cp=({equippedBadge:t,className:s=""})=>{if(!t?.insignias_catalogo)return null;const r=t.insignias_catalogo;return e.jsx("div",{className:`inline-flex items-center justify-center bg-gradient-to-r from-gray-900/80 to-gray-800/80 border rounded-full p-1 shadow-lg ${(e=>{switch(e){case"comun":default:return"border-gray-500 shadow-gray-500/20";case"rara":return"border-blue-500 shadow-blue-500/20";case"legendaria":return"border-yellow-500 shadow-yellow-500/20"}})(r.rareza)} ${s}`,title:`${r.nombre} - ${r.descripcion}`,style:{verticalAlign:"top"},children:e.jsx("span",{className:"text-sm animate-glow",style:{lineHeight:"1"},children:r.icono})})},Pp=()=>{ee();const{user:t,loading:s,refreshUser:r}=up(),{t:a}=_c(),{equippedBadge:i}=Sp(t?.id);J.useEffect((()=>{const e=async()=>{const e=JSON.parse(localStorage.getItem("user"));if(!e)return;const{data:t}=await op.from("usuario").select("*").eq("correo",e.email).single();t&&setUserData(t)};e();const t=()=>e();return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)}),[]);return e.jsxs(pp,{onOpenChange:e=>{e&&r&&r()},children:[e.jsx(gp,{asChild:!0,children:e.jsx(oc,{variant:"ghost",size:"icon",className:"relative",children:e.jsx(Qc,{className:"h-8 w-8"})})}),e.jsxs(fp,{className:"w-64 sm:w-72",align:"end",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-red-900/20 to-black border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[t?.avatar?e.jsx("img",{src:t.avatar,alt:t?.nombre_usuario||a("user.default"),className:"h-16 w-16 sm:h-20 sm:w-20 rounded-full object-cover ring-2 ring-red-600"}):e.jsx("div",{className:"h-16 w-16 sm:h-20 sm:w-20 rounded-full bg-gray-700 ring-2 ring-red-600 flex items-center justify-center",children:e.jsx(Dc,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-400"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-yellow-500 text-black text-xs rounded-full w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center font-bold",children:t?.nivel||1})]}),e.jsxs("div",{className:"flex flex-col space-y-2 flex-1",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-base sm:text-lg font-bold text-white",children:t?.nombre_usuario||a("user.default")}),e.jsx(Cp,{equippedBadge:i,className:"flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:t?.correo||"-"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fc,{className:"h-4 w-4 text-yellow-400"}),e.jsxs("span",{className:"text-sm font-medium text-yellow-400",children:[t?.saldo?.toLocaleString()||0," Monedas"]})]})]})]})}),e.jsxs("div",{className:"p-2",children:[e.jsx(xp,{asChild:!0,children:e.jsxs(Q,{to:"/profile",className:"flex items-center text-gray-300 hover:text-white hover:bg-gray-800/50 rounded-md",children:[e.jsx(Dc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:a("user.profile")})]})}),e.jsx(xp,{asChild:!0,children:e.jsxs(Q,{to:"/coins",className:"flex items-center text-gray-300 hover:text-white hover:bg-gray-800/50 rounded-md",children:[e.jsx(Fc,{className:"mr-2 h-4 w-4 text-yellow-400"}),e.jsx("span",{children:a("nav.buy_coins")})]})}),e.jsx(xp,{asChild:!0,children:e.jsxs(Q,{to:"/badges",className:"flex items-center text-gray-300 hover:text-white hover:bg-gray-800/50 rounded-md",children:[e.jsx(Bc,{className:"mr-2 h-4 w-4 text-purple-400"}),e.jsx("span",{children:"Canjear Recompensas"})]})}),e.jsxs(xp,{className:"flex flex-col items-start text-gray-300 hover:text-white hover:bg-gray-800/50 rounded-md py-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xc,{className:"mr-2 h-4 w-4 text-blue-400"}),e.jsx("span",{children:"Contctanos"})]}),e.jsx("div",{className:"ml-6 mt-1 text-xs text-gray-400",children:"Smashufc.soporte@gmail.com"})]})]}),e.jsx(yp,{}),e.jsx("div",{className:"p-2",children:e.jsxs(xp,{className:"text-red-500 hover:text-red-400 hover:bg-red-900/20 rounded-md",onClick:async()=>{await op.auth.signOut({redirectTo:window.location.origin+"/login"}),localStorage.removeItem("user"),localStorage.removeItem("access_token"),sessionStorage.clear(),r&&r()},children:[e.jsx(Yc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:a("auth.logout")})]})})]})]})},Tp=()=>{const{t:t}=_c(),s=[{name:t("nav.home"),path:"/",icon:null},{name:t("nav.forum"),path:"/forum",icon:ed},{name:t("nav.fighters"),path:"/fighters",icon:vd},{name:t("nav.compare"),path:"/compare",icon:Kc},{name:t("nav.highlights"),path:"/highlights",icon:hd},{name:t("nav.events"),path:"/events",icon:Ac},{name:t("nav.saved_clips"),path:"/clips",icon:ad},{name:t("nav.live"),path:"/live",icon:sd}],[r,a]=J.useState(!1),{user:i,loading:n}=up();return J.useEffect((()=>{const e=()=>a(!!localStorage.getItem("user"));return e(),window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[]),e.jsx(nl.header,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:"fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-md border-b border-gray-800",children:e.jsxs("nav",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsx(Q,{to:"/",className:"flex items-center",children:e.jsx(Nc,{className:"h-12 w-auto"})}),e.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:s.map((t=>e.jsxs(te,{to:t.path,className:({isActive:e})=>"px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center "+(e?"text-red-500 bg-red-900/20":"text-gray-300 hover:text-white hover:bg-gray-800"),children:[t.icon&&e.jsx(t.icon,{className:"w-4 h-4 mr-2"}),t.name]},t.path)))})]}),e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[!i&&e.jsxs(e.Fragment,{children:[e.jsx(oc,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(Q,{to:"/login",children:t("auth.login")})}),e.jsx(oc,{size:"sm",className:"bg-red-600 hover:bg-red-700",asChild:!0,children:e.jsx(Q,{to:"/register",children:t("auth.register")})})]}),i&&e.jsx(Pp,{})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(mp,{trigger:e.jsx(oc,{variant:"ghost",size:"icon",children:e.jsx(Qc,{className:"h-6 w-6"})}),navItems:s})})]})]})})},Ep=j,Ap=Y.forwardRef((({className:t,...s},r)=>e.jsx(f,{ref:r,className:sc("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s})));Ap.displayName=f.displayName;const Rp=ic("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-gray-900 border-gray-700 text-white",destructive:"group destructive border-red-500 bg-red-900 text-red-100"}},defaultVariants:{variant:"default"}}),Op=Y.forwardRef((({className:t,variant:s,...r},a)=>e.jsx(x,{ref:a,className:sc(Rp({variant:s}),t),...r})));Op.displayName=x.displayName;Y.forwardRef((({className:t,...s},r)=>e.jsx(y,{ref:r,className:sc("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}))).displayName=y.displayName;const Lp=Y.forwardRef((({className:t,...s},r)=>e.jsx(v,{ref:r,className:sc("absolute right-2 top-2 rounded-md p-1 text-gray-400 opacity-0 transition-opacity hover:text-white focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(wd,{className:"h-4 w-4"})})));Lp.displayName=v.displayName;const Mp=Y.forwardRef((({className:t,...s},r)=>e.jsx(b,{ref:r,className:sc("text-sm font-semibold",t),...s})));Mp.displayName=b.displayName;const Ip=Y.forwardRef((({className:t,...s},r)=>e.jsx(w,{ref:r,className:sc("text-sm opacity-90",t),...s})));Ip.displayName=w.displayName;let Dp=0;const $p={state:{toasts:[]},listeners:[],getState:()=>$p.state,setState:e=>{$p.state="function"==typeof e?e($p.state):{...$p.state,...e},$p.listeners.forEach((e=>e($p.state)))},subscribe:e=>($p.listeners.push(e),()=>{$p.listeners=$p.listeners.filter((t=>t!==e))})},Vp=({...e})=>{const t=(Dp=(Dp+1)%Number.MAX_VALUE,Dp.toString()),s=()=>$p.setState((e=>({...e,toasts:e.toasts.filter((e=>e.id!==t))})));return $p.setState((r=>({...r,toasts:[{...e,id:t,dismiss:s},...r.toasts].slice(0,1)}))),{id:t,dismiss:s,update:e=>$p.setState((s=>({...s,toasts:s.toasts.map((s=>s.id===t?{...s,...e}:s))})))}};function Fp(){const[e,t]=J.useState($p.getState());return J.useEffect((()=>{const e=$p.subscribe((e=>{t(e)}));return e}),[]),J.useEffect((()=>{const t=[];return e.toasts.forEach((e=>{if(e.duration===1/0)return;const s=setTimeout((()=>{e.dismiss()}),e.duration||5e3);t.push(s)})),()=>{t.forEach((e=>clearTimeout(e)))}}),[e.toasts]),{toast:Vp,toasts:e.toasts}}function Up(){const{toasts:t}=Fp();return e.jsxs(Ep,{children:[t.map((({id:t,title:s,description:r,action:a,...i})=>e.jsxs(Op,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(Mp,{children:s}),r&&e.jsx(Ip,{children:r})]}),a,e.jsx(Lp,{})]},t))),e.jsx(Ap,{})]})}const Bp=({children:t})=>e.jsxs("div",{className:"min-h-screen bg-black text-white font-sans",children:[e.jsx(Tp,{}),e.jsx("main",{className:"pt-16",children:t}),e.jsx(Up,{})]}),qp=()=>{const{t:t,i18n:s}=_c(),r=(new Date).getFullYear(),a=new Date(`${r+1}-06-29`).toLocaleDateString(s.language,{month:"long",day:"numeric",year:"numeric"});return e.jsxs(nl.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"relative flex flex-col items-center",children:[e.jsx("div",{className:"relative z-10",children:e.jsx("div",{className:"bg-gradient-to-r from-red-700 via-red-600 to-red-700 rounded-full p-1",children:e.jsx("div",{className:"bg-black rounded-full p-4",children:e.jsx("span",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-red-700 filter drop-shadow-lg",children:t("vs")})})})}),e.jsx(nl.div,{animate:{scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"linear",repeatType:"mirror"},className:"absolute inset-x-0 top-0 h-full bg-gradient-to-r from-red-600/20 to-red-800/20 rounded-full blur-xl",style:{top:"-10%",height:"120%"}}),e.jsx("p",{className:"mt-3 text-sm font-semibold text-gray-400 uppercase tracking-wider z-10",children:a})]})},zp={A:62,B:38},Hp=()=>{const{t:t}=_c(),[s,r]=J.useState(null),[a,i]=J.useState(zp),[n,o]=J.useState(!1),l=e=>{const t=s===e?null:e;r(t),o(!0),t&&i((e=>"A"===t&&e.A<95?{A:e.A+1,B:e.B-1}:"B"===t&&e.B<95?{A:e.A-1,B:e.B+1}:e))};return J.useEffect((()=>{let e;return n&&!s&&(e=setTimeout((()=>o(!1)),3e3)),()=>clearTimeout(e)}),[n,s]),e.jsxs("section",{className:"relative min-h-[90vh] mt-16 flex items-center justify-center",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{className:"w-full h-full object-cover",alt:t("home.featured_fight_bg"),src:"https://images.unsplash.com/photo-1687519930490-db2e9a2efa03"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/60 to-transparent"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-5xl mx-auto px-4 py-8",children:e.jsx(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs("div",{className:"bg-black/70 p-6 md:p-8 rounded-xl backdrop-blur-md border border-gray-800 shadow-lg shadow-red-900/20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xd,{className:"h-6 w-6 text-red-500"}),e.jsx("span",{className:"text-lg font-bold tracking-wide uppercase",children:t("home.event_principal")})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400 animate-pulse",children:[e.jsx(fd,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:t("home.open_predictions")})]})]}),e.jsx("h2",{className:"text-3xl md:text-5xl font-black mb-2 text-center uppercase tracking-wider",children:t("home.ufc_300_title")}),e.jsx("p",{className:"text-lg md:text-xl mb-8 text-center text-gray-300 font-light",children:t("home.star_fight_description")}),e.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-2 sm:gap-4 md:gap-8 mb-8 items-center",children:[e.jsxs("div",{className:"text-center flex flex-col items-center",children:[e.jsxs("div",{className:"relative inline-block mb-3",children:[e.jsx("button",{onClick:()=>l("A"),className:sc("absolute -top-1 -left-1 sm:-top-2 sm:-left-2 z-20 p-1 sm:p-1.5 rounded-full bg-gray-800/70 hover:bg-yellow-500/90 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 ring-offset-2 ring-offset-black/60","A"===s&&"medal-selected"),"aria-label":t("home.select_fav_a"),children:e.jsx(Tc,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8 text-yellow-500 transition-colors duration-300"})}),e.jsx("img",{className:"w-20 h-20 sm:w-28 sm:h-28 md:w-60 md:h-40 mx-auto object-contain shadow-md filter drop-shadow-[0_5px_5px_rgba(0,0,0,0.4)]",alt:t("home.fighter_a"),src:"/foto_jon.png"})]}),e.jsx("p",{className:"font-bold text-base sm:text-lg md:text-2xl uppercase",children:"Jon "}),e.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm mb-2",children:[t("home.champion")," | 28-0-0"]}),e.jsx(je,{children:n&&e.jsxs(nl.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"flex items-center justify-center text-sm text-yellow-400 font-semibold mt-1",children:[e.jsx(vd,{className:"w-4 h-4 mr-1.5"}),a.A,t("home.vote_percent")]})})]}),e.jsx("div",{className:"flex flex-col items-center justify-center self-center pt-8 md:pt-0",children:e.jsx(qp,{})}),e.jsxs("div",{className:"text-center flex flex-col items-center",children:[e.jsxs("div",{className:"relative inline-block mb-3",children:[e.jsx("button",{onClick:()=>l("B"),className:sc("absolute -top-1 -right-1 sm:-top-2 sm:-right-2 z-20 p-1 sm:p-1.5 rounded-full bg-gray-800/70 hover:bg-yellow-500/90 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 ring-offset-2 ring-offset-black/60","B"===s&&"medal-selected"),"aria-label":t("home.select_fav_b"),children:e.jsx(Tc,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8 text-yellow-500 transition-colors duration-300"})}),e.jsx("img",{className:"w-20 h-20 sm:w-28 sm:h-28 md:w-60 md:h-40 mx-auto object-contain shadow-md filter drop-shadow-[0_5px_5px_rgba(0,0,0,0.4)]",alt:t("home.fighter_b"),src:"/foto_khabib.png"})]}),e.jsx("p",{className:"font-bold text-base sm:text-lg md:text-2xl uppercase",children:"khabib "}),e.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm mb-2",children:[t("home.challenger")," | 25-2-0"]}),e.jsx(je,{children:n&&e.jsxs(nl.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"flex items-center justify-center text-sm text-yellow-400 font-semibold mt-1",children:[e.jsx(vd,{className:"w-4 h-4 mr-1.5"}),a.B,t("home.vote_percent")]})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center mt-6",children:[e.jsx(oc,{size:"lg",className:"bg-red-600 hover:bg-red-700 text-sm sm:text-base md:text-lg px-4 sm:px-6 md:px-8 font-bold uppercase tracking-wider w-full sm:w-auto",asChild:!0,children:e.jsx(Q,{to:"/live",children:t("home.see_more")})}),e.jsx(oc,{size:"lg",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white text-sm sm:text-base md:text-lg px-4 sm:px-6 md:px-8 font-bold uppercase tracking-wider w-full sm:w-auto",asChild:!0,children:e.jsx(Q,{to:"/predict",children:t("home.make_prediction")})})]})]})})})]})},Kp=async()=>{try{const{data:e,error:t}=await op.from("evento").select("*").eq("activo",!0).order("orden_mostrar",{ascending:!0}).order("fecha",{ascending:!0});if(t)throw new Error(`Error al obtener eventos: ${t.message}`);return e||[]}catch(e){throw e}},Gp=t=>{const{t:s}=_c(),[r,a]=J.useState([]),[i,n]=J.useState(!0);J.useEffect((()=>{(async()=>{try{n(!0);const e=await Kp();a(e.slice(0,3))}catch(e){}finally{n(!1)}})()}),[]);const o=e=>e.detalles_url||`/event/${e.id}`;return i?e.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-black via-gray-950 to-black",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx(Wc,{className:"w-8 h-8 animate-spin text-red-500 mr-4"}),e.jsx("span",{className:"text-gray-400",children:"Cargando eventos..."})]})})}):e.jsxs("section",{className:"py-16 px-4 bg-gradient-to-b from-black via-gray-950 to-black",children:[" ",e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center text-white",children:[e.jsx(Ac,{className:"mr-3 text-red-500"})," ",s("home.upcoming_events")]}),e.jsx(oc,{variant:"link",className:"text-red-400 hover:text-red-300",asChild:!0,children:e.jsx(Q,{to:"/events",children:s("home.see_all")})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:r.map(((t,r)=>{return e.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"bg-black/60 rounded-lg overflow-hidden card-hover border border-gray-800 backdrop-blur-sm",children:[e.jsxs("div",{className:"relative aspect-video",children:[e.jsx("img",{className:"w-full h-full object-cover",alt:t.texto_alternativo||t.titulo,src:t.imagen||"https://images.unsplash.com/photo-1649190800807-6f1d42a4bc05"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),e.jsx("div",{className:"absolute bottom-2 left-3",children:e.jsx("h4",{className:"text-lg font-bold text-white shadow-text",children:t.titulo})})]}),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-2",children:[e.jsx(Ac,{className:"w-4 h-4 mr-2 text-red-500"}),(a=t.fecha,new Date(a).toLocaleDateString("es-ES",{month:"short",day:"numeric"}))]}),e.jsxs("p",{className:"text-gray-300 mb-3 text-sm flex items-center",children:[e.jsx(vd,{className:"w-4 h-4 mr-2 text-red-500"}),t.pelea_principal_participantes||"TBD"]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(oc,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-400 hover:bg-red-900/30",asChild:!0,children:e.jsx(Q,{to:o(t),children:s("home.see_details")})})})]})]},t.id);var a}))})]})]})},Wp=()=>e.jsxs(nl.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-black text-white",children:[e.jsx(Hp,{}),e.jsx(Gp,{})]}),Jp=Y.forwardRef((({className:t,type:s,...r},a)=>e.jsx("input",{type:s,className:sc("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r})));Jp.displayName="Input";const Yp=ic("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xp=Y.forwardRef((({className:t,...s},r)=>e.jsx(_,{ref:r,className:sc(Yp(),t),...s})));Xp.displayName=_.displayName;const Zp=Y.forwardRef((({className:t,...s},r)=>e.jsx("div",{ref:r,className:sc("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})));Zp.displayName="Card";const Qp=Y.forwardRef((({className:t,...s},r)=>e.jsx("div",{ref:r,className:sc("flex flex-col space-y-1.5 p-6",t),...s})));Qp.displayName="CardHeader";const eg=Y.forwardRef((({className:t,...s},r)=>e.jsx("h3",{ref:r,className:sc("text-2xl font-semibold leading-none tracking-tight",t),...s})));eg.displayName="CardTitle";const tg=Y.forwardRef((({className:t,...s},r)=>e.jsx("p",{ref:r,className:sc("text-sm text-muted-foreground",t),...s})));tg.displayName="CardDescription";const sg=Y.forwardRef((({className:t,...s},r)=>e.jsx("div",{ref:r,className:sc("p-6 pt-0",t),...s})));sg.displayName="CardContent";const rg=Y.forwardRef((({className:t,...s},r)=>e.jsx("div",{ref:r,className:sc("flex items-center p-6 pt-0",t),...s})));rg.displayName="CardFooter";const ag=()=>{const{t:t}=_c(),[s,r]=J.useState(!1),[a,i]=J.useState(!1),[n,o]=J.useState({correo:"","contrasea":""}),[l,c]=J.useState(""),d=ee(),h=e=>{o({...n,[e.target.name]:e.target.value})};return e.jsxs(Zp,{className:"w-full max-w-md bg-black/80 border-gray-800 text-white backdrop-blur-sm shadow-xl",children:[e.jsxs(Qp,{className:"space-y-3",children:[e.jsx(eg,{className:"text-3xl font-black text-red-600 tracking-wider",children:t("auth.login")}),e.jsx(tg,{className:"text-gray-400 text-base",children:t("auth.login_subtitle")})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c(""),i(!0);try{const{data:e,error:t}=await op.auth.signInWithPassword({email:n.correo,password:n.contrasea});if(t)throw new Error(t.message);localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("access_token",e.session?.access_token||""),window.dispatchEvent(new Event("storage")),d("/")}catch(t){c(t.message)}finally{i(!1)}},children:[l&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:l})}),e.jsxs(sg,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Xp,{htmlFor:"correo",className:"text-sm font-medium text-gray-300",children:t("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(Xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),e.jsx(Jp,{id:"correo",name:"correo",type:"email",placeholder:t("auth.email_placeholder"),required:!0,className:"pl-10 bg-gray-900/50 border-gray-700 focus:ring-red-600 focus:border-red-600",value:n.correo,onChange:h})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Xp,{htmlFor:"contrasea",className:"text-sm font-medium text-gray-300",children:t("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),e.jsx(Jp,{id:"contrasea",name:"contrasea",type:s?"text":"password",required:!0,className:"pl-10 bg-gray-900/50 border-gray-700 focus:ring-red-600 focus:border-red-600",value:n.contrasea,onChange:h}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300",children:s?e.jsx(zc,{className:"h-5 w-5"}):e.jsx(Hc,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"remember",className:"rounded border-gray-700 bg-gray-900/50 text-red-600 focus:ring-red-600"}),e.jsx("label",{htmlFor:"remember",className:"text-gray-400",children:t("auth.remember")})]}),e.jsx(Q,{to:"/forgot-password",className:"text-red-500 hover:text-red-400 hover:underline",children:t("auth.forgot_password")})]})]}),e.jsxs(rg,{className:"flex flex-col space-y-4",children:[e.jsx(oc,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-lg py-3 font-bold uppercase tracking-wider",disabled:a,children:t(a?"auth.logging_in":"auth.login")}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-black/80 px-2 text-gray-400",children:t("auth.or_continue_with")})})]}),e.jsxs(oc,{type:"button",onClick:async()=>{i(!0);try{const{error:e}=await op.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});e&&c(e.message)}catch(e){c(e.message)}finally{i(!1)}},className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-medium py-2 px-4 rounded-md transition-colors duration-200 flex items-center justify-center space-x-2",disabled:a,children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{children:t("auth.continue_with_google")})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-400",children:[t("auth.no_account")," ",e.jsx(Q,{to:"/register",className:"text-red-500 hover:text-red-400 hover:underline font-medium",children:t("auth.register_here")})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t("auth.accept_terms"),e.jsx(Q,{to:"/terms",className:"text-gray-400 hover:text-gray-300 hover:underline",children:t("auth.terms_conditions")})]})]})]})]})]})},ig=()=>{const{t:t}=_c();return e.jsxs("div",{className:"min-h-screen flex items-center justify-center pt-16 relative auth-container overflow-hidden",children:[e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover opacity-40",children:e.jsx("source",{src:"/videos/ufc-background.mp4",type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/95 via-black/80 to-gray-900/90 z-0"}),e.jsx("div",{className:"z-10 w-full max-w-6xl mx-auto px-4",children:e.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[e.jsxs("div",{className:"text-center lg:w-1/2",children:[e.jsx(nl.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"mb-8",children:e.jsx(Nc,{className:"h-72 w-auto mx-auto"})}),e.jsxs(nl.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"text-4xl md:text-5xl font-black mb-4 text-white",children:[t("login.welcome")," ",e.jsx("span",{className:"text-red-600",children:"SMASH"})]}),e.jsx(nl.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-xl text-gray-400 mb-8",children:t("login.subtitle")})]}),e.jsx(nl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6,duration:.5},className:"w-full lg:w-1/2",children:e.jsx(ag,{})})]})})]})},ng=()=>{const{t:t}=_c(),[s,r]=J.useState(!1),[a,i]=J.useState(!1),[n,o]=J.useState(!1),[l,c]=J.useState({nombre_usuario:"",correo:"","contrasea":"","confirmar_contrasea":""}),[d,h]=J.useState(""),u=ee(),m=e=>{c({...l,[e.target.name]:e.target.value})};return e.jsxs(Zp,{className:"w-full max-w-md bg-black/80 border-gray-800 text-white backdrop-blur-sm shadow-xl",children:[e.jsxs(Qp,{className:"space-y-3",children:[e.jsx(eg,{className:"text-3xl font-black text-red-600 tracking-wider",children:t("auth.create_account")}),e.jsx(tg,{className:"text-gray-400 text-base",children:t("auth.complete_data_join_community")})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),l.contrasea===l.confirmar_contrasea){o(!0);try{const{data:e,error:t}=await op.auth.signUp({email:l.correo,password:l.contrasea,options:{data:{nombre_usuario:l.nombre_usuario}}});if(t)throw new Error(t.message);const{user:s}=e,{error:r}=await op.from("usuario").insert([{nombre_usuario:l.nombre_usuario,correo:l.correo,fecha_registro:(new Date).toISOString(),puntos:0,rango:"Novato",avatar:null,notificaciones:!0,tema:"dark","contrasea":"",saldo:0}]);if(r)throw new Error(r.message);u("/login")}catch(s){h(s.message)}finally{o(!1)}}else h(t("auth.passwords_no_match"))},children:[e.jsxs(sg,{className:"space-y-4",children:[d&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:d})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Xp,{htmlFor:"nombre_usuario",className:"text-sm font-medium text-gray-300",children:t("auth.username")}),e.jsxs("div",{className:"relative",children:[e.jsx(yd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),e.jsx(Jp,{id:"nombre_usuario",name:"nombre_usuario",placeholder:t("auth.username_placeholder"),required:!0,className:"pl-10 bg-gray-900/50 border-gray-700 focus:ring-red-600 focus:border-red-600",value:l.nombre_usuario,onChange:m})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Xp,{htmlFor:"correo",className:"text-sm font-medium text-gray-300",children:t("auth.email")}),e.jsxs("div",{className:"relative",children:[e.jsx(Xc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),e.jsx(Jp,{id:"correo",name:"correo",type:"email",placeholder:t("auth.email_placeholder"),required:!0,className:"pl-10 bg-gray-900/50 border-gray-700 focus:ring-red-600 focus:border-red-600",value:l.correo,onChange:m})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Xp,{htmlFor:"contrasea",className:"text-sm font-medium text-gray-300",children:t("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),e.jsx(Jp,{id:"contrasea",name:"contrasea",type:s?"text":"password",required:!0,className:"pl-10 bg-gray-900/50 border-gray-700 focus:ring-red-600 focus:border-red-600 pr-10",value:l.contrasea,onChange:m}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300",children:s?e.jsx(zc,{className:"h-5 w-5"}):e.jsx(Hc,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Xp,{htmlFor:"confirmar_contrasea",className:"text-sm font-medium text-gray-300",children:t("auth.confirm_password")}),e.jsxs("div",{className:"relative",children:[e.jsx(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"}),e.jsx(Jp,{id:"confirmar_contrasea",name:"confirmar_contrasea",type:a?"text":"password",required:!0,className:"pl-10 bg-gray-900/50 border-gray-700 focus:ring-red-600 focus:border-red-600 pr-10",value:l.confirmar_contrasea,onChange:m}),e.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-300",children:a?e.jsx(zc,{className:"h-5 w-5"}):e.jsx(Hc,{className:"h-5 w-5"})})]})]})]}),e.jsxs(rg,{className:"flex flex-col space-y-4",children:[e.jsx(oc,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-lg py-3 font-bold uppercase tracking-wider",disabled:n,children:t(n?"auth.registering":"auth.register")}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-400",children:[t("auth.already_have_account")," ",e.jsx(Q,{to:"/login",className:"text-red-500 hover:text-red-400 hover:underline font-medium",children:t("auth.login_here")})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t("auth.accept_terms"),e.jsx(Q,{to:"/terms",className:"text-gray-400 hover:text-gray-300 hover:underline",children:t("auth.terms_conditions")})]})]})]})]})]})},og=()=>{const{t:t}=_c();return e.jsxs("div",{className:"min-h-screen flex items-center justify-center pt-16 relative auth-container overflow-hidden",children:[e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover opacity-40",children:e.jsx("source",{src:"/videos/ufc-background.mp4",type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/95 via-black/80 to-gray-900/90 z-0"}),e.jsx("div",{className:"z-10 w-full max-w-6xl mx-auto px-4",children:e.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[e.jsxs("div",{className:"text-center lg:w-1/2",children:[e.jsx(nl.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"mb-8",children:e.jsx(Nc,{className:"h-72 w-auto mx-auto"})}),e.jsxs(nl.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"text-4xl md:text-5xl font-black mb-4 text-white",children:[t("register.title")," ",e.jsx("span",{className:"text-red-600",children:"SMASH"})]}),e.jsx(nl.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-xl text-gray-400 mb-8",children:t("register.subtitle")})]}),e.jsx(nl.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6,duration:.5},className:"w-full lg:w-1/2",children:e.jsx(ng,{})})]})})]})},lg=Y.forwardRef((({className:t,...s},r)=>e.jsx(N,{className:sc("grid gap-2",t),...s,ref:r})));lg.displayName=N.displayName;const cg=Y.forwardRef((({className:t,...s},r)=>e.jsx(k,{ref:r,className:sc("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(S,{className:"flex items-center justify-center",children:e.jsx($c,{className:"h-2.5 w-2.5 fill-current text-current"})})})));cg.displayName=k.displayName;const dg=Y.forwardRef((({className:t,...s},r)=>e.jsxs(C,{ref:r,className:sc("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(P,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(T,{className:"absolute h-full bg-primary"})}),e.jsx(E,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),Array.isArray(s.value)&&s.value.length>1&&e.jsx(E,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})));dg.displayName=C.displayName;const hg=ic("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ug({className:t,variant:s,...r}){return e.jsx("div",{className:sc(hg({variant:s}),t),...r})}const mg=()=>{const[e,t]=J.useState(!1),{toast:s}=Fp();return{loading:e,purchaseBadge:async(e,r,a=[])=>{t(!0);try{const t=await bp(e,r);return s({title:"Insignia comprada con xito!",description:`Has adquirido la insignia por ${t.insignia.precio} monedas`}),a.forEach((e=>{"function"==typeof e&&e()})),t}catch(i){throw s({title:"Error al comprar insignia",description:i.message||"No se pudo completar la compra",variant:"destructive"}),i}finally{t(!1)}}}},pg=({userId:t})=>{const{t:s}=_c(),{toast:r}=Fp(),{refreshUser:a}=up(),{triggerBadgeUpdate:i}=kp(),[n,o]=J.useState([]),[l,c]=J.useState(null),[d,h]=J.useState([]),[u,m]=J.useState(!0),[p,g]=J.useState(!1),{loading:f,purchaseBadge:x}=mg();J.useEffect((()=>{t&&(y(),v(),p&&b())}),[t,p]),J.useEffect((()=>{t&&(y(),v())}),[t]);const y=async()=>{try{const e=await wp(t);o(e)}catch(e){}},v=async()=>{try{const e=await jp(t);c(e)}catch(e){}},b=async()=>{try{const e=await vp(),t=n.map((e=>e.insignias_catalogo?.id)),s=e.filter((e=>!t.includes(e.id)));h(s)}catch(e){}},w=async e=>{try{const s=n.find((t=>t.insignias_catalogo?.id===e));await async function(e,t){try{const{data:s,error:r}=await op.from("insignias_usuario").select("*").eq("usuario_id",e).eq("insignia_id",t).single();if(r)throw new Error("No tienes esta insignia");await op.from("insignias_usuario").update({equipada:!1}).eq("usuario_id",e).eq("equipada",!0);const{error:a}=await op.from("insignias_usuario").update({equipada:!0}).eq("usuario_id",e).eq("insignia_id",t);if(a)throw a;return{success:!0}}catch(s){throw s}}(t,e),await v(),await y(),a&&a(),i(),r({title:" Insignia equipada",description:`Has equipado la insignia ${s?.insignias_catalogo?.nombre}`})}catch(s){r({title:"Error",description:s.message||"No se pudo equipar la insignia",variant:"destructive"})}},j=async()=>{try{await async function(e){try{const{error:t}=await op.from("insignias_usuario").update({equipada:!1}).eq("usuario_id",e).eq("equipada",!0);if(t)throw t;return{success:!0}}catch(t){throw t}}(t),await v(),a&&a(),i(),r({title:"Insignia desequipada",description:"Has desequipado tu insignia actual"})}catch(e){r({title:"Error",description:e.message||"No se pudo desequipar la insignia",variant:"destructive"})}},_=e=>{switch(e){case"comun":default:return{badge:"bg-gray-600 text-white",border:"border-gray-600"};case"rara":return{badge:"bg-blue-600 text-white",border:"border-blue-600"};case"legendaria":return{badge:"bg-yellow-600 text-black",border:"border-yellow-600"}}},N=t=>{switch(t){case"comun":default:return e.jsx(hd,{className:"h-3 w-3"});case"rara":return e.jsx(Tc,{className:"h-3 w-3"});case"legendaria":return e.jsx(Bc,{className:"h-3 w-3"})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Zp,{className:"bg-gradient-to-br from-gray-900/50 to-black border-gray-700",children:[e.jsx(Qp,{children:e.jsxs(eg,{className:"text-white flex items-center space-x-2",children:[e.jsx(Bc,{className:"h-5 w-5 text-yellow-400"}),e.jsx("span",{children:"Insignia Equipada"})]})}),e.jsx(sg,{children:l?e.jsxs("div",{className:"group relative p-4 bg-gradient-to-r from-green-900/30 to-emerald-900/20 rounded-xl border-2 border-green-500 shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/10 via-emerald-500/5 to-green-500/10 rounded-xl opacity-50 animate-pulse"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"text-4xl transform transition-transform group-hover:scale-110 animate-glow flex-shrink-0",children:l.insignias_catalogo?.icono||""}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-white text-xl",children:l.insignias_catalogo?.nombre}),e.jsxs(ug,{className:"bg-green-500 text-white text-xs animate-pulse shadow-lg",children:[e.jsx(Bc,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:"Equipada"})]})]}),e.jsx("p",{className:"text-base text-gray-300 mb-3",children:l.insignias_catalogo?.descripcion}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(ug,{className:`${_(l.insignias_catalogo?.rareza).badge} text-sm`,children:[N(l.insignias_catalogo?.rareza),e.jsx("span",{className:"ml-1 capitalize",children:l.insignias_catalogo?.rareza})]}),e.jsxs("span",{className:"text-sm text-yellow-400",children:["Comprada por ",l.precio_pagado," monedas"]})]})]})]}),e.jsxs(oc,{variant:"outline",size:"sm",onClick:j,className:"border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-all duration-300 hover:shadow-lg flex-shrink-0",children:[e.jsx(Bc,{className:"h-4 w-4 mr-1"}),"Desequipar"]})]})})]}):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(Tc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No tienes ninguna insignia equipada"}),e.jsx("p",{className:"text-sm mt-2",children:"Compra y equipa insignias para mostrar tu estilo"})]})})]}),e.jsxs(Zp,{className:"bg-gradient-to-br from-gray-900/50 to-black border-gray-700",children:[e.jsxs(Qp,{className:"flex flex-row items-center justify-between",children:[e.jsxs(eg,{className:"text-white flex items-center space-x-2",children:[e.jsx(Tc,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{children:"Mis Insignias"})]}),e.jsxs(_d,{open:p,onOpenChange:g,children:[e.jsx(Nd,{asChild:!0,children:e.jsxs(oc,{className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:[e.jsx(cd,{className:"h-4 w-4 mr-2"}),"Comprar"]})}),e.jsxs(Td,{className:"w-96 bg-gray-900 border-gray-700",children:[e.jsx(Ed,{children:e.jsxs(Ad,{className:"text-white flex items-center space-x-2",children:[e.jsx(cd,{className:"h-5 w-5"}),e.jsx("span",{children:"Tienda de Insignias"})]})}),e.jsxs("div",{className:"space-y-4 mt-6 max-h-96 overflow-y-auto",children:[d.map((s=>e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:s.icono}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:s.nombre}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(ug,{className:_(s.rareza).badge,children:[N(s.rareza),e.jsx("span",{className:"ml-1 capitalize",children:s.rareza})]})})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-1 text-yellow-400",children:[e.jsx(Fc,{className:"h-4 w-4"}),e.jsx("span",{className:"font-bold",children:s.precio.toLocaleString()})]})})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:s.descripcion}),e.jsx(oc,{className:"w-full bg-green-600 hover:bg-green-700",size:"sm",disabled:f,onClick:()=>(async e=>{try{await x(t,e,[y,b])}catch(s){}})(s.id),children:f?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Comprando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Comprar por ",s.precio.toLocaleString()," monedas"]})})]},s.id))),0===d.length&&e.jsx("div",{className:"text-center py-8 text-gray-400",children:e.jsx("span",{children:"Ya tienes todas las insignias disponibles"})})]})]})]})]}),e.jsx(sg,{children:0===n.length?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(Tc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No tienes insignias compradas"}),e.jsx("p",{className:"text-sm mt-2",children:"Compra tu primera insignia para empezar"})]}):e.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:n.map((t=>{const s=t.insignias_catalogo,r=t.equipada;return e.jsxs("div",{className:`group relative p-4 rounded-xl border-2 transition-all duration-300 hover:scale-105 hover:shadow-lg ${r?"bg-gradient-to-r from-green-900/30 to-emerald-900/20 border-green-500 shadow-green-500/20":"bg-gradient-to-r from-gray-800/50 to-gray-800/30 border-gray-600 hover:border-gray-500"} ${_(s?.rareza).border}`,children:[r&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/10 via-emerald-500/5 to-green-500/10 rounded-xl opacity-50 animate-pulse"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:`text-3xl transform transition-transform group-hover:scale-110 ${r?"animate-glow":""} flex-shrink-0`,children:s?.icono}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-white text-base leading-tight",children:s?.nombre}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s?.descripcion})]})]}),e.jsxs(ug,{className:`${_(s?.rareza).badge} text-xs px-2 py-1 flex-shrink-0`,children:[N(s?.rareza),e.jsx("span",{className:"ml-1 capitalize",children:s?.rareza})]})]}),r&&e.jsx("div",{className:"mb-3",children:e.jsx(ug,{className:"bg-green-500 text-white text-xs px-2 py-1 animate-pulse shadow-lg",children:e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Bc,{className:"h-3 w-3"}),e.jsx("span",{children:"Equipada"})]})})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-3",children:[e.jsxs("span",{children:["Comprada: ",new Date(t.fecha_compra).toLocaleDateString("es-ES")]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Fc,{className:"h-3 w-3 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-medium",children:t.precio_pagado})]})]}),e.jsx("div",{className:"flex space-x-2",children:r?e.jsxs(oc,{size:"sm",variant:"outline",className:"flex-1 border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-colors text-xs",onClick:j,children:[e.jsx(Bc,{className:"h-3 w-3 mr-1"}),"Desequipar"]}):e.jsxs(oc,{size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs transition-all duration-300 hover:shadow-lg",onClick:()=>w(s.id),children:[e.jsx(Bc,{className:"h-3 w-3 mr-1"}),"Equipar"]})})]})]},`${t.id}-${s?.id}`)}))})})]})]})};const gg=({userId:t,username:s,className:r="",showBadge:a=!0,badgePosition:i="right",showUsername:n=!0})=>{const[o,l]=J.useState(t),{equippedBadge:c}=Sp(o);return J.useEffect((()=>{(async()=>{if(!t&&s){const e=await async function(e){try{if(!e)return null;const{data:t,error:s}=await op.from("usuario").select("id").eq("nombre_usuario",e).single();return s?null:t.id}catch(t){return null}}(s);l(e)}else l(t)})()}),[t,s]),s?a&&c?"below"===i?e.jsxs("div",{className:`flex flex-col space-y-1 ${r}`,children:[n&&e.jsx("span",{children:s}),e.jsx(Cp,{equippedBadge:c,className:"self-start"})]}):e.jsxs("div",{className:`flex items-start space-x-2 ${r}`,children:[n&&e.jsx("span",{className:"leading-tight",children:s}),e.jsx(Cp,{equippedBadge:c,className:"flex-shrink-0"})]}):n?e.jsx("span",{className:r,children:s}):null:null},fg=()=>{const{user:t,loading:s,refreshUser:r}=up(),[a,i]=J.useState(!1),[n,o]=J.useState("dark"),[l,c]=J.useState("public"),[d,h]=J.useState(!1),[u,m]=J.useState(""),p=J.useRef(),[g,f]=J.useState(null),[x,y]=J.useState(null),{t:v}=_c();J.useEffect((()=>{(async()=>{const e=JSON.parse(localStorage.getItem("user"));if(!e)return;const{data:t,error:s}=await op.from("usuario").select("*").eq("correo",e.email).single();t&&(setUserData(t),i(t.notificaciones),o(t.tema),m(t.nombre_usuario))})()}),[]);const b=async()=>{if(d){let e=t?.avatar;if(g){const s=g.name.split(".").pop(),r=`${t.id}_${Date.now()}.${s}`,{data:a,error:i}=await op.storage.from("avatars").upload(r,g,{upsert:!0});if(!i){const{data:t}=op.storage.from("avatars").getPublicUrl(r);e=t.publicUrl}}const{error:s}=await op.from("usuario").update({nombre_usuario:u,avatar:e}).eq("correo",t.correo);s?alert("Error al guardar los cambios: "+s.message):(f(null),y(null),h(!1),r&&r())}else m(t?.nombre_usuario||""),h(!0)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsx(nl.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"container mx-auto max-w-4xl",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Zp,{className:"bg-black/70 border border-gray-800 backdrop-blur-sm shadow-lg",children:[e.jsxs(Qp,{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[x||t?.avatar?e.jsx("img",{className:"w-32 h-32 rounded-full mx-auto border-4 border-red-600 object-cover",alt:"User Avatar",src:x||t?.avatar}):e.jsx("div",{className:"w-32 h-32 rounded-full mx-auto border-4 border-red-600 bg-gray-700 flex items-center justify-center",children:e.jsx(yd,{className:"h-24 w-24 text-gray-400"})}),e.jsx(oc,{variant:"ghost",size:"icon",className:"absolute bottom-0 right-0 bg-gray-700/80 rounded-full "+(d?"hover:bg-red-600":""),onClick:()=>p.current.click(),children:e.jsx(dd,{className:"w-4 h-4"})}),d&&e.jsx("input",{type:"file",accept:"image/*",ref:p,style:{display:"none"},onChange:e=>{const t=e.target.files[0];t&&(f(t),y(URL.createObjectURL(t)))}})]}),e.jsx("div",{className:"flex flex-col items-center space-y-2",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(eg,{className:"text-3xl font-black uppercase tracking-wider text-red-500",children:t?.nombre_usuario||v("profile.username")}),e.jsx(gg,{userId:t?.id,username:t?.nombre_usuario,badgePosition:"right",className:"flex-shrink-0",showBadge:!0,showUsername:!1})]})}),e.jsxs(tg,{className:"text-gray-300",children:[v("profile.member_since")," ",t?new Date(t.fecha_registro).toLocaleDateString():"-"]})]}),e.jsxs(sg,{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsx(yd,{className:"w-6 h-6 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:v("profile.username")}),d?e.jsx(Jp,{className:"font-semibold text-white bg-gray-800 border-gray-700",value:u,onChange:e=>m(e.target.value)}):e.jsx("p",{className:"font-semibold text-white",children:t?.nombre_usuario})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsx(Xc,{className:"w-6 h-6 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:v("profile.email")}),e.jsx("p",{className:"font-semibold text-white",children:t?.correo})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsx(Fc,{className:"w-6 h-6 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Monedas"}),e.jsx("p",{className:"font-semibold text-xl text-white",children:t?.saldo?.toLocaleString()??0})]})]})})]}),e.jsx(rg,{className:"flex justify-between",children:d?e.jsxs(e.Fragment,{children:[e.jsx(oc,{variant:"outline",className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white font-bold uppercase tracking-wider",onClick:()=>{h(!1),m(t?.nombre_usuario||""),f(null),y(null)},children:"Cancelar"}),e.jsx(oc,{className:"bg-red-600 hover:bg-red-700 font-bold uppercase tracking-wider",onClick:b,children:"Confirmar Cambios"})]}):e.jsx(oc,{className:"bg-red-600 hover:bg-red-700 font-bold uppercase tracking-wider",onClick:b,children:v("profile.edit_profile")})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(pg,{userId:t?.id})})]})})})},xg=q,yg=z,vg=Y.forwardRef((({className:t,children:s,...r},a)=>e.jsxs(A,{ref:a,className:sc("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(R,{asChild:!0,children:e.jsx(Lc,{className:"h-4 w-4 opacity-50"})})]})));vg.displayName=A.displayName;const bg=Y.forwardRef((({className:t,...s},r)=>e.jsx(O,{ref:r,className:sc("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Mc,{className:"h-4 w-4"})})));bg.displayName=O.displayName;const wg=Y.forwardRef((({className:t,...s},r)=>e.jsx(L,{ref:r,className:sc("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Lc,{className:"h-4 w-4"})})));wg.displayName=L.displayName;const jg=Y.forwardRef((({className:t,children:s,position:r="popper",...a},i)=>e.jsx(M,{children:e.jsxs(I,{ref:i,className:sc("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-gray-900 text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[e.jsx(bg,{}),e.jsx(D,{className:sc("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(wg,{})]})})));jg.displayName=I.displayName;Y.forwardRef((({className:t,...s},r)=>e.jsx($,{ref:r,className:sc("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}))).displayName=$.displayName;const _g=Y.forwardRef((({className:t,children:s,...r},a)=>e.jsxs(V,{ref:a,className:sc("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(F,{children:e.jsx(Oc,{className:"h-4 w-4"})})}),e.jsx(U,{children:s})]})));_g.displayName=V.displayName;async function Ng(e){const{data:t,error:s}=await op.from("peleador").select("\n      *,\n      estadisticas:peleador_estadisticas(*)\n    ").eq("id",e).single();if(s)throw s;return t}function kg(){const[e,t]=J.useState([]),[s,r]=J.useState(!0),[a,i]=J.useState(null),n=J.useCallback((async()=>{try{r(!0),i(null);const e=await async function(){const{data:e,error:t}=await op.from("peleador").select("\n      *,\n      estadisticas:peleador_estadisticas(*)\n    ").eq("activo",!0).order("nombre",{ascending:!0});if(t)throw t;return e||[]}();t(e)}catch(e){i(e.message)}finally{r(!1)}}),[]);return J.useEffect((()=>{n()}),[n]),{fighters:e,loading:s,error:a,refetch:n}}function Sg(){const[e,t]=J.useState(null),[s,r]=J.useState(null),[a,i]=J.useState(null),[n,o]=J.useState(!1),[l,c]=J.useState(null),d=J.useCallback((async(e,t)=>{if(e&&t)try{o(!0),c(null);const s=await async function(e,t){const[s,r]=await Promise.all([Ng(e),Ng(t)]);if(!s||!r)throw new Error("Uno o ambos peleadores no fueron encontrados");const a=s.estadisticas?.[0]||{},i=r.estadisticas?.[0]||{},n=(e,t=!0)=>{const s=a[e]||0,r=i[e]||0;return s===r?"tie":t?s>r?"fighter1":"fighter2":s<r?"fighter1":"fighter2"};return{fighter1:s,fighter2:r,comparison:{golpes_por_minuto:n("golpes_por_minuto"),precision_golpes:n("precision_golpes"),precision_defensa:n("precision_defensa"),takedowns_por_15_min:n("takedowns_por_15_min"),precision_takedowns:n("precision_takedowns"),defensa_takedowns:n("defensa_takedowns"),tiempo_promedio_pelea:n("tiempo_promedio_pelea",!1),kos_por_pelea:n("kos_por_pelea"),decisiones_ganadas:n("decisiones_ganadas")}}}(e,t);i(s)}catch(s){c(s.message)}finally{o(!1)}else i(null)}),[]),h=J.useCallback((e=>{t(e),s&&d(e.id,s.id)}),[s,d]),u=J.useCallback((t=>{r(t),e&&d(e.id,t.id)}),[e,d]),m=J.useCallback((()=>{t(null),r(null),i(null),c(null)}),[]);return{fighter1:e,fighter2:s,comparison:a,loading:n,error:l,selectFighter1:h,selectFighter2:u,clearComparison:m,compareFighters:d}}Y.forwardRef((({className:t,...s},r)=>e.jsx(B,{ref:r,className:sc("-mx-1 my-1 h-px bg-muted",t),...s}))).displayName=B.displayName;const Cg=({icon:t,label:s,value:r,unit:a="",highlight:i="none"})=>{const n="better"===i?"text-green-400":"worse"===i?"text-red-500":"text-white",o="better"===i?fd:"worse"===i?gd:td;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded mb-2 border-l-4 border-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{className:"w-5 h-5 mr-3 text-red-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:s})]}),e.jsxs("div",{className:`flex items-center font-semibold ${n}`,children:[e.jsx(o,{className:"w-4 h-4 mr-1 "+("none"===i?"opacity-0":"")}),r," ",a]})]})},Pg=()=>{const{t:t}=_c(),{fighters:s,loading:r,error:a}=kg(),{fighter1:i,fighter2:n,loading:o,error:l,selectFighter1:c,selectFighter2:d}=Sg(),{formatStats:h,getStatComparison:u}=function(){const e=J.useCallback((e=>{if(!e?.estadisticas?.[0])return{strikesLanded:0,accuracy:0,takedowns:0,defense:0,avgFightTime:0};const t=e.estadisticas[0];return{strikesLanded:t.golpes_por_minuto||0,accuracy:t.precision_golpes||0,takedowns:t.takedowns_por_15_min||0,defense:t.precision_defensa||0,avgFightTime:t.tiempo_promedio_pelea||0}}),[]);return{formatStats:e,getStatComparison:J.useCallback(((e,t,s,r=!0)=>{const a=t[e]||0,i=s[e]||0;return a===i?"none":r?a>i?"better":"worse":a<i?"better":"worse"}),[])}}(),m=(e,t)=>{const r=s.find((t=>t.id===parseInt(e)));r&&(1===t?c(r):d(r))},p=e=>h(e),g=(e,t=!0)=>{if(!i||!n)return"none";const s=p(i),r=p(n);return u(e,s,r,t)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsxs(nl.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto max-w-5xl",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-8 text-center uppercase text-red-500 tracking-wider",children:t("compare.title")}),(a||l)&&e.jsx("div",{className:"mb-6 p-4 bg-red-900/50 border border-red-500 rounded-lg",children:e.jsx("p",{className:"text-red-400",children:a||l})}),r&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(Wc,{className:"w-8 h-8 animate-spin text-red-500"}),e.jsx("span",{className:"ml-2 text-gray-400",children:"Cargando peleadores..."})]}),!r&&0===s.length&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No hay peleadores disponibles"})}),!r&&s.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-6 md:gap-10 items-start",children:[e.jsx("div",{children:e.jsxs(Zp,{className:"bg-black/70 border border-gray-700 shadow-lg backdrop-blur-sm overflow-hidden",children:[e.jsx(Qp,{className:"p-4 bg-gray-900/50 border-b border-gray-700",children:e.jsxs(xg,{onValueChange:e=>m(e,1),value:i?.id?.toString()||"",children:[e.jsx(vg,{className:"w-full bg-gray-800 border-gray-600 text-white font-bold text-lg",children:e.jsx(yg,{placeholder:"Seleccionar Peleador 1"})}),e.jsx(jg,{className:"bg-black border-gray-700 text-white",children:s.map((t=>e.jsx(_g,{value:t.id.toString(),disabled:t.id===n?.id,children:t.nombre},t.id)))})]},i?.id)}),e.jsx(sg,{className:"p-4 text-center",children:i?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:i.foto||"https://images.unsplash.com/photo-1545191488-2682adc1dfe4",alt:i.nombre,className:"w-48 h-48 mx-auto mb-4 object-cover rounded-lg"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:i.nombre}),i.division&&e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:i.division}),i.record&&e.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:["Record: ",i.record]}),o?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(Wc,{className:"w-6 h-6 animate-spin text-red-500"})}):e.jsxs(e.Fragment,{children:[e.jsx(Cg,{icon:Ec,label:t("compare.strikes_per_min"),value:p(i).strikesLanded.toFixed(1),highlight:g("strikesLanded")}),e.jsx(Cg,{icon:ud,label:t("compare.accuracy"),value:p(i).accuracy,unit:"%",highlight:g("accuracy")}),e.jsx(Cg,{icon:jd,label:t("compare.takedowns_per_15"),value:p(i).takedowns.toFixed(1),highlight:g("takedowns")}),e.jsx(Cg,{icon:ld,label:t("compare.defense"),value:p(i).defense,unit:"%",highlight:g("defense")}),e.jsx(Cg,{icon:Vc,label:t("compare.avg_fight_time"),value:p(i).avgFightTime.toFixed(1),unit:"min",highlight:g("avgFightTime",!1)})]})]}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"w-48 h-48 mx-auto mb-4 bg-gray-800 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 text-lg",children:"Selecciona un peleador"})}),e.jsx("p",{className:"text-gray-400",children:"Elige un peleador del men superior"})]})})]})}),e.jsx("div",{className:"hidden md:flex items-center justify-center h-full pt-24",children:e.jsx(qp,{})}),e.jsx("div",{children:e.jsxs(Zp,{className:"bg-black/70 border border-gray-700 shadow-lg backdrop-blur-sm overflow-hidden",children:[e.jsx(Qp,{className:"p-4 bg-gray-900/50 border-b border-gray-700",children:e.jsxs(xg,{onValueChange:e=>m(e,2),value:n?.id?.toString()||"",children:[e.jsx(vg,{className:"w-full bg-gray-800 border-gray-600 text-white font-bold text-lg",children:e.jsx(yg,{placeholder:"Seleccionar Peleador 2"})}),e.jsx(jg,{className:"bg-black border-gray-700 text-white",children:s.map((t=>e.jsx(_g,{value:t.id.toString(),disabled:t.id===i?.id,children:t.nombre},t.id)))})]},n?.id)}),e.jsx(sg,{className:"p-4 text-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:n.foto||"https://images.unsplash.com/photo-1656968385791-eff0b664d0ba",alt:n.nombre,className:"w-48 h-48 mx-auto mb-4 object-cover rounded-lg"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:n.nombre}),n.division&&e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:n.division}),n.record&&e.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:["Record: ",n.record]}),o?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(Wc,{className:"w-6 h-6 animate-spin text-red-500"})}):e.jsxs(e.Fragment,{children:[e.jsx(Cg,{icon:Ec,label:t("compare.strikes_per_min"),value:p(n).strikesLanded.toFixed(1),highlight:"better"===g("strikesLanded")?"worse":"worse"===g("strikesLanded")?"better":"none"}),e.jsx(Cg,{icon:ud,label:t("compare.accuracy"),value:p(n).accuracy,unit:"%",highlight:"better"===g("accuracy")?"worse":"worse"===g("accuracy")?"better":"none"}),e.jsx(Cg,{icon:jd,label:t("compare.takedowns_per_15"),value:p(n).takedowns.toFixed(1),highlight:"better"===g("takedowns")?"worse":"worse"===g("takedowns")?"better":"none"}),e.jsx(Cg,{icon:ld,label:t("compare.defense"),value:p(n).defense,unit:"%",highlight:"better"===g("defense")?"worse":"worse"===g("defense")?"better":"none"}),e.jsx(Cg,{icon:Vc,label:t("compare.avg_fight_time"),value:p(n).avgFightTime.toFixed(1),unit:"min",highlight:"better"===g("avgFightTime",!1)?"worse":"worse"===g("avgFightTime",!1)?"better":"none"})]})]}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"w-48 h-48 mx-auto mb-4 bg-gray-800 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 text-lg",children:"Selecciona un peleador"})}),e.jsx("p",{className:"text-gray-400",children:"Elige un peleador del men superior"})]})})]})})]})]})})},Tg=Y.forwardRef((({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:sc("w-full caption-bottom text-sm min-w-[600px]",t),...s})})));Tg.displayName="Table";const Eg=Y.forwardRef((({className:t,...s},r)=>e.jsx("thead",{ref:r,className:sc("[&_tr]:border-b",t),...s})));Eg.displayName="TableHeader";const Ag=Y.forwardRef((({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:sc("[&_tr:last-child]:border-0",t),...s})));Ag.displayName="TableBody";Y.forwardRef((({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:sc("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}))).displayName="TableFooter";const Rg=Y.forwardRef((({className:t,...s},r)=>e.jsx("tr",{ref:r,className:sc("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})));Rg.displayName="TableRow";const Og=Y.forwardRef((({className:t,...s},r)=>e.jsx("th",{ref:r,className:sc("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})));Og.displayName="TableHead";const Lg=Y.forwardRef((({className:t,...s},r)=>e.jsx("td",{ref:r,className:sc("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s})));Lg.displayName="TableCell";Y.forwardRef((({className:t,...s},r)=>e.jsx("caption",{ref:r,className:sc("mt-4 text-sm text-muted-foreground",t),...s}))).displayName="TableCaption";const Mg=({peleador:t,visible:s,position:r={top:0,left:0}})=>{const{t:a}=_c();return t&&s?e.jsx("div",{className:"fixed z-50 bg-gray-900 rounded-lg shadow-lg p-4 w-72 border-2 border-red-500",style:{top:r.top,left:r.left,transition:"opacity 0.2s",pointerEvents:"none"},children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:t.avatar||t.foto,alt:t.nombre,className:"w-24 h-24 rounded-full object-cover border-4 border-red-500 mb-2"}),e.jsx("h2",{className:"text-xl font-bold mb-1 text-yellow-400 text-center",children:t.nombre}),e.jsxs("p",{className:"mb-1 text-center",children:[e.jsx("b",{children:a("fighter.division")})," ",t.division]}),e.jsxs("p",{className:"mb-1 text-center",children:[e.jsx("b",{children:a("fighter.country")})," ",t.pais]}),e.jsxs("p",{className:"mb-1 text-center",children:[e.jsx("b",{children:a("fighter.record")})," ",t.record]}),e.jsxs("p",{className:"mb-1 text-center",children:[e.jsx("b",{children:a("fighter.status")})," ",t.status]}),e.jsx("p",{className:"mt-2 text-sm text-gray-300 italic text-center",children:t.descripcion})]})}):null},Ig=e=>{switch(e){case"Campen":return"destructive";case"Top Contender":return"secondary";default:return"outline"}},Dg={top:40,left:40},$g=()=>{const{t:t}=_c(),[s,r]=Y.useState(null),[a,i]=Y.useState(null),[n,o]=Y.useState({top:0,left:0}),[l,c]=Y.useState(!1),[d,h]=Y.useState([]),[u,m]=Y.useState(null);Y.useEffect((()=>{(async()=>{const{data:e,error:t}=await op.from("peleador").select("*").order("puntos",{ascending:!1});t?(m(t.message||"Error al cargar peleadores"),h([])):h(e)})()}),[]),Y.useEffect((()=>{if(!l)return;const e=e=>{e.target.closest(".hovercard-peleador")||e.target.closest(".peleador-nombre")||(c(!1),i(null))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[l]);const p=(e,t)=>{i(e),c(!0)},g=()=>{i(null),c(!1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:[e.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-6xl",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-8 text-center uppercase text-red-500 tracking-wider flex items-center justify-center",children:[e.jsx(Gc,{className:"w-10 h-10 mr-4 text-yellow-400"}),t("fighters.title")]}),e.jsx("div",{className:"bg-black/70 rounded-lg border border-gray-800 shadow-lg overflow-hidden backdrop-blur-sm",children:u?e.jsx("p",{className:"p-6 text-center text-red-500",children:u}):0===d.length?e.jsx("p",{className:"p-6 text-center text-gray-400",children:t("fighters.no_table")}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Tg,{children:[e.jsx(Eg,{children:e.jsxs(Rg,{className:"border-gray-700 hover:bg-gray-800/50",children:[e.jsx(Og,{className:"w-[60px] sm:w-[80px] text-center font-bold text-red-500",children:t("fighters.rank")}),e.jsx(Og,{className:"font-bold text-red-500 min-w-[120px]",children:t("fighters.name")}),e.jsx(Og,{className:"font-bold text-red-500 hidden md:table-cell",children:t("fighters.division")}),e.jsx(Og,{className:"font-bold text-red-500 hidden lg:table-cell",children:t("fighters.record")}),e.jsx(Og,{className:"text-center font-bold text-red-500",children:t("fighters.status_col")}),e.jsxs(Og,{className:"text-right font-bold text-red-500",children:[t("fighters.points_col")," ",e.jsx(hd,{className:"inline w-4 h-4 mb-1 ml-1 text-yellow-400"})]})]})}),e.jsx(Ag,{children:d.map(((s,r)=>e.jsxs(Rg,{className:"border-gray-800 hover:bg-gray-700/50 transition-colors cursor-pointer",children:[e.jsx(Lg,{className:"text-center font-medium",children:r+1}),e.jsx(Lg,{className:"font-semibold relative peleador-nombre",onMouseEnter:e=>p(s),onMouseMove:e=>p(s),onMouseLeave:g,onClick:()=>(e=>{i(e),c(!0)})(s),tabIndex:0,style:{outline:"none"},children:s.nombre}),e.jsx(Lg,{className:"hidden md:table-cell text-gray-400",children:t(`weight.${s.division}`)}),e.jsx(Lg,{className:"hidden lg:table-cell text-gray-400",children:s.record}),e.jsx(Lg,{className:"text-center",children:e.jsxs(ug,{variant:Ig(s.status),className:"uppercase text-xs px-2 py-0.5",children:["Campen"===s.status&&e.jsx(od,{className:"w-3 h-3 mr-1 inline"}),t(`fighters.status.${s.status}`)]})}),e.jsx(Lg,{className:"text-right font-bold text-yellow-300",children:s.puntos?.toLocaleString()})]},s.id||r)))})]})})}),e.jsx("p",{className:"text-center text-gray-500 mt-6 text-sm",children:t("fighters.note")})]}),e.jsx(Mg,{peleador:a,visible:l&&!!a,position:Dg,className:"hovercard-peleador"})]})},Vg=()=>{const{t:t}=_c(),[s,r]=J.useState([]),[a,i]=J.useState(!0),[n,o]=J.useState(null);J.useEffect((()=>{(async()=>{try{i(!0),o(null);const e=await Kp();r(e)}catch(e){o(e.message)}finally{i(!1)}})()}),[]);const l=e=>e.detalles_url||`/event/${e.id}`;return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-7xl",children:e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx(Wc,{className:"w-8 h-8 animate-spin text-red-500 mr-4"}),e.jsx("span",{className:"text-gray-400",children:"Cargando eventos..."})]})})}):n?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-7xl",children:e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Error al cargar eventos"}),e.jsx("p",{className:"text-gray-400",children:n})]})})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-7xl",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-10 text-center uppercase text-red-500 tracking-wider flex items-center justify-center",children:[e.jsx(Ac,{className:"w-10 h-10 mr-4 text-yellow-400"}),t("events.title")]}),0===s.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Ac,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No hay eventos disponibles"}),e.jsx("p",{className:"text-gray-500",children:"Prximamente se agregarn nuevos eventos."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:s.map(((s,r)=>{return e.jsx(nl.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1*r},children:e.jsxs(Zp,{className:"bg-black/60 border-gray-800 shadow-lg overflow-hidden backdrop-blur-sm h-full flex flex-col card-hover",children:[e.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56",children:[e.jsx("img",{className:"w-full h-full object-cover",alt:s.texto_alternativo||s.titulo,src:s.imagen||"https://images.unsplash.com/photo-1696407254550-989e4543dc11"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsx("h2",{className:"text-2xl font-bold text-white shadow-text",children:s.titulo})})]}),e.jsxs(sg,{className:"p-4 sm:p-6 flex-grow flex flex-col",children:[e.jsxs("div",{className:"space-y-3 text-gray-300 mb-5 flex-grow",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ac,{className:"w-4 h-4 mr-2 text-red-500"}),(a=s.fecha,new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}))]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Zc,{className:"w-4 h-4 mr-2 text-red-500"}),s.ubicacion," (",s.sede,")"]}),e.jsxs("p",{className:"flex items-start",children:[e.jsx(vd,{className:"w-4 h-4 mr-2 mt-1 text-red-500 flex-shrink-0"}),e.jsxs("span",{className:"font-semibold",children:[s.pelea_principal_titulo,":"]}),"",s.pelea_principal_participantes]}),s.pelea_co_estelar_participantes&&"TBD"!==s.pelea_co_estelar_participantes&&e.jsxs("p",{className:"flex items-start",children:[e.jsx(vd,{className:"w-4 h-4 mr-2 mt-1 text-red-500 flex-shrink-0"}),e.jsxs("span",{className:"font-semibold",children:[s.pelea_co_estelar_titulo,":"]}),"",s.pelea_co_estelar_participantes]})]}),e.jsx("div",{className:"mt-auto flex justify-end",children:e.jsx(oc,{className:"bg-red-600 hover:bg-red-700",asChild:!0,children:e.jsxs(Q,{to:l(s),children:[e.jsx(md,{className:"w-4 h-4 mr-2"}),t("events.details")]})})})]})]})},s.id);var a}))})]})})},Fg=l,Ug=r,Bg=J.forwardRef((({className:t,...r},a)=>e.jsx(s,{ref:a,className:sc("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})));Bg.displayName=s.displayName;const qg=J.forwardRef((({className:t,children:s,...r},n)=>e.jsxs(Ug,{children:[e.jsx(Bg,{}),e.jsxs(a,{ref:n,className:sc("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(i,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(wd,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));qg.displayName=a.displayName;const zg=({className:t,...s})=>e.jsx("div",{className:sc("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});zg.displayName="DialogHeader";const Hg=J.forwardRef((({className:t,...s},r)=>e.jsx(n,{ref:r,className:sc("text-lg font-semibold leading-none tracking-tight",t),...s})));Hg.displayName=n.displayName;const Kg=J.forwardRef((({className:t,...s},r)=>e.jsx(o,{ref:r,className:sc("text-sm text-muted-foreground",t),...s})));async function Gg(e){try{const{data:t,error:s}=await op.from("recompensas_usuario").select("*").eq("usuario_id",e).eq("tipo_recompensa","acceso_clips_destacados").eq("activa",!0).single();if(s&&"PGRST116"!==s.code)throw s;return!!t}catch(t){return!1}}async function Wg(e){try{const{data:t,error:s}=await op.from("recompensas_usuario").select("*").eq("usuario_id",e).eq("activa",!0).order("fecha_compra",{ascending:!1});if(s)throw s;return t||[]}catch(t){return[]}}Kg.displayName=o.displayName;const Jg=e=>{const[t,s]=J.useState(!1),[r,a]=J.useState([]),[i,n]=J.useState(!1);J.useEffect((()=>{(async()=>{if(!e)return s(!1),void a([]);try{n(!0);const t=await Gg(e);s(t);const r=await Wg(e);a(r)}catch(t){s(!1),a([])}finally{n(!1)}})()}),[e]);return{tieneAccesoClipsDestacados:t,recompensas:r,loading:i,comprarAccesoClips:async(t=500)=>{try{n(!0);const r=await async function(e,t=500){try{if(await Gg(e))throw new Error("Ya tienes acceso a clips destacados");const{data:r,error:a}=await op.from("usuario").select("saldo").eq("id",e).single();if(a)throw a;if(Number(r.saldo)<t)throw new Error("Saldo insuficiente para comprar acceso a clips destacados");const i=Number(r.saldo)-t,{error:n}=await op.from("usuario").update({saldo:i}).eq("id",e);if(n)throw n;const{error:o}=await op.from("recompensas_usuario").insert([{usuario_id:e,tipo_recompensa:"acceso_clips_destacados",precio_pagado:t,fecha_compra:(new Date).toISOString(),activa:!0}]);if(o)throw o;try{await op.from("transacciones_moneda").insert([{usuario_id:e,tipo:"egreso",cantidad:t,motivo:"compra_acceso_clips_destacados"}])}catch(s){}return{success:!0,nuevoSaldo:i,precio:t}}catch(r){throw r}}(e,t);s(!0);const i=await Wg(e);return a(i),r}catch(r){throw r}finally{n(!1)}}}},Yg=({children:t})=>{const{user:s}=up(),{tieneAccesoClipsDestacados:r,loading:a}=Jg(s?.id);return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Verificando acceso..."})]})}):r?t:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:e.jsxs(Zp,{className:"max-w-md mx-auto bg-gradient-to-br from-gray-900/50 to-black border-purple-500/50",children:[e.jsxs(Qp,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 p-4 bg-purple-500/20 rounded-full w-fit",children:e.jsx(Jc,{className:"h-12 w-12 text-purple-400"})}),e.jsx(eg,{className:"text-2xl font-bold text-white",children:"Contenido Premium"})]}),e.jsxs(sg,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-300",children:"Este contenido es exclusivo para usuarios premium. Desbloquea el acceso para disfrutar de clips destacados."}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(Bc,{className:"h-5 w-5 text-purple-400"}),e.jsx("span",{className:"text-white font-semibold",children:"Acceso a Clips Destacados"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Fc,{className:"h-4 w-4 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"500 monedas"})]})]}),e.jsx(oc,{asChild:!0,className:"w-full bg-purple-600 hover:bg-purple-700",children:e.jsxs(Q,{to:"/badges",children:[e.jsx(Bc,{className:"h-4 w-4 mr-2"}),"Desbloquear Acceso"]})})]})]})})};async function Xg(e,t){const s=await async function(e,t){const{data:s,error:r}=await op.from("clip_views").select("id").eq("user_id",e).eq("clip_id",t).single();if(r&&"PGRST116"!==r.code)throw r;return!!s}(e,t);if(!s){const{error:s}=await op.from("clip_views").insert([{user_id:e,clip_id:t}]);if(s)throw s;return await op.rpc("increment_featured_clip_views",{clip_id:t}),!0}return!1}const Zg=()=>{const{t:t}=_c(),[s,r]=J.useState([]),[a,i]=J.useState(!0),[n,o]=J.useState(null),[l,c]=J.useState(null),[d,h]=J.useState(!1),u=async()=>{try{i(!0),o(null);const e=await async function(){try{const{data:e,error:t}=await op.from("featured_clips").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(n){throw n}}();r(e)}catch(e){o("Error inesperado al cargar los clips")}finally{i(!1)}},m=async e=>{try{const{data:{user:t}}=await op.auth.getUser();if(t){await Xg(t.id,e.id)&&r((t=>t.map((t=>t.id===e.id?{...t,vistas:t.vistas+1}:t))))}c(e),h(!0)}catch(t){c(e),h(!0)}};return J.useEffect((()=>{u()}),[]),a?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-7xl flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Wc,{className:"w-12 h-12 animate-spin text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-gray-400",children:t("highlights.loading")})]})})}):n?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-7xl flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl text-red-500 mb-4",children:n}),e.jsx(oc,{onClick:u,variant:"outline",className:"border-red-600 text-red-500 hover:bg-red-600 hover:text-white",children:t("highlights.retry")})]})})}):e.jsx(Yg,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:[e.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black uppercase text-red-500 tracking-wider flex items-center justify-center",children:[e.jsx(hd,{className:"w-10 h-10 mr-4 text-yellow-400"}),t("highlights.title")]}),e.jsx("p",{className:"text-gray-400 mt-4 text-lg",children:"Los mejores momentos del UFC, seleccionados por nuestro equipo"})]}),0===s.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-xl text-gray-400 mb-4",children:t("highlights.no_clips")}),e.jsx(oc,{onClick:u,variant:"outline",className:"border-red-600 text-red-500 hover:bg-red-600 hover:text-white",children:t("highlights.refresh")})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:s.map(((s,r)=>{return e.jsx(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*r},className:"card-hover",children:e.jsxs(Zp,{className:"bg-black/60 border-gray-800 shadow-lg overflow-hidden backdrop-blur-sm h-full flex flex-col",children:[e.jsxs("div",{className:"relative group aspect-video cursor-pointer",onClick:()=>m(s),children:[e.jsx("video",{className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",src:s.url_video,controls:!1,preload:"metadata",muted:!0,playsInline:!0}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(sd,{className:"w-16 h-16 text-white/80 drop-shadow-lg"})}),e.jsx("div",{className:"absolute bottom-2 left-3",children:e.jsx("h3",{className:"text-lg font-bold text-white shadow-text",children:s.titulo})}),e.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 px-2 py-1 rounded text-xs flex items-center text-gray-300",children:[e.jsx(Hc,{className:"w-3 h-3 mr-1 text-red-500"})," ",(a=s.vistas,a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a?.toString()||"0")]})]}),e.jsxs(sg,{className:"p-4 flex-grow flex flex-col",children:[s.descripcion&&e.jsx("p",{className:"text-sm text-gray-400 mb-3 flex-grow",children:s.descripcion}),s.peleadores&&s.peleadores.length>0&&e.jsxs("p",{className:"text-sm text-gray-400 mb-3 flex-grow",children:[t("highlights.fighters"),": ",s.peleadores.join(", ")]}),e.jsx(oc,{variant:"outline",className:"w-full border-red-600 text-red-500 hover:bg-red-600 hover:text-white mt-auto",onClick:()=>m(s),children:t("highlights.watch_clip")})]})]})},s.id);var a}))})]}),e.jsx(Fg,{open:d,onOpenChange:h,children:e.jsxs(qg,{className:"max-w-4xl bg-black/90 border-gray-800",children:[e.jsx(zg,{children:e.jsx(Hg,{className:"text-white text-xl",children:l?.titulo})}),e.jsxs("div",{className:"relative",children:[e.jsx(oc,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 z-10 bg-black/50 hover:bg-black/70",onClick:()=>h(!1),children:e.jsx(wd,{className:"w-4 h-4"})}),l&&e.jsx("video",{className:"w-full h-auto max-h-[70vh] rounded",controls:!0,autoPlay:!0,src:l.url_video,children:"Tu navegador no soporta el elemento de video."}),l?.descripcion&&e.jsx("p",{className:"text-gray-300 mt-4",children:l.descripcion}),l?.peleadores&&l.peleadores.length>0&&e.jsxs("p",{className:"text-gray-400 mt-2",children:[e.jsxs("strong",{children:[t("highlights.fighters"),":"]})," ",l.peleadores.join(", ")]})]})]})})]})})},Qg=Y.forwardRef((({className:t,...s},r)=>e.jsx("textarea",{className:sc("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s})));async function ef(){const{data:e,error:t}=await op.from("forum_categories").select("*").order("id",{ascending:!0});if(t)throw t;return e||[]}Qg.displayName="Textarea";const tf=({categories:t,categoryId:s,onThreadCreated:r})=>{const[a,i]=J.useState(!1),[n,o]=J.useState(""),[l,c]=J.useState(""),[d,h]=J.useState(s||(t?.[0]?.id??"")),[u,m]=J.useState(!1),{user:p}=up(),g=p?.auth?.id,f=p?.nombre_usuario,x=p?.avatar;J.useEffect((()=>{t&&t.length>0?h(t[0].id):s&&h(s)}),[t,s]);return e.jsxs(e.Fragment,{children:[e.jsxs(oc,{className:"bg-red-600 hover:bg-red-700",onClick:()=>i(!0),disabled:!p||t&&0===t.length,children:[e.jsx(rd,{className:"w-5 h-5 mr-2"}),"Crear Nuevo Hilo"]}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:e.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Crear Nuevo Hilo"}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!f)return alert("Debes completar tu nombre en el perfil para crear hilos."),void m(!1);m(!0);try{const e=await async function({title:e,content:t,user_id:s,username:r,avatar:a,category_id:i}){const{data:n,error:o}=await op.from("forum_threads").insert([{title:e,content:t,user_id:s,username:r,avatar:a,category_id:i}]).select().single();if(o)throw o;return n}({title:n,content:l,user_id:g,username:f,avatar:x,category_id:t?d:s});o(""),c(""),i(!1),r&&r(e)}catch(a){alert("Error al crear hilo: "+a.message)}finally{m(!1)}},children:[t&&e.jsxs("select",{className:"w-full mb-3 p-2 rounded bg-gray-800 border border-gray-700 text-white",value:d,onChange:e=>h(e.target.value),required:!0,disabled:0===t.length,children:[e.jsx("option",{value:"",disabled:!0,selected:""===d,children:"Selecciona una categora"}),t.map((t=>e.jsx("option",{value:t.id,children:t.name},t.id)))]}),e.jsx("input",{className:"w-full mb-3 p-2 rounded bg-gray-800 border border-gray-700 text-white",placeholder:"Ttulo del hilo",value:n,onChange:e=>o(e.target.value),required:!0}),e.jsx("textarea",{className:"w-full mb-3 p-2 rounded bg-gray-800 border border-gray-700 text-white",placeholder:"Contenido del hilo",value:l,onChange:e=>c(e.target.value),rows:5,required:!0}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(oc,{type:"button",className:"bg-gray-700",onClick:()=>i(!1),disabled:u,children:"Cancelar"}),e.jsx(oc,{type:"submit",className:"bg-red-600 hover:bg-red-700",disabled:u,children:u?"Creando...":"Crear"})]})]})]})})]})},sf=()=>{const{t:t}=_c(),[s,r]=J.useState([]),[a,i]=J.useState([]);return J.useEffect((()=>{ef().then(r),async function(e=10){const{data:t,error:s}=await op.from("forum_threads").select("*, forum_categories(name)").order("created_at",{ascending:!1}).limit(e);if(s)throw s;return t||[]}(10).then(i)}),[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white pt-24 pb-12 px-4",children:e.jsxs(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-7xl",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-6 text-center uppercase text-red-500 tracking-wider flex items-center justify-center",children:[e.jsx(ed,{className:"w-10 h-10 mr-4 text-yellow-400"}),t("forum.title")]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(Jp,{type:"text",placeholder:t("forum.search_placeholder"),className:"pl-10 bg-gray-900/50 border-gray-700 focus:border-red-500 focus:ring-red-500"}),e.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"})]}),e.jsx(tf,{categories:s,onThreadCreated:e=>i([e,...a])})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4 md:space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:t("forum.categories")}),s.map((t=>e.jsx(nl.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:300},children:e.jsxs(Q,{to:`/category/${t.id}`,children:[" ",e.jsxs(Zp,{className:"bg-black/60 border-gray-800 hover:border-red-600/50 transition-colors duration-200 cursor-pointer",children:[e.jsxs(Qp,{className:"flex flex-row items-center gap-4 pb-2",children:[e.jsx(ed,{className:"w-6 h-6 text-red-500"}),e.jsx(eg,{className:"text-lg text-white",children:t.name})]}),e.jsx(sg,{children:e.jsx(tg,{className:"text-gray-400",children:t.description})})]})]})},t.id)))]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:t("forum.recent_threads")}),e.jsx(Zp,{className:"bg-black/60 border-gray-800 shadow-lg backdrop-blur-sm",children:e.jsx(sg,{className:"p-0",children:e.jsx("ul",{className:"divide-y divide-gray-800",children:a.map((s=>e.jsxs("li",{className:"p-3 sm:p-4 hover:bg-gray-800/50 transition-colors duration-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsxs("div",{children:[e.jsx(Q,{to:`/thread/${s.id}`,className:"text-lg font-semibold text-white hover:text-red-400 transition-colors",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t("forum.by")," ",e.jsx(gg,{username:s.username,className:"font-medium text-gray-400"}),s.forum_categories?.name&&e.jsxs(e.Fragment,{children:[" ",t("forum.in")," ",e.jsx("span",{className:"text-red-400",children:s.forum_categories.name})]})," - ",new Date(s.created_at).toLocaleString()]})]}),e.jsx("div",{className:"text-sm text-gray-400 mt-2 sm:mt-0 text-right flex-shrink-0",children:e.jsx(Q,{to:`/thread/${s.id}`,children:e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex items-center",children:"Ver Hilo"})})})]},s.id)))})})})]})]})]})})},rf={id:1,fighter1:"Conor McGregor",fighter2:"Michael Chandler",event:"UFC 302: McGregor vs. Chandler",rounds:5},af={winner:1.8,method:2.5,round:3,firstStrike:1.5,firstTakedown:2,willBeKO:1.6,willBeSub:3.5,goToDecision:2.2,mostSignificantStrikes:1.9},nf=["KO/TKO","Submission","Decision"],of=({predictionKey:t,value:s,onChange:r,fighters:a,label:i,icon:n,iconColor:o})=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Xp,{className:"text-lg font-semibold flex items-center text-gray-200",children:[n&&e.jsx(n,{className:`w-5 h-5 mr-2 ${o||"text-gray-400"}`}),i]}),e.jsxs(lg,{value:s,onValueChange:e=>r(t,e),className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-6 pt-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cg,{value:a.fighter1,id:`${t}-${a.fighter1}`,className:"border-gray-600 text-red-500 focus:ring-red-500"}),e.jsx(Xp,{htmlFor:`${t}-${a.fighter1}`,className:"text-gray-300",children:a.fighter1})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cg,{value:a.fighter2,id:`${t}-${a.fighter2}`,className:"border-gray-600 text-red-500 focus:ring-red-500"}),e.jsx(Xp,{htmlFor:`${t}-${a.fighter2}`,className:"text-gray-300",children:a.fighter2})]})]})]}),lf=({value:t,onChange:s})=>{const{t:r}=_c();return e.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:e.jsxs(lg,{value:t,onValueChange:e=>s("method",e),className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-6 pt-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cg,{value:"KO/TKO",id:"method-KO/TKO",className:"border-gray-600 text-red-500 focus:ring-red-500"}),e.jsx(Xp,{htmlFor:"method-KO/TKO",className:"text-gray-300",children:r("prediction.ko_tko")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cg,{value:"Submission",id:"method-Submission",className:"border-gray-600 text-blue-500 focus:ring-blue-500"}),e.jsx(Xp,{htmlFor:"method-Submission",className:"text-gray-300",children:r("prediction.submission")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cg,{value:"Decision",id:"method-Decision",className:"border-gray-600 text-green-500 focus:ring-green-500"}),e.jsx(Xp,{htmlFor:"method-Decision",className:"text-gray-300",children:r("prediction.decision")})]})]})})},cf=({value:t,onChange:s,maxRounds:r})=>{const{t:a}=_c();return e.jsxs("div",{className:"space-y-4",children:[e.jsx(Xp,{htmlFor:"round",className:"text-lg font-semibold text-gray-200",children:a("prediction.round_label")}),e.jsxs("div",{className:"flex items-center space-x-4 pt-1",children:[e.jsx(dg,{id:"round",min:1,max:r,step:1,value:t,onValueChange:s,className:"flex-grow [&>span:first-child]:bg-red-600"}),e.jsx("span",{className:"font-bold text-xl text-red-400 w-8 text-center",children:t[0]})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:a("prediction.round_hint")})]})},df=({betAmount:t,balance:s,potentialWinnings:r,onBetChange:a})=>{const{t:i}=_c();return e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Xp,{htmlFor:"betAmount",className:"text-lg font-semibold flex items-center text-gray-200",children:[e.jsx(Fc,{className:"w-5 h-5 mr-2 text-yellow-500"})," ",i("prediction.bet_amount")]}),e.jsxs("div",{className:"relative",children:[e.jsx(Jp,{type:"text",id:"betAmount",value:t,onChange:a,placeholder:"0",className:"w-full bg-gray-900/50 border-gray-700 pl-4 pr-24 text-lg text-white",inputMode:"numeric"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-yellow-400 font-bold",children:i("prediction.coins")})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm mt-2",children:[e.jsxs("p",{className:"text-gray-400",children:[i("prediction.balance"),": ",e.jsx("span",{className:"font-semibold text-gray-200",children:s.toLocaleString()})," ",e.jsx(Fc,{className:"inline h-3 w-3 ml-0.5 text-yellow-400"})]}),e.jsxs("p",{className:"text-gray-400",children:[i("prediction.potential_win"),": ",e.jsx("span",{className:"font-bold text-green-400",children:r.toLocaleString()})," ",e.jsx(Fc,{className:"inline h-4 w-4 ml-1 text-yellow-400"})]})]})]})},hf=()=>{const{t:t}=_c(),{user:s,refreshUser:r}=up(),[a,i]=J.useState(rf),[n,o]=J.useState(!1),[l,c]=J.useState({winner:void 0,method:void 0,round:[Math.ceil(rf.rounds/2)],firstStrike:void 0,firstTakedown:void 0,willBeKO:void 0,willBeSub:void 0,goToDecision:void 0,mostSignificantStrikes:void 0}),[d,h]=J.useState(""),[u,m]=J.useState(0),[p,g]=J.useState(!1),[f,x]=J.useState([]),[y,v]=J.useState(null),[b,w]=J.useState(!1),[j,_]=J.useState(!1);J.useEffect((()=>{(async()=>{try{const e=(await Kp())[0];if(e){const t=e.pelea_principal_participantes?.split(" vs ")||["TBD","TBD"];i({id:e.id,fighter1:t[0]?.trim()||"TBD",fighter2:t[1]?.trim()||"TBD",event:e.titulo,rounds:5})}}catch(e){}})()}),[]);const[N,k]=J.useState(!1),[S,C]=J.useState(!1),[P,T]=J.useState(""),[E,A]=J.useState(""),[R,O]=J.useState((()=>localStorage.getItem("ultimaApuestaPagada")||null));J.useEffect((()=>{h(""),m(0)}),[s]),J.useEffect((()=>{(async()=>{if(!s)return;const{data:e,error:t}=await op.from("predicciones").select("*").eq("user_id",s.auth.id).order("created_at",{ascending:!1});if(!t&&e){x(e);const t=`${a.event}: ${a.fighter1} vs. ${a.fighter2}`,s=e.find((e=>e.evento===t));v(s||null)}})()}),[s,p]),J.useEffect((()=>{(async()=>{if(f&&s)for(const t of f){if(t.pagada){t.evento===`${a.event}: ${a.fighter1} vs. ${a.fighter2}`&&k(!0);continue}if(!t.resultados_prediccion)continue;const i=Object.values(t.resultados_prediccion);if(0===i.length)continue;const n=i.every((e=>!0===e));try{n?(R!==String(t.id)&&(await lp(s.id,t.ganancia_potencial,"ganancia_apuesta"),await op.from("predicciones").update({pagada:!0}).eq("id",t.id),await r(),T(`Felicidades! Acertaste TODAS las predicciones y ganaste ${t.ganancia_potencial} monedas.`),A("success"),C(!0),O(String(t.id)),localStorage.setItem("ultimaApuestaPagada",String(t.id))),t.evento===`${a.event}: ${a.fighter1} vs. ${a.fighter2}`&&k(!0)):(R!==String(t.id)&&(await op.from("predicciones").update({pagada:!0}).eq("id",t.id),T("No acertaste todas las predicciones. Suerte para la prxima!"),A("fail"),C(!0),O(String(t.id)),localStorage.setItem("ultimaApuestaPagada",String(t.id))),t.evento===`${a.event}: ${a.fighter1} vs. ${a.fighter2}`&&k(!0))}catch(e){}}})()}),[f,s]);const L=()=>l.winner?"winner":l.method?"method":l.round?"round":"winner",M=(e,t)=>{const s=L(),r=af[s]||1;return!e||e<=0?0:Math.floor(e*r)},I=(e,t)=>{try{let s=t;"method"!==e||nf.includes(t)||(s=void 0),"round"!==e||Array.isArray(t)&&0!==t.length||(s=[Math.ceil(a.rounds/2)]),c((t=>{const r={...t,[e]:s},a=parseInt(d,10)||0;return m(M(a)),r}))}catch(s){return}},D=async(e,t)=>{g(!0);try{await lp(s.id,t,"cancelacion_apuesta");const{error:a}=await op.from("predicciones").delete().eq("id",e);if(g(!1),a)return void alert("Error al borrar la apuesta: "+a.message);await r(),v(null),h(""),m(0),w(!1),k(!1)}catch(a){g(!1),alert("Error al cancelar la apuesta: "+a.message)}},$=({value:t})=>!0===t?e.jsx(Rc,{className:"inline w-5 h-5 text-green-500 ml-1",title:"Acertaste!"}):!1===t?e.jsx(bd,{className:"inline w-5 h-5 text-red-500 ml-1",title:"No acertaste"}):e.jsx("span",{className:"inline text-gray-400 text-xs ml-1",children:"Pendiente"});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white pt-24 pb-12 px-4",children:[e.jsx(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-2xl",children:e.jsxs(Zp,{className:"bg-black/70 border border-gray-800 shadow-lg shadow-red-900/10 backdrop-blur-sm",children:[e.jsxs(Qp,{className:"text-center border-b border-gray-700 pb-4",children:[e.jsx(eg,{className:"text-2xl sm:text-3xl font-black uppercase text-red-500 tracking-wider",children:t("prediction.title")}),e.jsxs(tg,{className:"text-base sm:text-lg text-gray-300 mt-1",children:[a.event,": ",a.fighter1," vs. ",a.fighter2]})]}),e.jsx(sg,{className:"pt-6 space-y-8",children:N?e.jsxs("div",{className:"bg-gray-900/60 rounded-lg p-4 border border-gray-800 mb-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-400 mb-2",children:"Ya participaste en este evento"}),e.jsx("div",{className:"text-gray-300 mb-2",children:"No puedes realizar otra apuesta para este evento."}),y&&e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white mb-1",children:y.evento}),e.jsxs("div",{className:"text-gray-400 text-sm mb-1",children:["Apuesta: ",e.jsx("span",{className:"text-yellow-400 font-bold",children:y.monto_apuesta})," | Ganancia: ",e.jsx("span",{className:"text-green-400 font-bold",children:y.ganancia_potencial})]}),e.jsx("div",{className:"text-gray-500 text-xs mb-2",children:new Date(y.created_at).toLocaleString()}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-sm mb-4",children:[y.prediccion?.winner&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Ganador:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:y.prediccion.winner})]}),y.prediccion?.method&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Mtodo:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:y.prediccion.method})]}),y.prediccion?.round&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Round:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:Array.isArray(y.prediccion.round)?y.prediccion.round[0]:y.prediccion.round})]}),y.prediccion?.firstStrike&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"1er Golpe:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:y.prediccion.firstStrike})]}),y.prediccion?.firstTakedown&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"1er Derribo:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:y.prediccion.firstTakedown})]}),y.prediccion?.mostSignificantStrikes&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Ms Golpes:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:y.prediccion.mostSignificantStrikes})]})]}),y&&!0!==y.pagada&&!y.resultados_prediccion&&e.jsx(oc,{onClick:()=>D(y.id,y.monto_apuesta),className:"bg-red-700 hover:bg-red-800 w-full",disabled:p,children:p?"Eliminando...":"Cancelar apuesta"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(of,{predictionKey:"winner",value:l.winner,onChange:I,fighters:a,label:t("prediction.who_wins"),icon:Tc,iconColor:"text-yellow-400"}),e.jsx(lf,{value:l.method,onChange:I}),e.jsx(cf,{value:l.round,onChange:e=>{I("round",e)},maxRounds:a.rounds}),e.jsx("hr",{className:"border-gray-700"}),e.jsx("h3",{className:"text-xl font-semibold text-center text-gray-300 pt-2 mb-6",children:"Predicciones Adicionales"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(of,{predictionKey:"firstStrike",value:l.firstStrike,onChange:I,fighters:a,label:t("prediction.first_strike"),icon:ud,iconColor:"text-blue-400"}),e.jsx(of,{predictionKey:"firstTakedown",value:l.firstTakedown,onChange:I,fighters:a,label:t("prediction.first_takedown"),icon:Ic,iconColor:"text-green-400"}),e.jsx(of,{predictionKey:"mostSignificantStrikes",value:l.mostSignificantStrikes,onChange:I,fighters:a,label:t("prediction.most_significant_strikes"),icon:vd,iconColor:"text-purple-400"})]}),e.jsx("hr",{className:"border-gray-700 mt-8"}),e.jsx(df,{betAmount:d,balance:s?.saldo??0,potentialWinnings:u,onBetChange:e=>{const t=e.target.value;if(/^\d*$/.test(t)){const e=parseInt(t,10)||0,r=Math.min(e,s?.saldo??0),a=r>0?r.toString():"";h(a),m(M(r))}}}),e.jsx(rg,{className:"border-t border-gray-700 pt-6",children:e.jsx(oc,{type:"submit",onClick:async e=>{if(e.preventDefault(),y)return void alert("Ya tienes una apuesta para este evento. Elimnala si quieres cambiarla.");const i=parseInt(d,10)||0;if(i<=0)alert(t("prediction.alert_invalid_bet"));else if(i>(s?.saldo??0))alert(t("prediction.alert_no_coins"));else if(s){g(!0);try{await cp(s.id,i,"apuesta");const e=L(),t=af[e]||1,n=M(i),o={winner:l.winner,method:l.method,round:l.round,firstStrike:l.firstStrike,firstTakedown:l.firstTakedown,mostSignificantStrikes:l.mostSignificantStrikes},{error:c}=await op.from("predicciones").insert([{user_id:s.auth.id,evento:`${a.event}: ${a.fighter1} vs. ${a.fighter2}`,prediccion:o,monto_apuesta:i,cuota:t,ganancia_potencial:n,pagada:!1}]);if(c)return alert("Error al guardar la prediccin: "+c.message),void g(!1);await r(),h(""),m(0)}catch(n){alert("Error al apostar: "+n.message)}g(!1)}else alert("Debes iniciar sesin para apostar.")},className:"w-full bg-red-600 hover:bg-red-700 text-lg py-3 font-bold uppercase tracking-wider",disabled:!d||parseInt(d,10)<=0||p,children:p?t("prediction.sending")||"Enviando...":t("prediction.send")})})]})}),f.length>0&&e.jsxs("div",{className:"mt-10",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-200 mb-4",children:"Historial de Predicciones"}),e.jsx("div",{className:"space-y-4",children:f.map((t=>e.jsxs("div",{className:"bg-gray-900/60 rounded-lg p-4 border border-gray-800 mb-2 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white mb-1",children:t.evento}),e.jsxs("div",{className:"text-gray-400 text-sm mb-1",children:["Apuesta: ",e.jsx("span",{className:"text-yellow-400 font-bold",children:t.monto_apuesta})," | Ganancia: ",e.jsx("span",{className:"text-green-400 font-bold",children:t.ganancia_potencial})]}),e.jsx("div",{className:"text-gray-500 text-xs mb-2",children:new Date(t.created_at).toLocaleString()}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-sm",children:[t.prediccion?.winner&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Ganador:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:t.prediccion.winner})," ",e.jsx($,{value:t.resultados_prediccion?.winner})]}),t.prediccion?.method&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Mtodo:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:t.prediccion.method})," ",e.jsx($,{value:t.resultados_prediccion?.method})]}),t.prediccion?.round&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Round:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:Array.isArray(t.prediccion.round)?t.prediccion.round[0]:t.prediccion.round})," ",e.jsx($,{value:t.resultados_prediccion?.round})]}),t.prediccion?.firstStrike&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"1er Golpe:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:t.prediccion.firstStrike})," ",e.jsx($,{value:t.resultados_prediccion?.firstStrike})]}),t.prediccion?.firstTakedown&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"1er Derribo:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:t.prediccion.firstTakedown})," ",e.jsx($,{value:t.resultados_prediccion?.firstTakedown})]}),t.prediccion?.mostSignificantStrikes&&e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"text-white",children:"Ms Golpes:"})," ",e.jsx("span",{className:"ml-1 font-bold text-white",children:t.prediccion.mostSignificantStrikes})," ",e.jsx($,{value:t.resultados_prediccion?.mostSignificantStrikes})]})]})]}),!0!==t.pagada&&!t.resultados_prediccion&&e.jsx(oc,{onClick:()=>D(t.id,t.monto_apuesta),className:"bg-red-700 hover:bg-red-800 w-full sm:w-auto mt-4 sm:mt-0",children:p?"Eliminando...":"Cancelar apuesta"})]},t.id)))})]})]})}),e.jsx(Fg,{open:S,onOpenChange:e=>{C(e)},children:e.jsxs(qg,{className:"max-w-md mx-auto text-center bg-black border border-gray-700",children:[e.jsx(Hg,{className:"success"===E?"text-green-400":"text-red-400",children:"success"===E?"Apuesta Ganada!":"Apuesta No Acertada"}),e.jsx(Kg,{className:"text-lg mt-2 mb-4 text-white",children:P}),e.jsx(oc,{onClick:()=>C(!1),className:"mt-2 w-full bg-red-700 hover:bg-red-800",children:"Cerrar"})]})})]})},uf=J.createContext(),mf=()=>{const e=J.useContext(uf);if(!e)throw new Error("useClips debe ser usado dentro de un ClipsProvider");return e},pf=({children:t})=>{const[s,r]=J.useState([]),{user:a}=up(),i=async()=>{if(!a)return void r([]);const{data:e,error:t}=await op.from("clips").select("*").eq("user_id",a.auth.id).order("created_at",{ascending:!1});t||r(e)};J.useEffect((()=>{i()}),[a]);return e.jsx(uf.Provider,{value:{savedClips:s,addClip:async e=>{if(!a)return;const{data:t,error:s}=await op.from("clips").insert([{...e,user_id:a.auth.id}]).select();return!s&&t&&r((e=>[t[0],...e])),{data:t,error:s}},deleteClip:async e=>{if(!a)return;const{error:t}=await op.from("clips").delete().eq("id",e).eq("user_id",a.auth.id);t||r((t=>t.filter((t=>t.id!==e))))},fetchClips:i},children:t})},gf=()=>{const[t,s]=J.useState(!1),[r,a]=J.useState(null),i=J.useRef(null),n=J.useRef(null),o=J.useRef([]),[l,c]=J.useState([]),[d,h]=J.useState(""),u=J.useRef(null),{addClip:m}=mf(),{user:p}=up(),{t:g}=_c();J.useEffect((()=>{i.current&&i.current&&(i.current.src="/pelea.mp4",i.current.addEventListener("loadedmetadata",(()=>{i.current.play().catch((e=>{}))})),i.current.addEventListener("error",(e=>{a("Error al cargar el video")})))}),[]),J.useEffect((()=>{(async()=>{const{data:e,error:t}=await op.from("live_chat").select("*").order("created_at",{ascending:!0});t||c(e)})();const e=op.channel("public:live_chat").on("postgres_changes",{event:"INSERT",schema:"public",table:"live_chat"},(e=>{c((t=>[...t,e.new]))})).subscribe();return()=>{op.removeChannel(e)}}),[]),J.useEffect((()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"})}),[l]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white pt-24 pb-12 px-4",children:e.jsx(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-6xl",children:e.jsxs(Zp,{className:"bg-black/70 border border-gray-800 shadow-lg shadow-red-900/10 backdrop-blur-sm",children:[e.jsx(Qp,{className:"text-center border-b border-gray-700 pb-4",children:e.jsx(eg,{className:"text-2xl sm:text-3xl font-black uppercase text-red-500 tracking-wider",children:g("live.title")})}),e.jsxs(sg,{className:"pt-6",children:[r&&e.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-200 p-4 rounded-lg mb-6",children:r}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:[e.jsx("video",{ref:i,className:"w-full h-full object-cover",controls:!0,autoPlay:!0,playsInline:!0}),e.jsxs("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center",children:[e.jsx(Vc,{className:"w-4 h-4 mr-2 animate-pulse"}),g("live.on_air")]})]}),e.jsx("div",{className:"mt-4 flex justify-center space-x-4",children:e.jsxs(oc,{onClick:t?async()=>{n.current&&t&&(n.current.stop(),s(!1),n.current.onstop=async()=>{if(!p)return void a(g("live.error_login"));const e=new Blob(o.current,{type:"video/webm"}),t=`clip_${p.auth.id}_${Date.now()}.webm`,{error:s}=await op.storage.from("clips").upload(t,e);if(s)return void a(g("live.error_upload",{message:s.message}));const{data:r}=op.storage.from("clips").getPublicUrl(t);await m({video_url:r.publicUrl,title:`Clip de ${p.nombre_usuario}`,start_time_seconds:i.current?.currentTime||0})})}:()=>{if(i.current)try{const e=i.current.captureStream(),t=new MediaRecorder(e,{mimeType:"video/webm;codecs=vp9",videoBitsPerSecond:25e5});n.current=t,o.current=[],t.ondataavailable=e=>{e.data.size>0&&o.current.push(e.data)},t.onstop=()=>{const e=new Blob(o.current,{type:"video/webm"}),t=URL.createObjectURL(e),s=(new Date).toLocaleTimeString();m({url:t,title:`Clip ${s}`,duration:"0:45",timestamp:(new Date).toISOString()})},t.start(),s(!0)}catch(e){a(g("live.error_record"))}},className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(ad,{className:"w-5 h-5 mr-2"}),g(t?"live.stop_record":"live.record_clip")]})})]}),e.jsxs("div",{className:"lg:col-span-1 flex flex-col h-full",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-200",children:g("live.chat_title")}),e.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-900/50 rounded-lg p-3 border border-gray-800 mb-2 max-h-96",children:[0===l.length&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:g("live.no_messages")}),l.map((t=>e.jsxs("div",{className:"mb-2 flex items-center",children:[e.jsx(gg,{username:t.username,className:"font-bold text-red-400 mr-2"}),e.jsx("span",{className:"text-gray-300",children:t.message}),e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(t.created_at).toLocaleTimeString()})]},t.id))),e.jsx("div",{ref:u})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),d.trim()&&p&&(await op.from("live_chat").insert([{user_id:p.auth.id,username:p.nombre_usuario,message:d}]),h(""))},className:"flex gap-2",children:[e.jsx("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:g("live.write_message"),className:"flex-1 rounded-md bg-gray-800 text-white px-3 py-2 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500",disabled:!p}),e.jsx(oc,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold px-4 py-2 rounded-md",disabled:!p,children:g("live.send")})]})]})]})]})]})})})},ff=async e=>{try{const{data:t,error:s}=await op.from("peleas").select("\n        *,\n        peleador_1_foto,\n        peleador_2_foto\n      ").eq("evento_id",e).eq("tipo_pelea","principal").eq("activo",!0).single();if(s){if("PGRST116"===s.code)return null;throw new Error(`Error al obtener pelea principal: ${s.message}`)}return t}catch(t){throw t}},xf=async e=>{try{const{data:t,error:s}=await op.from("peleas").select("\n        *,\n        peleador_1_foto,\n        peleador_2_foto\n      ").eq("evento_id",e).eq("tipo_pelea","co-estelar").eq("activo",!0).single();if(s){if("PGRST116"===s.code)return null;throw new Error(`Error al obtener pelea co-estelar: ${s.message}`)}return t}catch(t){throw t}},yf=async e=>{try{const{data:t,error:s}=await op.from("peleas").select("\n        *,\n        peleador_1_foto,\n        peleador_2_foto\n      ").eq("evento_id",e).eq("tipo_pelea","estelar").eq("activo",!0).order("orden_pelea",{ascending:!0});if(s)throw new Error(`Error al obtener peleas estelares: ${s.message}`);return t||[]}catch(t){throw t}},vf=async e=>{try{const{data:t,error:s}=await op.from("peleas").select("\n        *,\n        peleador_1_foto,\n        peleador_2_foto\n      ").eq("evento_id",e).eq("tipo_pelea","preliminar").eq("activo",!0).order("orden_pelea",{ascending:!0});if(s)throw new Error(`Error al obtener peleas preliminares: ${s.message}`);return t||[]}catch(t){throw t}},bf=({eventTitle:t,eventId:s=null})=>{const{t:r}=_c(),{id:a}=se(),[i,n]=J.useState(null),[o,l]=J.useState(null),[c,d]=J.useState(null),[h,u]=J.useState([]),[m,p]=J.useState([]),[g,f]=J.useState(!0),[x,y]=J.useState(null);J.useEffect((()=>{(async()=>{try{f(!0),y(null);const e=await Kp();let r;const i=a||s;if(i?r=e.find((e=>e.id===parseInt(i))):t&&(r=e.find((e=>e.titulo===t))),r){n(r);const[e,t,s,a]=await Promise.all([ff(r.id),xf(r.id),yf(r.id),vf(r.id)]);l(e),d(t),u(s),p(a)}else n(null)}catch(e){y(e.message)}finally{f(!1)}})()}),[a,t,s]);return g?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-3xl",children:e.jsxs("div",{className:"flex justify-center items-center py-20",children:[e.jsx(Wc,{className:"w-8 h-8 animate-spin text-red-500 mr-4"}),e.jsx("span",{className:"text-gray-400",children:"Cargando evento..."})]})})}):x?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-3xl",children:e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Error al cargar evento"}),e.jsx("p",{className:"text-gray-400",children:x})]})})})}):i?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-3xl",children:e.jsxs(Zp,{className:"bg-black/80 border border-gray-800 shadow-lg backdrop-blur-sm",children:[e.jsxs("div",{className:"relative h-56 md:h-72 w-full overflow-hidden rounded-t-lg",children:[e.jsx("img",{src:i.imagen||"https://images.unsplash.com/photo-1696407254550-989e4543dc11",alt:i.texto_alternativo||i.titulo,className:"w-full h-full object-cover object-center"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"})]}),e.jsxs(Qp,{className:"text-center border-b border-gray-700 pb-4",children:[e.jsx(eg,{className:"text-3xl font-black uppercase text-red-500 tracking-wider",children:i.titulo}),e.jsxs("div",{className:"text-gray-300 mt-2 text-lg",children:[(v=i.fecha,new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}))," - ",i.ubicacion," (",i.sede,")"]}),e.jsx("div",{className:"text-yellow-400 font-bold text-lg mt-1",children:"7:00 PM (hora local)"})]}),e.jsxs(sg,{className:"pt-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-4 text-center",children:"Cartelera Estelar"}),o&&e.jsxs("div",{className:"bg-red-900/20 rounded-lg px-4 py-3 border border-red-700 mb-4",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx("span",{className:"text-red-400 font-bold text-sm uppercase tracking-wider",children:"Pelea Principal"})}),e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsxs("div",{className:"col-span-5 flex items-center justify-end gap-2",children:[e.jsx("img",{src:o.peleador_1_foto||"https://via.placeholder.com/60x60/333/fff?text=?",alt:o.peleador_1_nombre,className:"w-16 h-16 md:w-18 md:h-18 rounded-full object-contain border-2 border-gray-700 bg-black"}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow text-right",children:o.peleador_1_nombre}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow",children:o.peleador_1_bandera})]}),e.jsx("div",{className:"col-span-2 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-200 text-lg md:text-2xl font-black tracking-wider",children:"VS"})}),e.jsxs("div",{className:"col-span-5 flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow",children:o.peleador_2_bandera}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow text-left",children:o.peleador_2_nombre}),e.jsx("img",{src:o.peleador_2_foto||"https://via.placeholder.com/60x60/333/fff?text=?",alt:o.peleador_2_nombre,className:"w-16 h-16 md:w-18 md:h-18 rounded-full object-contain border-2 border-gray-700 bg-black"})]})]}),e.jsx("div",{className:"w-full text-center mt-2",children:e.jsx("span",{className:"text-xs text-red-300 font-semibold",children:o.categoria_peso})})]}),c&&e.jsxs("div",{className:"bg-blue-900/20 rounded-lg px-4 py-3 border border-blue-700 mb-4",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx("span",{className:"text-blue-400 font-bold text-sm uppercase tracking-wider",children:"Co-Estelar"})}),e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsxs("div",{className:"col-span-5 flex items-center justify-end gap-2",children:[e.jsx("img",{src:c.peleador_1_foto||"https://via.placeholder.com/60x60/333/fff?text=?",alt:c.peleador_1_nombre,className:"w-16 h-16 md:w-18 md:h-18 rounded-full object-contain border-2 border-gray-700 bg-black"}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow text-right",children:c.peleador_1_nombre}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow",children:c.peleador_1_bandera})]}),e.jsx("div",{className:"col-span-2 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-200 text-lg md:text-2xl font-black tracking-wider",children:"VS"})}),e.jsxs("div",{className:"col-span-5 flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow",children:c.peleador_2_bandera}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow text-left",children:c.peleador_2_nombre}),e.jsx("img",{src:c.peleador_2_foto||"https://via.placeholder.com/60x60/333/fff?text=?",alt:c.peleador_2_nombre,className:"w-16 h-16 md:w-18 md:h-18 rounded-full object-contain border-2 border-gray-700 bg-black"})]})]}),e.jsx("div",{className:"w-full text-center mt-2",children:e.jsx("span",{className:"text-xs text-blue-300 font-semibold",children:c.categoria_peso})})]}),e.jsx("div",{className:"space-y-4 mb-8",children:h.map(((t,s)=>e.jsxs("div",{className:"bg-gray-900/60 rounded-lg px-4 py-3 border border-gray-700 mb-2",children:[e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsxs("div",{className:"col-span-5 flex items-center justify-end gap-2",children:[e.jsx("img",{src:t.peleador_1_foto||"https://via.placeholder.com/50x50/333/fff?text=?",alt:t.peleador_1_nombre,className:"w-14 h-14 md:w-16 md:h-16 rounded-full object-contain border-2 border-gray-700 bg-black"}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow",children:t.peleador_1_bandera}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow text-right",children:t.peleador_1_nombre})]}),e.jsx("div",{className:"col-span-2 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-200 text-lg md:text-2xl font-black tracking-wider",children:"VS"})}),e.jsxs("div",{className:"col-span-5 flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow text-left",children:t.peleador_2_nombre}),e.jsx("span",{className:"text-white text-base md:text-lg font-bold drop-shadow",children:t.peleador_2_bandera}),e.jsx("img",{src:t.peleador_2_foto||"https://via.placeholder.com/50x50/333/fff?text=?",alt:t.peleador_2_nombre,className:"w-14 h-14 md:w-16 md:h-16 rounded-full object-contain border-2 border-gray-700 bg-black"})]})]}),e.jsx("div",{className:"w-full text-center mt-2",children:e.jsx("span",{className:"text-xs text-blue-300 font-semibold",children:t.categoria_peso})})]},t.id)))}),e.jsx("h2",{className:"text-xl font-bold text-blue-400 mb-4 text-center",children:"Prelims"}),e.jsx("div",{className:"space-y-3",children:m.map(((t,s)=>e.jsxs("div",{className:"bg-gray-900/40 rounded px-4 py-2 border border-gray-800 mb-2",children:[e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2",children:[e.jsxs("div",{className:"col-span-5 flex items-center justify-end gap-2",children:[e.jsx("img",{src:t.peleador_1_foto||"https://via.placeholder.com/40x40/333/fff?text=?",alt:t.peleador_1_nombre,className:"w-12 h-12 md:w-14 md:h-14 rounded-full object-contain border-2 border-gray-700 bg-black"}),e.jsx("span",{className:"text-white text-sm md:text-base font-bold drop-shadow",children:t.peleador_1_bandera}),e.jsx("span",{className:"text-white text-sm md:text-base font-bold drop-shadow text-right",children:t.peleador_1_nombre})]}),e.jsx("div",{className:"col-span-2 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-200 text-base md:text-xl font-black tracking-wider",children:"VS"})}),e.jsxs("div",{className:"col-span-5 flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-white text-sm md:text-base font-bold drop-shadow text-left",children:t.peleador_2_nombre}),e.jsx("span",{className:"text-white text-sm md:text-base font-bold drop-shadow",children:t.peleador_2_bandera}),e.jsx("img",{src:t.peleador_2_foto||"https://via.placeholder.com/40x40/333/fff?text=?",alt:t.peleador_2_nombre,className:"w-12 h-12 md:w-14 md:h-14 rounded-full object-contain border-2 border-gray-700 bg-black"})]})]}),e.jsx("div",{className:"w-full text-center mt-2",children:e.jsx("span",{className:"text-xs text-yellow-300 font-semibold",children:t.categoria_peso})})]},t.id)))})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white pt-24 pb-12 px-4",children:e.jsx("div",{className:"container mx-auto max-w-3xl",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-400 mb-2",children:"Evento no encontrado"}),e.jsx("p",{className:"text-gray-500",children:"El evento solicitado no est disponible."})]})})});var v},wf=()=>e.jsx(bf,{eventId:1}),jf=()=>{const{savedClips:t,deleteClip:s}=mf(),{t:r}=_c();return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-950 to-black text-white pt-24 pb-12 px-4",children:e.jsx(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto max-w-6xl",children:e.jsxs(Zp,{className:"bg-black/70 border border-gray-800 shadow-lg shadow-red-900/10 backdrop-blur-sm",children:[e.jsx(Qp,{className:"text-center border-b border-gray-700 pb-4",children:e.jsx(eg,{className:"text-2xl sm:text-3xl font-black uppercase text-red-500 tracking-wider",children:r("clips.saved_clips")})}),e.jsx(sg,{className:"pt-6",children:0===t.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-400 text-lg",children:r("clips.no_clips")}),e.jsx("p",{className:"text-gray-500 mt-2",children:r("clips.hint_record")})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((t=>e.jsx(nl.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},children:e.jsxs(Zp,{className:"bg-black/60 border-gray-800 shadow-lg overflow-hidden backdrop-blur-sm",children:[e.jsxs("div",{className:"relative aspect-video",children:[e.jsx("video",{src:t.video_url,className:"w-full h-full object-cover",controls:!0}),e.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 px-2 py-1 rounded text-xs flex items-center text-gray-300",children:[e.jsx(Vc,{className:"w-3 h-3 mr-1 text-red-500"}),t.duration_seconds,"s"]})]}),e.jsxs(sg,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Grabado el ",new Date(t.created_at).toLocaleString()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(oc,{variant:"outline",className:"flex-1 border-red-600 text-red-500 hover:bg-red-600 hover:text-white",onClick:()=>((e,t)=>{const s=document.createElement("a");s.href=e,s.download=`${t}.webm`,document.body.appendChild(s),s.click(),document.body.removeChild(s)})(t.video_url,t.title),children:[e.jsx(qc,{className:"w-4 h-4 mr-2"}),r("clips.download")]}),e.jsxs(oc,{variant:"outline",className:"flex-1 border-red-600 text-red-500 hover:bg-red-600 hover:text-white",onClick:()=>{return e=t.video_url,void(navigator.share?navigator.share({title:r("clips.clip_title"),url:e}):(navigator.clipboard.writeText(e),alert(r("clips.url_copied"))));var e},children:[e.jsx(nd,{className:"w-4 h-4 mr-2"}),r("clips.share")]}),e.jsx(oc,{variant:"outline",className:"border-red-600 text-red-500 hover:bg-red-600 hover:text-white",onClick:()=>s(t.id),children:e.jsx(pd,{className:"w-4 h-4"})})]})]})]})},t.id)))})})]})})})},_f=J.forwardRef((({className:t,...s},r)=>e.jsx(H,{ref:r,className:sc("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s})));_f.displayName=H.displayName;const Nf=J.forwardRef((({className:t,...s},r)=>e.jsx(K,{ref:r,className:sc("aspect-square h-full w-full",t),...s})));Nf.displayName=K.displayName;const kf=J.forwardRef((({className:t,...s},r)=>e.jsx(G,{ref:r,className:sc("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s})));kf.displayName=G.displayName;const Sf=()=>{const{id:t}=se(),{t:s}=_c(),[r,a]=J.useState(null),[i,n]=J.useState([]),[o,l]=J.useState(""),{user:c}=up(),d=c?.auth?.id,h=c?.nombre_usuario,u=c?.avatar;if(J.useEffect((()=>{(async function(e){const{data:t,error:s}=await op.from("forum_threads").select("*").eq("id",e).single();if(s)throw s;return t})(t).then(a),async function(e){const{data:t,error:s}=await op.from("forum_replies").select("*").eq("thread_id",e).order("created_at",{ascending:!0});if(s)throw s;return t||[]}(t).then(n)}),[t]),!r)return e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsx("h1",{className:"text-4xl font-bold text-red-500",children:s("thread.not_found")})});return e.jsx(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"min-h-screen bg-black text-white py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx(Zp,{className:"bg-gray-900 border-gray-800 mb-6",children:e.jsxs(Qp,{children:[e.jsx(eg,{className:"text-3xl font-bold text-red-500 mb-2",children:r.title}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s("thread.by")," ",e.jsx(gg,{username:r.username,className:"font-medium text-red-400"})," - ",new Date(r.created_at).toLocaleString()]})]})}),e.jsx(Zp,{className:"bg-gray-900 border-gray-800 mb-6",children:e.jsxs(sg,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs(_f,{className:"h-10 w-10 mr-4",children:[e.jsx(Nf,{src:r.avatar||"https://github.com/shadcn.png",alt:r.username}),e.jsx(kf,{children:r.username?.charAt(0)})]}),e.jsxs("div",{children:[e.jsx(gg,{username:r.username,className:"font-semibold text-white"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(r.created_at).toLocaleString()})]})]}),e.jsx("div",{className:"whitespace-pre-line text-lg text-white",children:r.content})]})}),e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:s("thread.replies",{count:i.length})}),e.jsx(Zp,{className:"bg-black/60 border-gray-800 shadow-lg backdrop-blur-sm mb-6",children:e.jsx(sg,{className:"p-0",children:e.jsx("ul",{className:"divide-y divide-gray-800",children:i.length>0?i.map((t=>e.jsx("li",{className:"p-4",children:e.jsx(Zp,{className:"bg-gray-900 border-gray-800 mb-2",children:e.jsxs(sg,{className:"flex items-start gap-4 p-4",children:[e.jsxs(_f,{className:"h-8 w-8",children:[e.jsx(Nf,{src:t.avatar||"https://github.com/shadcn.png",alt:t.username}),e.jsx(kf,{children:t.username?.charAt(0)})]}),e.jsxs("div",{children:[e.jsx(gg,{username:t.username,className:"font-semibold text-white"}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleString()}),e.jsx("div",{className:"whitespace-pre-line text-white mt-1",children:t.content})]})]})})},t.id))):e.jsx("li",{className:"p-4 text-center text-gray-500",children:s("thread.no_replies")})})})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!o.trim())return;const s=await async function({thread_id:e,content:t,user_id:s,username:r,avatar:a}){const{data:i,error:n}=await op.from("forum_replies").insert([{thread_id:e,content:t,user_id:s,username:r,avatar:a}]).select().single();if(n)throw n;return i}({thread_id:t,content:o,user_id:d,username:h,avatar:u});n([...i,s]),l("")},className:"mb-8",children:[e.jsx(Qg,{value:o,onChange:e=>l(e.target.value),placeholder:s("thread.reply_placeholder"),className:"mb-2 bg-gray-900 border-gray-700 text-white",rows:3,required:!0,disabled:!c}),e.jsx(oc,{type:"submit",className:"bg-red-600 hover:bg-red-700",disabled:!c,children:s("thread.reply_button")})]})]})})},Cf=()=>{const{id:t}=se(),{t:s}=_c(),[r,a]=J.useState(null),[i,n]=J.useState([]);return J.useEffect((()=>{ef().then((e=>{const s=e.find((e=>String(e.id)===String(t)));a(s)})),async function(e){const{data:t,error:s}=await op.from("forum_threads").select("*").eq("category_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]}(t).then(n)}),[t]),r?e.jsx(nl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"min-h-screen bg-black text-white py-8 px-4 sm:px-6 lg:px-8 pt-24",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(Zp,{className:"bg-gray-900 border-gray-800 mb-6",children:e.jsxs(Qp,{className:"text-center",children:[e.jsx(eg,{className:"text-4xl md:text-5xl font-black mb-2 uppercase text-red-500 tracking-wider",children:r.name}),e.jsx(tg,{className:"text-lg text-gray-400 mb-4",children:r.description}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center mt-4",children:[e.jsxs("div",{className:"relative flex-grow max-w-md",children:[e.jsx(Jp,{type:"text",placeholder:s("category.search_placeholder",{category:r.name}),className:"pl-10 bg-gray-800 border-gray-700 focus:border-red-500 focus:ring-red-500 text-white"}),e.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-500"})]}),e.jsx(tf,{categoryId:r.id,onThreadCreated:e=>n([e,...i])})]})]})}),e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:s("category.threads_in",{category:r.name,count:i.length})}),e.jsx(Zp,{className:"bg-black/60 border-gray-800 shadow-lg backdrop-blur-sm",children:e.jsx(sg,{className:"p-0",children:e.jsx("ul",{className:"divide-y divide-gray-800",children:i.length>0?i.map((t=>e.jsxs("li",{className:"p-4 hover:bg-gray-800/50 transition-colors duration-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(_f,{className:"h-8 w-8",children:[e.jsx(Nf,{src:t.avatar||"https://github.com/shadcn.png",alt:t.username}),e.jsx(kf,{children:t.username?.charAt(0)})]}),e.jsxs("div",{children:[e.jsx(Q,{to:`/thread/${t.id}`,className:"text-lg font-semibold text-white hover:text-red-400 transition-colors",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s("forum.by")," ",e.jsx("span",{className:"font-medium text-gray-400",children:t.username})," ","-"," ",new Date(t.created_at).toLocaleString()]})]})]}),e.jsx("div",{className:"text-sm text-gray-400 mt-2 sm:mt-0 text-right flex-shrink-0",children:e.jsx(Q,{to:`/thread/${t.id}`,children:e.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex items-center",children:[e.jsx(ed,{className:"w-4 h-4 mr-1"}),"Ver hilo"]})})})]},t.id))):e.jsx("li",{className:"p-4 text-center text-gray-500",children:s("category.no_threads")})})})})]})}):e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsx("h1",{className:"text-4xl font-bold text-red-500",children:s("category.not_found")})})},Pf=()=>e.jsx(bf,{eventId:2}),Tf=()=>e.jsx(bf,{eventId:3}),Ef=()=>e.jsx(bf,{eventId:4});async function Af(e,t={}){const s=function(){const e=localStorage.getItem("sb-gqylknstxjwlybyvvcvx-auth-token");if(e)try{return JSON.parse(e).access_token}catch(t){}return localStorage.getItem("authToken")||sessionStorage.getItem("authToken")}(),r=`https://smashufc-nine.vercel.app/api/compras${e}`,a={headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}},...t};try{const e=await fetch(r,a);if(!e.ok){const t=await e.json().catch((()=>({})));throw new Error(t.error||`Error ${e.status}: ${e.statusText}`)}return await e.json()}catch(i){throw i}}const Rf=({paquete:t,onSelect:s,isSelected:r,isLoading:a})=>{const{t:i}=_c();return e.jsxs(Zp,{className:"transition-all duration-300 cursor-pointer "+(t.popular?"border-yellow-500 bg-gradient-to-br from-yellow-900/20 to-black ring-2 ring-yellow-500/50":r?"border-red-500 bg-gradient-to-br from-red-900/20 to-black ring-2 ring-red-500/50":"border-gray-700 bg-gradient-to-br from-gray-900/50 to-black hover:border-gray-600"),children:[e.jsxs(Qp,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-2",children:t.popular&&e.jsxs(ug,{className:"bg-yellow-500 text-black font-bold mb-2",children:[e.jsx(hd,{className:"h-3 w-3 mr-1"}),i("coins.most_popular")]})}),e.jsx(eg,{className:"text-xl font-bold text-white mb-2",children:t.nombre}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[e.jsx(Fc,{className:"h-6 w-6 text-yellow-400"}),e.jsx("span",{className:"text-3xl font-bold text-yellow-400",children:t.monedas.toLocaleString()})]}),e.jsx("div",{className:"text-gray-200 text-sm mb-4",children:t.descripcion}),t.descuento>0&&e.jsx("div",{className:"flex items-center justify-center space-x-2 mb-3",children:e.jsxs(ug,{variant:"destructive",className:"text-xs",children:[e.jsx(jd,{className:"h-3 w-3 mr-1"}),t.descuento,"% ",i("coins.discount")]})})]}),e.jsxs(sg,{className:"text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",t.precio<1?t.precio.toFixed(4):t.precio.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-gray-200",children:[i("coins.per_coin"),": $",(t.precio/t.monedas).toFixed(6)]})]}),e.jsx(oc,{className:"w-full "+(t.popular?"bg-yellow-600 hover:bg-yellow-700 text-black font-bold":"bg-red-600 hover:bg-red-700 text-white"),onClick:()=>s(t),disabled:a,children:a?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:i("coins.processing")})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fc,{className:"h-4 w-4"}),e.jsx("span",{children:i("coins.buy_now")})]})})]})]})},Of=()=>{const{user:t,refreshUser:s}=up(),{t:r}=_c(),{toast:a}=Fp(),[i,n]=J.useState(null),[o,l]=J.useState(!1),[c,d]=J.useState([]),[h,u]=J.useState(!0);J.useEffect((()=>{m()}),[]);const m=async()=>{try{u(!0);const e=await async function(){return Af("/paquetes")}();e.success&&d(e.paquetes)}catch(e){a({title:"Error",description:"No se pudieron cargar los paquetes",variant:"destructive"})}finally{u(!1)}},p=async e=>{if(t){l(!0),n(e);try{const t=await async function(e){return Af("/crear-pago",{method:"POST",body:JSON.stringify({paqueteId:e})})}(e.id);if(!t.success)throw new Error(t.error||"Error creando pago");a({title:r("coins.purchase_initiated"),description:r("coins.redirecting_payment")}),window.location.href=t.init_point}catch(s){a({title:r("error.title"),description:r("error.purchase_failed"),variant:"destructive"})}finally{l(!1)}}else a({title:r("error.title"),description:r("auth.login_required"),variant:"destructive"})};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx(Fc,{className:"h-8 w-8 text-yellow-400"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:r("coins.title")})]}),e.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:r("coins.subtitle")})]}),e.jsx(Zp,{className:"mb-8 bg-gradient-to-r from-gray-800 to-gray-900 border-yellow-500/70 shadow-lg",children:e.jsx(sg,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Fc,{className:"h-8 w-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:r("coins.current_balance")}),e.jsx("p",{className:"text-gray-300",children:r("coins.balance_description")})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:t.saldo?.toLocaleString()||0}),e.jsx("div",{className:"text-sm text-gray-300",children:r("coins.coins")})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(Zp,{className:"bg-gradient-to-br from-green-900/20 to-black border-green-500/50",children:e.jsxs(sg,{className:"p-6 text-center",children:[e.jsx(ld,{className:"h-8 w-8 text-green-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r("coins.secure_payment")}),e.jsx("p",{className:"text-gray-400 text-sm",children:r("coins.secure_description")})]})}),e.jsx(Zp,{className:"bg-gradient-to-br from-blue-900/20 to-black border-blue-500/50",children:e.jsxs(sg,{className:"p-6 text-center",children:[e.jsx(jd,{className:"h-8 w-8 text-blue-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r("coins.instant_delivery")}),e.jsx("p",{className:"text-gray-400 text-sm",children:r("coins.instant_description")})]})}),e.jsx(Zp,{className:"bg-gradient-to-br from-purple-900/20 to-black border-purple-500/50",children:e.jsxs(sg,{className:"p-6 text-center",children:[e.jsx(hd,{className:"h-8 w-8 text-purple-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r("coins.best_value")}),e.jsx("p",{className:"text-gray-400 text-sm",children:r("coins.best_value_description")})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:r("coins.choose_package")}),h?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"text-white",children:"Cargando paquetes..."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((t=>e.jsx(Rf,{paquete:t,onSelect:p,isSelected:i?.id===t.id,isLoading:o&&i?.id===t.id},t.id)))})]}),e.jsxs(Zp,{className:"mt-8 bg-gradient-to-br from-gray-900/50 to-black border-gray-700",children:[e.jsx(Qp,{children:e.jsxs(eg,{className:"text-white flex items-center space-x-2",children:[e.jsx(Uc,{className:"h-5 w-5"}),e.jsx("span",{children:r("coins.payment_methods")})]})}),e.jsx(sg,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:r("coins.accepted_methods")}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsxs("li",{children:[" ",r("coins.credit_cards")]}),e.jsxs("li",{children:[" ",r("coins.debit_cards")]}),e.jsxs("li",{children:[" ",r("coins.bank_transfer")]}),e.jsxs("li",{children:[" ",r("coins.digital_wallets")]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:r("coins.security_info")}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsxs("li",{children:[" ",r("coins.ssl_encryption")]}),e.jsxs("li",{children:[" ",r("coins.pci_compliant")]}),e.jsxs("li",{children:[" ",r("coins.refund_policy")]}),e.jsxs("li",{children:[" ",r("coins.customer_support")]})]})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:e.jsx(Zp,{className:"w-full max-w-md bg-gradient-to-br from-gray-900/50 to-black border-gray-700",children:e.jsxs(sg,{className:"p-8 text-center",children:[e.jsx(Fc,{className:"h-16 w-16 mx-auto mb-4 text-yellow-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:r("coins.login_required")}),e.jsx("p",{className:"text-gray-400 mb-6",children:r("coins.login_message")}),e.jsx(oc,{asChild:!0,className:"w-full bg-red-600 hover:bg-red-700",children:e.jsx("a",{href:"/login",children:r("auth.login")})})]})})})},Lf=({userId:t,tieneAcceso:s,loading:r,onComprarAcceso:a,saldoUsuario:i})=>{const{toast:n}=Fp(),o=500;return e.jsxs(Zp,{className:"bg-gradient-to-br from-gray-900/50 to-black border-2 transition-all duration-300 "+(s?"border-green-500 shadow-green-500/20":"border-purple-500 shadow-purple-500/20"),children:[e.jsx(Qp,{children:e.jsxs(eg,{className:"text-white flex items-center space-x-2",children:[e.jsx(sd,{className:"h-6 w-6 text-purple-400"}),e.jsx("span",{children:"Acceso a Clips Destacados"}),s&&e.jsxs(ug,{className:"bg-green-500 text-white text-xs animate-pulse",children:[e.jsx(Rc,{className:"h-3 w-3 mr-1"}),"Desbloqueado"]})]})}),e.jsx(sg,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-4xl flex-shrink-0",children:s?"":""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:s?"Acceso Premium Desbloqueado":"Contenido Exclusivo"}),e.jsx("p",{className:"text-gray-300 mb-3",children:s?"Disfruta de clips destacados exclusivos y contenido premium":"Desbloquea acceso a clips destacados exclusivos y contenido premium"}),!s&&e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Fc,{className:"h-4 w-4 text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400 font-semibold",children:["Precio: ",o.toLocaleString()," monedas"]})]})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Saldo disponible: ",i?.toLocaleString()||0," monedas"]}),e.jsx(oc,{onClick:async()=>{try{await a(o),n({title:" Acceso desbloqueado!",description:"Ahora puedes acceder a clips destacados exclusivos"})}catch(e){n({title:"Error",description:e.message||"No se pudo comprar el acceso",variant:"destructive"})}},disabled:r||(i||0)<o,className:((i||0)>=o?"bg-purple-600 hover:bg-purple-700":"bg-gray-600 cursor-not-allowed")+" text-white",children:r?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Comprando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Desbloquear Acceso"]})})]}),s&&e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[e.jsx(Rc,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Acceso activo!"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Puedes acceder a clips destacados desde el men principal"})]})]})})]})},Mf=()=>{const{user:t}=up(),{t:s}=_c(),{toast:r}=Fp(),{loading:a,purchaseBadge:i}=mg(),{tieneAccesoClipsDestacados:n,loading:o,comprarAccesoClips:l}=Jg(t?.id),[c,d]=J.useState([]),[h,u]=J.useState([]),[m,p]=J.useState(!0);J.useEffect((()=>{t?.id&&g()}),[t?.id]);const g=async()=>{try{p(!0);const[e,s]=await Promise.all([vp(),wp(t.id)]);d(e),u(s)}catch(e){r({title:"Error",description:"No se pudieron cargar los datos de la tienda",variant:"destructive"})}finally{p(!1)}},f=t=>{switch(t){case"comun":default:return e.jsx(hd,{className:"h-3 w-3"});case"rara":return e.jsx(jd,{className:"h-3 w-3"});case"legendaria":return e.jsx(Bc,{className:"h-3 w-3"})}};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:e.jsx(Zp,{className:"w-full max-w-md bg-gradient-to-br from-gray-900/50 to-black border-gray-700",children:e.jsxs(sg,{className:"p-8 text-center",children:[e.jsx(Bc,{className:"h-16 w-16 mx-auto mb-4 text-yellow-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Inscrbete para acceder"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Necesitas estar registrado para acceder a la tienda de insignias"}),e.jsx(oc,{asChild:!0,className:"w-full bg-red-600 hover:bg-red-700",children:e.jsx("a",{href:"/login",children:"Iniciar Sesin"})})]})})});const x=h.map((e=>e.insignia_id));return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx(Bc,{className:"h-8 w-8 text-yellow-400"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Canjear Recompensas"})]}),e.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Colecciona insignias exclusivas y desbloquea contenido premium"})]}),e.jsx(Zp,{className:"mb-8 bg-gradient-to-r from-gray-800 to-gray-900 border-yellow-500/70 shadow-lg",children:e.jsx(sg,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Fc,{className:"h-8 w-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu Saldo Actual"}),e.jsx("p",{className:"text-gray-300",children:"Monedas disponibles para comprar insignias"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:t.saldo?.toLocaleString()||0}),e.jsx("div",{className:"text-sm text-gray-300",children:"monedas"})]})]})})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center space-x-2",children:[e.jsx(hd,{className:"h-6 w-6 text-purple-400"}),e.jsx("span",{children:"Recompensas Premium"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsx(Lf,{userId:t?.id,tieneAcceso:n,loading:o,onComprarAcceso:l,saldoUsuario:t?.saldo})})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Insignias Disponibles (",c.length,")"]}),m?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map(((t,s)=>e.jsxs(Zp,{className:"animate-pulse",children:[e.jsxs(Qp,{children:[e.jsx("div",{className:"h-6 bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-2/3"})]}),e.jsxs(sg,{children:[e.jsx("div",{className:"h-16 bg-gray-700 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]})]},s)))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map((s=>{const r=x.includes(s.id),n=(e=>{switch(e){case"comun":default:return{border:"border-gray-600",background:"bg-gradient-to-br from-gray-800/50 to-black",badge:"bg-gray-600 text-white",icon:"text-gray-400"};case"rara":return{border:"border-blue-500",background:"bg-gradient-to-br from-blue-900/20 to-black",badge:"bg-blue-600 text-white",icon:"text-blue-400"};case"legendaria":return{border:"border-yellow-500",background:"bg-gradient-to-br from-yellow-900/20 to-black",badge:"bg-yellow-600 text-black",icon:"text-yellow-400"}}})(s.rareza),o=t.saldo>=s.precio;return e.jsxs(Zp,{className:`transition-all duration-300 ${n.border} ${n.background} hover:scale-105`,children:[e.jsxs(Qp,{className:"text-center pb-4",children:[e.jsxs("div",{className:"flex justify-center mb-2",children:[e.jsxs(ug,{className:`${n.badge} text-xs font-bold`,children:[f(s.rareza),e.jsx("span",{className:"ml-1 capitalize",children:s.rareza})]}),s.limitada&&e.jsxs(ug,{variant:"destructive",className:"ml-2 text-xs",children:[e.jsx(Bc,{className:"h-3 w-3 mr-1"}),"Limitada"]})]}),e.jsx("div",{className:"text-6xl mb-4",children:s.icono}),e.jsx(eg,{className:"text-xl font-bold text-white mb-2",children:s.nombre}),e.jsx("div",{className:"text-gray-200 text-sm mb-4",children:s.descripcion}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[e.jsx(Fc,{className:"h-5 w-5 text-yellow-400"}),e.jsx("span",{className:"text-2xl font-bold text-yellow-400",children:s.precio.toLocaleString()})]})]}),e.jsx(sg,{className:"text-center",children:e.jsx(oc,{className:"w-full "+(r?"bg-green-600 hover:bg-green-700 text-white":o?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),onClick:()=>(async e=>{try{await i(t.id,e,[g])}catch(s){}})(s.id),disabled:r||!o||a,children:a?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Procesando..."})]}):r?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tc,{className:"h-4 w-4"}),e.jsx("span",{children:"Ya poseda"})]}):o?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cd,{className:"h-4 w-4"}),e.jsx("span",{children:"Comprar"})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fc,{className:"h-4 w-4"}),e.jsx("span",{children:"Saldo insuficiente"})]})})})]},s.id)}))})]})]})})},If=()=>{const[t]=re(),s=ee(),{toast:r}=Fp(),{t:a}=_c(),[i,n]=J.useState(null),[o,l]=J.useState(null),c=t.get("status")||"pending";t.get("payment_id"),t.get("preference_id"),J.useEffect((()=>{switch(c){case"approved":n("success");break;case"rejected":n("failure");break;default:n("pending")}"approved"===c?r({title:"Pago Exitoso!",description:"Las monedas han sido agregadas a tu cuenta"}):"rejected"===c&&r({title:"Pago Rechazado",description:"El pago no pudo ser procesado",variant:"destructive"})}),[c,r]);const d=()=>{s("/comprar-monedas")},h=()=>{s("/")};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(Zp,{className:"w-full max-w-md",children:[e.jsx(Qp,{children:e.jsx(eg,{className:"text-center",children:"Estado del Pago"})}),e.jsxs(sg,{children:["success"===i&&e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(Rc,{className:"w-16 h-16 text-green-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Pago Exitoso!"}),e.jsx("p",{className:"text-gray-600",children:"Tu pago ha sido procesado correctamente"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Qu sigue?"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:" Las monedas han sido agregadas a tu cuenta"}),e.jsx("li",{children:" Puedes usar las monedas inmediatamente"}),e.jsx("li",{children:" Recibirs un email de confirmacin"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs(oc,{onClick:d,variant:"outline",children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Volver a Compras"]}),e.jsx(oc,{onClick:h,children:"Ir al Inicio"})]})]}),"failure"===i&&e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(bd,{className:"w-16 h-16 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Pago Rechazado"}),e.jsx("p",{className:"text-gray-600",children:"No se pudo procesar tu pago"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Posibles causas:"}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[e.jsx("li",{children:" Fondos insuficientes"}),e.jsx("li",{children:" Tarjeta bloqueada"}),e.jsx("li",{children:" Datos incorrectos"}),e.jsx("li",{children:" Problemas de conectividad"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs(oc,{onClick:d,variant:"outline",children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Intentar Nuevamente"]}),e.jsx(oc,{onClick:h,children:"Ir al Inicio"})]})]}),"pending"===i&&e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(Vc,{className:"w-16 h-16 text-yellow-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-2",children:"Pago Pendiente"}),e.jsx("p",{className:"text-gray-600",children:"Tu pago est siendo procesado"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Qu significa esto?"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:" Tu pago est siendo verificado"}),e.jsx("li",{children:" Puede tomar unos minutos"}),e.jsx("li",{children:" Recibirs una notificacin cuando se complete"}),e.jsx("li",{children:" Las monedas se agregarn automticamente"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs(oc,{onClick:d,variant:"outline",children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Volver a Compras"]}),e.jsx(oc,{onClick:h,children:"Ir al Inicio"})]})]}),!1]})]})})},Df=()=>e.jsxs(ae,{children:[e.jsx(ie,{path:"/",element:e.jsx(Wp,{})}),e.jsx(ie,{path:"/login",element:e.jsx(ig,{})}),e.jsx(ie,{path:"/register",element:e.jsx(og,{})}),e.jsx(ie,{path:"/profile",element:e.jsx(fg,{})}),e.jsx(ie,{path:"/compare",element:e.jsx(Pg,{})}),e.jsx(ie,{path:"/fighters",element:e.jsx($g,{})}),e.jsx(ie,{path:"/events",element:e.jsx(Vg,{})}),e.jsx(ie,{path:"/highlights",element:e.jsx(Zg,{})}),e.jsx(ie,{path:"/forum",element:e.jsx(sf,{})}),e.jsx(ie,{path:"/predict",element:e.jsx(hf,{})}),e.jsx(ie,{path:"/live",element:e.jsx(gf,{})}),e.jsx(ie,{path:"/ufc303",element:e.jsx(wf,{})}),e.jsx(ie,{path:"/ufcnamajunasbarber",element:e.jsx(Pf,{})}),e.jsx(ie,{path:"/ufc304",element:e.jsx(Tf,{})}),e.jsx(ie,{path:"/ufcsandhagennurmagomedov",element:e.jsx(Ef,{})}),e.jsx(ie,{path:"/clips",element:e.jsx(jf,{})}),e.jsx(ie,{path:"/coins",element:e.jsx(Of,{})}),e.jsx(ie,{path:"/badges",element:e.jsx(Mf,{})}),e.jsx(ie,{path:"/comprar-monedas/success",element:e.jsx(If,{})}),e.jsx(ie,{path:"/comprar-monedas/failure",element:e.jsx(If,{})}),e.jsx(ie,{path:"/comprar-monedas/pending",element:e.jsx(If,{})}),e.jsx(ie,{path:"/thread/:id",element:e.jsx(Sf,{})}),e.jsx(ie,{path:"/category/:id",element:e.jsx(Cf,{})}),e.jsx(ie,{path:"/event/:id",element:e.jsx(bf,{})})]}),$f=()=>{const t=ee();return J.useEffect((()=>{const e=new URLSearchParams(window.location.search);"signup"===e.get("type")&&e.get("access_token")&&t("/login");(async()=>{const{data:{user:e}}=await op.auth.getUser();if(e){const{data:t}=await op.from("usuario").select("*").eq("correo",e.email).single();t||(await op.from("usuario").insert([{nombre_usuario:e.user_metadata?.full_name||e.email.split("@")[0],correo:e.email,fecha_registro:(new Date).toISOString(),puntos:0,rango:"Novato",avatar:e.user_metadata?.avatar_url||null,notificaciones:!0,tema:"dark","contrasea":"",saldo:0}]),window.dispatchEvent(new Event("storage")))}})()}),[t]),e.jsx(Bp,{children:e.jsx(Df,{})})},Vf=e=>"string"==typeof e,Ff=()=>{let e,t;const s=new Promise(((s,r)=>{e=s,t=r}));return s.resolve=e,s.reject=t,s},Uf=e=>null==e?"":""+e,Bf=/###/g,qf=e=>e&&e.indexOf("###")>-1?e.replace(Bf,"."):e,zf=e=>!e||Vf(e),Hf=(e,t,s)=>{const r=Vf(t)?t.split("."):t;let a=0;for(;a<r.length-1;){if(zf(e))return{};const t=qf(r[a]);!e[t]&&s&&(e[t]=new s),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return zf(e)?{}:{obj:e,k:qf(r[a])}},Kf=(e,t,s)=>{const{obj:r,k:a}=Hf(e,t,Object);if(void 0!==r||1===t.length)return void(r[a]=s);let i=t[t.length-1],n=t.slice(0,t.length-1),o=Hf(e,n,Object);for(;void 0===o.obj&&n.length;)i=`${n[n.length-1]}.${i}`,n=n.slice(0,n.length-1),o=Hf(e,n,Object),o?.obj&&void 0!==o.obj[`${o.k}.${i}`]&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=s},Gf=(e,t)=>{const{obj:s,k:r}=Hf(e,t);if(s&&Object.prototype.hasOwnProperty.call(s,r))return s[r]},Wf=(e,t,s)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Vf(e[r])||e[r]instanceof String||Vf(t[r])||t[r]instanceof String?s&&(e[r]=t[r]):Wf(e[r],t[r],s):e[r]=t[r]);return e},Jf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Xf=e=>Vf(e)?e.replace(/[&<>"'\/]/g,(e=>Yf[e])):e;const Zf=[" ",",","?","!",";"],Qf=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}(20),ex=(e,t,s=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(s);let a=e;for(let i=0;i<r.length;){if(!a||"object"!=typeof a)return;let e,t="";for(let n=i;n<r.length;++n)if(n!==i&&(t+=s),t+=r[n],e=a[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&n<r.length-1)continue;i+=n-i+1;break}a=e}return a},tx=e=>e?.replace("_","-"),sx={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){}};class rx{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||sx,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,r){return r&&!this.debug?null:(Vf(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new rx(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new rx(this.logger,e)}}var ax=new rx;class ix{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const s=this.observers[e].get(t)||0;this.observers[e].set(t,s+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((([e,s])=>{for(let r=0;r<s;r++)e(...t)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((([s,r])=>{for(let a=0;a<r;a++)s.apply(s,[e,...t])}))}}}class nx extends ix{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,r={}){const a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let n;e.indexOf(".")>-1?n=e.split("."):(n=[e,t],s&&(Array.isArray(s)?n.push(...s):Vf(s)&&a?n.push(...s.split(a)):n.push(s)));const o=Gf(this.data,n);return!o&&!t&&!s&&e.indexOf(".")>-1&&(e=n[0],t=n[1],s=n.slice(2).join(".")),!o&&i&&Vf(s)?ex(this.data?.[e]?.[t],s,a):o}addResource(e,t,s,r,a={silent:!1}){const i=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator;let n=[e,t];s&&(n=n.concat(i?s.split(i):s)),e.indexOf(".")>-1&&(n=e.split("."),r=t,t=n[1]),this.addNamespaces(t),Kf(this.data,n,r),a.silent||this.emit("added",e,t,s,r)}addResources(e,t,s,r={silent:!1}){for(const a in s)(Vf(s[a])||Array.isArray(s[a]))&&this.addResource(e,t,a,s[a],{silent:!0});r.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,r,a,i={silent:!1,skipCopy:!1}){let n=[e,t];e.indexOf(".")>-1&&(n=e.split("."),r=s,s=t,t=n[1]),this.addNamespaces(t);let o=Gf(this.data,n)||{};i.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?Wf(o,s,a):o={...o,...s},Kf(this.data,n,o),i.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var ox={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,r,a){return e.forEach((e=>{t=this.processors[e]?.process(t,s,r,a)??t})),t}};const lx={},cx=e=>!Vf(e)&&"boolean"!=typeof e&&"number"!=typeof e;class dx extends ix{constructor(e,t={}){var s,r;super(),s=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{s[e]&&(r[e]=s[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ax.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};if(null==e)return!1;const r=this.resolve(e,s);return void 0!==r?.res}extractFromKey(e,t){let s=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===s&&(s=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const i=s&&e.indexOf(s)>-1,n=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,s)=>{t=t||"",s=s||"";const r=Zf.filter((e=>t.indexOf(e)<0&&s.indexOf(e)<0));if(0===r.length)return!0;const a=Qf.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!a.test(e);if(!i){const t=e.indexOf(s);t>0&&!a.test(e.substring(0,t))&&(i=!0)}return i})(e,s,r));if(i&&!n){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Vf(a)?[a]:a};const i=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(i[0])>-1)&&(a=i.shift()),e=i.join(r)}return{key:e,namespaces:Vf(a)?[a]:a}}translate(e,t,s){let r="object"==typeof t?{...t}:t;if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof options&&(r={...r}),r||(r={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const a=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:n,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1];let c=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===d?.toLowerCase())return h?a?{res:`${l}${c}${n}`,usedKey:n,exactUsedKey:n,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${c}${n}`:a?{res:n,usedKey:n,exactUsedKey:n,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:n;const u=this.resolve(e,r);let m=u?.res;const p=u?.usedKey||n,g=u?.exactUsedKey||n,f=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==r.count&&!Vf(r.count),v=dx.hasDefaultValue(r),b=y?this.pluralResolver.getSuffix(d,r.count,r):"",w=r.ordinal&&y?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",j=y&&!r.ordinal&&0===r.count,_=j&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${b}`]||r[`defaultValue${w}`]||r.defaultValue;let N=m;x&&!m&&v&&(N=_);const k=cx(N),S=Object.prototype.toString.apply(N);if(!(x&&N&&k&&["[object Number]","[object Function]","[object RegExp]"].indexOf(S)<0)||Vf(f)&&Array.isArray(N))if(x&&Vf(f)&&Array.isArray(m))m=m.join(f),m&&(m=this.extendTranslation(m,e,r,s));else{let t=!1,a=!1;!this.isValidLookup(m)&&v&&(t=!0,m=_),this.isValidLookup(m)||(a=!0,m=n);const o=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:m,h=v&&_!==m&&this.options.updateMissing;if(a||t||h){if(this.logger.log(h?"updateKey":"missingKey",d,l,n,h?_:m),i){const e=this.resolve(n,{...r,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const s=(e,t,s)=>{const a=v&&s!==m?s:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,a,h,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,a,h,r),this.emit("missingKey",e,l,t,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach((e=>{const t=this.pluralResolver.getSuffixes(e,r);j&&r[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach((t=>{s([e],n+t,r[`defaultValue${t}`]||_)}))})):s(e,n,_))}m=this.extendTranslation(m,e,r,u,s),a&&m===n&&this.options.appendNamespaceToMissingKey&&(m=`${l}${c}${n}`),(a||t)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${n}`:n,t?m:void 0,r))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,N,{...r,ns:o}):`key '${n} (${this.language})' returned an object instead of string.`;return a?(u.res=e,u.usedParams=this.getUsedParamsDetails(r),u):e}if(i){const e=Array.isArray(N),t=e?[]:{},s=e?g:p;for(const a in N)if(Object.prototype.hasOwnProperty.call(N,a)){const e=`${s}${i}${a}`;t[a]=v&&!m?this.translate(e,{...r,defaultValue:cx(_)?_[a]:void 0,joinArrays:!1,ns:o}):this.translate(e,{...r,joinArrays:!1,ns:o}),t[a]===e&&(t[a]=N[a])}m=t}}return a?(u.res=m,u.usedParams=this.getUsedParamsDetails(r),u):m}extendTranslation(e,t,s,r,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const i=Vf(e)&&(void 0!==s?.interpolation?.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let n;if(i){const t=e.match(this.interpolator.nestingRegexp);n=t&&t.length}let o=s.replace&&!Vf(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),e=this.interpolator.interpolate(e,o,s.lng||this.language||r.usedLng,s),i){const t=e.match(this.interpolator.nestingRegexp);n<(t&&t.length)&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),!1!==s.nest&&(e=this.interpolator.nest(e,((...e)=>a?.[0]!==e[0]||s.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null)),s)),s.interpolation&&this.interpolator.reset()}const i=s.postProcess||this.options.postProcess,n=Vf(i)?[i]:i;return null!=e&&n?.length&&!1!==s.applyPostProcessor&&(e=ox.handle(n,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,r,a,i,n;return Vf(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(s))return;const o=this.extractFromKey(e,t),l=o.key;r=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==t.count&&!Vf(t.count),h=d&&!t.ordinal&&0===t.count,u=void 0!==t.context&&(Vf(t.context)||"number"==typeof t.context)&&""!==t.context,m=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach((e=>{this.isValidLookup(s)||(n=e,lx[`${m[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(n)||(lx[`${m[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${m.join(", ")}" won't get resolved as namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach((r=>{if(this.isValidLookup(s))return;i=r;const n=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(n,l,r,e,t);else{let e;d&&(e=this.pluralResolver.getSuffix(r,t.count,t));const s=`${this.options.pluralSeparator}zero`,a=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(n.push(l+e),t.ordinal&&0===e.indexOf(a)&&n.push(l+e.replace(a,this.options.pluralSeparator)),h&&n.push(l+s)),u){const r=`${l}${this.options.contextSeparator}${t.context}`;n.push(r),d&&(n.push(r+e),t.ordinal&&0===e.indexOf(a)&&n.push(r+e.replace(a,this.options.pluralSeparator)),h&&n.push(r+s))}}let o;for(;o=n.pop();)this.isValidLookup(s)||(a=o,s=this.getResource(r,e,o,t))})))}))})),{res:s,usedKey:r,exactUsedKey:a,usedLng:i,usedNS:n}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,s,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,r):this.resourceStore.getResource(e,t,s,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Vf(e.replace);let r=s?e.replace:e;if(s&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,12)&&void 0!==e[s])return!0;return!1}}class hx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ax.create("languageUtils")}getScriptPartFromCode(e){if(!(e=tx(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=tx(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Vf(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch(t){}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const s=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(s)||(t=s)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const s=this.getScriptPartFromCode(e);if(this.isSupportedCode(s))return t=s;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find((e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Vf(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],a=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Vf(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):Vf(e)&&a(this.formatLanguageCode(e)),s.forEach((e=>{r.indexOf(e)<0&&a(this.formatLanguageCode(e))})),r}}const ux={zero:0,one:1,two:2,few:3,many:4,other:5},mx={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class px{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=ax.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=tx("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let i;try{i=new Intl.PluralRules(s,{type:r})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),mx;if(!e.match(/-|_/))return mx;const s=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(s,t)}return this.pluralRulesCache[a]=i,i}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map((e=>`${t}${e}`))}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort(((e,t)=>ux[e]-ux[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t,s={}){const r=this.getRule(e,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const gx=(e,t,s,r=".",a=!0)=>{let i=((e,t,s)=>{const r=Gf(e,s);return void 0!==r?r:Gf(t,s)})(e,t,s);return!i&&a&&Vf(s)&&(i=ex(e,s,r),void 0===i&&(i=ex(t,s,r))),i},fx=e=>e.replace(/\$/g,"$$$$");class xx{constructor(e={}){this.logger=ax.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:r,prefix:a,prefixEscaped:i,suffix:n,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:u,nestingSuffix:m,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:f,alwaysFormat:x}=e.interpolation;this.escape=void 0!==t?t:Xf,this.escapeValue=void 0===s||s,this.useRawValueToEscape=void 0!==r&&r,this.prefix=a?Jf(a):i||"{{",this.suffix=n?Jf(n):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?Jf(h):u||Jf("$t("),this.nestingSuffix=m?Jf(m):p||Jf(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=f||1e3,this.alwaysFormat=void 0!==x&&x,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,r){let a,i,n;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const a=gx(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(a,void 0,s,{...r,...t,interpolationkey:e}):a}const a=e.split(this.formatSeparator),i=a.shift().trim(),n=a.join(this.formatSeparator).trim();return this.format(gx(t,o,i,this.options.keySeparator,this.options.ignoreJSONStructure),n,s,{...r,...t,interpolationkey:i})};this.resetRegExp();const c=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>fx(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?fx(this.escape(e)):fx(e)}].forEach((t=>{for(n=0;a=t.regex.exec(e);){const s=a[1].trim();if(i=l(s),void 0===i)if("function"==typeof c){const t=c(e,a,r);i=Vf(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,s))i="";else{if(d){i=a[0];continue}this.logger.warn(`missed to pass in variable ${s} for interpolating ${e}`),i=""}else Vf(i)||this.useRawValueToEscape||(i=Uf(i));const o=t.safeValue(i);if(e=e.replace(a[0],o),d?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,n++,n>=this.maxReplaces)break}})),e}nest(e,t,s={}){let r,a,i;const n=(e,t)=>{const s=this.nestingOptionsSeparator;if(e.indexOf(s)<0)return e;const r=e.split(new RegExp(`${s}[ ]*{`));let a=`{${r[1]}`;e=r[0],a=this.interpolate(a,i);const n=a.match(/'/g),o=a.match(/"/g);((n?.length??0)%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{i=JSON.parse(a),t&&(i={...t,...i})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,l),`${e}${s}${a}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];i={...s},i=i.replace&&!Vf(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map((e=>e.trim()));r[1]=e.shift(),o=e,l=!0}if(a=t(n.call(this,r[1].trim(),i),i),a&&r[0]===e&&!Vf(a))return a;Vf(a)||(a=Uf(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),l&&(a=o.reduce(((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:r[1].trim()})),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}const yx=e=>{const t={};return(s,r,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const n=r+JSON.stringify(i);let o=t[n];return o||(o=e(tx(r),a),t[n]=o),o(s)}},vx=e=>(t,s,r)=>e(tx(s),r)(t);class bx{constructor(e={}){this.logger=ax.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?yx:vx;this.formats={number:s(((e,t)=>{const s=new Intl.NumberFormat(e,{...t});return e=>s.format(e)})),currency:s(((e,t)=>{const s=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>s.format(e)})),datetime:s(((e,t)=>{const s=new Intl.DateTimeFormat(e,{...t});return e=>s.format(e)})),relativetime:s(((e,t)=>{const s=new Intl.RelativeTimeFormat(e,{...t});return e=>s.format(e,t.range||"day")})),list:s(((e,t)=>{const s=new Intl.ListFormat(e,{...t});return e=>s.format(e)}))}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=yx(t)}format(e,t,s,r={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find((e=>e.indexOf(")")>-1))){const e=a.findIndex((e=>e.indexOf(")")>-1));a[0]=[a[0],...a.splice(1,e)].join(this.formatSeparator)}const i=a.reduce(((e,t)=>{const{formatName:a,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);"currency"===t&&a.indexOf(":")<0?s.currency||(s.currency=a.trim()):"relativetime"===t&&a.indexOf(":")<0?s.range||(s.range=a.trim()):a.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),a=r.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();s[i]||(s[i]=a),"false"===a&&(s[i]=!1),"true"===a&&(s[i]=!0),isNaN(a)||(s[i]=parseInt(a,10))}}))}return{formatName:t,formatOptions:s}})(t);if(this.formats[a]){let t=e;try{const n=r?.formatParams?.[r.interpolationkey]||{},o=n.locale||n.lng||r.locale||r.lng||s;t=this.formats[a](e,o,{...i,...r,...n})}catch(n){this.logger.warn(n)}return t}return this.logger.warn(`there was no format function for ${a}`),e}),e);return i}}class wx extends ix{constructor(e,t,s,r={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=ax.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,r.backend,r)}queueLoad(e,t,s,r){const a={},i={},n={},o={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const n=`${e}|${t}`;!s.reload&&this.store.hasResourceBundle(e,t)?this.state[n]=2:this.state[n]<0||(1===this.state[n]?void 0===i[n]&&(i[n]=!0):(this.state[n]=1,r=!1,void 0===i[n]&&(i[n]=!0),void 0===a[n]&&(a[n]=!0),void 0===o[t]&&(o[t]=!0)))})),r||(n[e]=!0)})),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(n),toLoadNamespaces:Object.keys(o)}}loaded(e,t,s){const r=e.split("|"),a=r[0],i=r[1];t&&this.emit("failedLoading",a,i,t),!t&&s&&this.store.addResourceBundle(a,i,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const n={};this.queue.forEach((s=>{((e,t,s)=>{const{obj:r,k:a}=Hf(e,t,Object);r[a]=r[a]||[],r[a].push(s)})(s.loaded,[a],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(s,e),t&&s.errors.push(t),0!==s.pendingCount||s.done||(Object.keys(s.loaded).forEach((e=>{n[e]||(n[e]={});const t=s.loaded[e];t.length&&t.forEach((t=>{void 0===n[e][t]&&(n[e][t]=!0)}))})),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())})),this.emit("loaded",n),this.queue=this.queue.filter((e=>!e.done))}read(e,t,s,r=0,a=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:s,tried:r,wait:a,callback:i});this.readingCalls++;const n=(n,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}n&&o&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,s,r+1,2*a,i)}),a):i(n,o)},o=this.backend[s].bind(this.backend);if(2!==o.length)return o(e,t,n);try{const s=o(e,t);s&&"function"==typeof s.then?s.then((e=>n(null,e))).catch(n):n(null,s)}catch(l){n(l)}}prepareLoading(e,t,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Vf(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Vf(t)&&(t=[t]);const a=this.queueLoad(e,t,s,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),r=s[0],a=s[1];this.read(r,a,"read",void 0,void 0,((s,i)=>{s&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,s),!s&&i&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,i),this.loaded(e,s,i)}))}saveMissing(e,t,s,r,a,i={},n=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=s&&""!==s){if(this.backend?.create){const l={...i,isUpdate:a},c=this.backend.create.bind(this.backend);if(c.length<6)try{let a;a=5===c.length?c(e,t,s,r,l):c(e,t,s,r),a&&"function"==typeof a.then?a.then((e=>n(null,e))).catch(n):n(null,a)}catch(o){n(o)}else c(e,t,s,r,n,l)}e&&e[0]&&this.store.addResource(e[0],t,s,r)}}else this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const jx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Vf(e[1])&&(t.defaultValue=e[1]),Vf(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const s=e[3]||e[2];Object.keys(s).forEach((e=>{t[e]=s[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),_x=e=>(Vf(e.ns)&&(e.ns=[e.ns]),Vf(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Vf(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),Nx=()=>{};class kx extends ix{constructor(e={},t){var s;if(super(),this.options=_x(e),this.services={},this.logger=ax,this.modules={external:[]},s=this,Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach((e=>{"function"==typeof s[e]&&(s[e]=s[e].bind(s))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(Vf(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=jx();this.options={...s,...this.options,..._x(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?ax.init(r(this.modules.logger),this.options):ax.init(null,this.options),e=this.modules.formatter?this.modules.formatter:bx;const t=new hx(this.options);this.store=new nx(this.options.resources,this.options);const a=this.services;a.logger=ax,a.resourceStore=this.store,a.languageUtils=t,a.pluralResolver=new px(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(a.formatter=r(e),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new xx(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new wx(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",((e,...t)=>{this.emit(e,...t)})),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new dx(this.services,this.options),this.translator.on("*",((e,...t)=>{this.emit(e,...t)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,t||(t=Nx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((e=>{this[e]=(...t)=>this.store[e](...t)}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((e=>{this[e]=(...t)=>(this.store[e](...t),this)}));const a=Ff(),i=()=>{const e=(e,s)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(s),t(e,s)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),a}loadResources(e,t=Nx){let s=t;const r=Vf(e)?e:this.language;if("function"==typeof e&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===r?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return s();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(r)t(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>t(e)))}this.options.preload?.forEach?.((e=>t(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),s(e)}))}else s(null)}reloadResources(e,t,s){const r=Ff();return"function"==typeof e&&(s=e,e=void 0),"function"==typeof t&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=Nx),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),s(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ox.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=Ff();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(a,i)=>{i?this.isLanguageChangingTo===e&&(r(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,s.resolve(((...e)=>this.t(...e))),t&&t(a,((...e)=>this.t(...e)))},i=t=>{e||t||!this.services.languageDetector||(t=[]);const s=Vf(t)?t:t&&t[0],i=this.store.hasLanguageSomeTranslations(s)?s:this.services.languageUtils.getBestMatchFromCodes(Vf(t)?[t]:t);i&&(this.language||r(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector?.cacheUserLanguage?.(i)),this.loadResources(i,(e=>{a(e,i)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),s}getFixedT(e,t,s){const r=(e,t,...a)=>{let i;i="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(a)):{...t},i.lng=i.lng||r.lng,i.lngs=i.lngs||r.lngs,i.ns=i.ns||r.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||s||r.keyPrefix);const n=this.options.keySeparator||".";let o;return o=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${n}${e}`)):i.keyPrefix?`${i.keyPrefix}${n}${e}`:e,this.t(o,i)};return Vf(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=s,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;const i=(e,t)=>{const s=this.services.backendConnector.state[`${e}|${t}`];return-1===s||0===s||2===s};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(s,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(s,e)||r&&!i(a,e)))}loadNamespaces(e,t){const s=Ff();return this.options.ns?(Vf(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{s.resolve(),t&&t(e)})),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=Ff();Vf(e)&&(e=[e]);const r=this.options.preload||[],a=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return a.length?(this.options.preload=r.concat(a),this.loadResources((e=>{s.resolve(),t&&t(e)})),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new hx(jx());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new kx(e,t)}cloneInstance(e={},t=Nx){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new kx(r);void 0===e.debug&&void 0===e.prefix||(a.logger=a.logger.clone(e));if(["store","services","language"].forEach((e=>{a[e]=this[e]})),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce(((s,r)=>(s[r]={...e[t][r]},s)),e[t]),e)),{});a.store=new nx(e,r),a.services.resourceStore=a.store}return a.translator=new dx(a.services,r),a.translator.on("*",((e,...t)=>{a.emit(e,...t)})),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Sx=kx.createInstance();Sx.createInstance=kx.createInstance,Sx.createInstance,Sx.dir,Sx.init,Sx.loadResources,Sx.reloadResources,Sx.use,Sx.changeLanguage,Sx.getFixedT,Sx.t,Sx.exists,Sx.setDefaultNamespace,Sx.hasLoadedNamespace,Sx.loadNamespaces,Sx.loadLanguages;const{slice:Cx,forEach:Px}=[];const Tx=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Ex={create(e,t,s,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};s&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+60*s*1e3)),r&&(a.domain=r),document.cookie=function(e,t){const s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(s.maxAge>0){const e=s.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(s.domain){if(!Tx.test(s.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${s.domain}`}if(s.path){if(!Tx.test(s.path))throw new TypeError("option path is invalid");r+=`; Path=${s.path}`}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(r+="; HttpOnly"),s.secure&&(r+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(r+="; Partitioned"),r}(e,t,a)},read(e){const t=`${e}=`,s=document.cookie.split(";");for(let r=0;r<s.length;r++){let e=s[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Ax={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Ex.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:s,cookieMinutes:r,cookieDomain:a,cookieOptions:i}=t;s&&"undefined"!=typeof document&&Ex.create(s,e,r,a,i)}},Rx={name:"querystring",lookup(e){let t,{lookupQuerystring:s}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let a=0;a<r.length;a++){const e=r[a].indexOf("=");if(e>0){r[a].substring(0,e)===s&&(t=r[a].substring(e+1))}}}return t}},Ox={name:"hash",lookup(e){let t,{lookupHash:s,lookupFromHashIndex:r}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const a=e.substring(1);if(s){const e=a.split("&");for(let r=0;r<e.length;r++){const a=e[r].indexOf("=");if(a>0){e[r].substring(0,a)===s&&(t=e[r].substring(a+1))}}}if(t)return t;if(!t&&r>-1){const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;const s="number"==typeof r?r:0;return t[s]?.replace("/","")}}}return t}};let Lx=null;const Mx=()=>{if(null!==Lx)return Lx;try{if(Lx="undefined"!=typeof window&&null!==window.localStorage,!Lx)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Lx=!1}return Lx};var Ix={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Mx())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:s}=t;s&&Mx()&&window.localStorage.setItem(s,e)}};let Dx=null;const $x=()=>{if(null!==Dx)return Dx;try{if(Dx="undefined"!=typeof window&&null!==window.sessionStorage,!Dx)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Dx=!1}return Dx};var Vx={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&$x())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:s}=t;s&&$x()&&window.sessionStorage.setItem(s,e)}},Fx={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:s,language:r}=navigator;if(e)for(let a=0;a<e.length;a++)t.push(e[a]);s&&t.push(s),r&&t.push(r)}return t.length>0?t:void 0}},Ux={name:"htmlTag",lookup(e){let t,{htmlTag:s}=e;const r=s||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},Bx={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(s))return;const r="number"==typeof t?t:0;return s[r]?.replace("/","")}},qx={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const s="number"==typeof t?t+1:1,r="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[s]}};let zx=!1;try{document.cookie,zx=!0}catch(Xx){}const Hx=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];zx||Hx.splice(1,1);class Kx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Px.call(Cx.call(arguments,1),(t=>{if(t)for(const s in t)void 0===e[s]&&(e[s]=t[s])})),e}(t,this.options||{},{order:Hx,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Ax),this.addDetector(Rx),this.addDetector(Ix),this.addDetector(Vx),this.addDetector(Fx),this.addDetector(Ux),this.addDetector(Bx),this.addDetector(qx),this.addDetector(Ox)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach((e=>{if(this.detectors[e]){let s=this.detectors[e].lookup(this.options);s&&"string"==typeof s&&(s=[s]),s&&(t=t.concat(s))}})),t=t.filter((e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some((e=>e.test(t))));var t})).map((e=>this.options.convertDetectedLanguage(e))),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)})))}}Kx.type="languageDetector";const Gx={profile:{edit_profile:"Editar Perfil",member_since:"Miembro desde",username:"Nombre de Usuario",email:"Correo Electrnico",total_points:"Puntos Totales",ranking:"Ranking",language:"Idioma"},main_card:"Cartelera Estelar",prelims:"Preliminares",vs:"VS",weight:{"peso medio":"Peso medio","peso semipesado":"Peso semipesado","peso pesado":"Peso pesado","peso gallo":"Peso gallo","peso paja femenina":"Peso paja femenina","peso pluma":"Peso pluma","Peso ligero":"Peso ligero","peso mosca femenina":"Peso mosca femenina","peso mosca":"Peso mosca","peso welter":"Peso welter"},event:{title:{sandhagen_nurmagomedov:"UFC Fight Night: Sandhagen vs. Nurmagomedov",namajunas_barber:"UFC Fight Night: Namajunas vs. Barber",edwards_muhammad:"UFC 304: Edwards vs. Muhammad 2"},date_location:{sandhagen_nurmagomedov:"2 de agosto de 2025 - Abu Dhabi, UAE (Etihad Arena)",namajunas_barber:"12 de julio de 2025 - Denver, CO (Ball Arena)",edwards_muhammad:"26 de julio de 2025 - Manchester, England (Co-op Live)"},time:"{{time}}",arena:"Arena de UFC"},thread:{not_found:"Hilo no encontrado.",by:"por",replies:"Respuestas ({{count}})",reply_placeholder:"Escribe tu respuesta aqu...",reply_button:"Responder",no_replies:"An no hay respuestas."},clips:{saved_clips:"Clips Guardados",no_clips:"No tienes clips guardados an.",hint_record:"Graba clips durante las transmisiones en vivo para verlos aqu.",download:"Descargar",share:"Compartir",clip_title:"Clip de UFC",url_copied:"URL copiada al portapapeles"},prediction:{title:"Prediccin y Apuesta",who_wins:"Quin ganar la pelea?",ko_tko:"KO/TKO",submission:"Sumisin",decision:"Decisin",round_label:"En qu round terminar?",round_hint:"(Solo aplica si no es decisin)",yes:"S",no:"No",bet_amount:"Monto de la Apuesta",coins:"Monedas",balance:"Saldo",potential_win:"Ganancia Potencial",alert_invalid_bet:"Por favor, ingresa un monto vlido para apostar.",alert_no_coins:"No tienes suficientes monedas para esta apuesta.",alert_sent:"Predicciones enviadas con apuesta de {{amount}} monedas (ver consola)",send:"Enviar Prediccin y Apuesta",first_strike:"Primer golpe significativo?",first_takedown:"Primer derribo?",most_significant_strikes:"Ms golpes significativos?",additional_predictions:"Predicciones Adicionales",will_be_ko:"Habr KO/TKO?",will_be_sub:"Habr Sumisin?",go_to_decision:"Llegar a Decisin?"},live:{title:"Transmisin en Vivo",error_no_hls:"Tu navegador no soporta la reproduccin de video en vivo",error_record:"No se pudo iniciar la grabacin",error_login:"Debes iniciar sesin para guardar clips.",error_upload:"Error al subir el clip: {{message}}",on_air:"EN VIVO",record_clip:"Grabar Clip",stop_record:"Detener Grabacin",chat_title:"Chat en Vivo",no_messages:"No hay mensajes an. S el primero en comentar!",write_message:"Escribe tu mensaje...",send:"Enviar"},nav:{home:"Inicio",forum:"Foro",fighters:"Peleadores",compare:"Comparar",highlights:"Clips Destacados",events:"Eventos",saved_clips:"Clips Guardados",live:"Ver en Vivo",profile:"Mi Perfil",my_rankings:"Mis Rankings",buy_coins:"Comprar Monedas",rewards:"Recompensas"},auth:{login:"Iniciar Sesin",register:"Registrarse",logout:"Cerrar Sesin",email:"Correo Electrnico",password:"Contrasea",remember:"Recordarme",logging_in:"Iniciando sesin...",registering:"Registrando...",username:"Nombre de Usuario",username_placeholder:"TuUsuario",email_placeholder:"tu@email.com",passwords_no_match:"Las contraseas no coinciden",create_account:"CREAR CUENTA",complete_data_join_community:"Completa tus datos para unirte a la comunidad",confirm_password:"Confirmar Contrasea",login_here:"Inicia sesin aqu",accept_terms:"Al registrarte, aceptas nuestros ",terms_conditions:"Trminos y Condiciones",login_subtitle:"Ingresa tus credenciales para acceder a tu cuenta",forgot_password:"Olvidaste tu contrasea?",or_continue_with:"O contina con",continue_with_google:"Continuar con Google",no_account:"No tienes cuenta?",register_here:"Regstrate aqu",already_have_account:"Ya tienes cuenta?"},sidebar:{my_points:"Mis Puntos:"},stats:{accurate_predictions:"Predicciones Acertadas",coins_won:"Monedas Ganadas",global_ranking:"Ranking Global",next_level:"Siguiente Nivel"},user:{default:"Usuario",points:"pts",win_rate:"Win Rate",predictions:"Predicciones",profile:"Mi Perfil",ranking:"Ranking Global"},forum:{title:"Foro de la Comunidad",search_placeholder:"Buscar en el foro...",create_thread:"Crear Nuevo Hilo",categories:"Categoras",recent_threads:"Hilos Recientes",by:"por",in:"en",category_general:"Discusin General",category_general_desc:"Habla de todo sobre UFC",category_predictions:"Predicciones y Apuestas",category_predictions_desc:"Comparte tus pronsticos",category_news:"Noticias y Rumores",category_news_desc:"ltimas novedades del octgono",category_fighters:"Peleadores y Divisiones",category_fighters_desc:"Anlisis por categora"},highlights:{title:"Clips Destacados",ko_epic:"KO pico: McGregor vs. Aldo",submission_incredible:"Sumisin Increble: Nurmagomedov",total_war:"Guerra Total: Jones vs. Gustafsson I",surprise_kick:"Patada Voladora Sorpresa",comeback:"Remontada Histrica",night_ko:"Noche de Nocauts",alt_ko:"Golpe de nocaut en el octgono",alt_submission:"Sumisin en la lona",alt_war:"Intercambio intenso de golpes",alt_kick:"Patada voladora espectacular",alt_comeback:"Celebracin de remontada histrica",alt_night:"Montaje de momentos destacados",fighters:"Peleadores",watch_clip:"Ver Clip",loading:"Cargando clips destacados...",retry:"Reintentar",refresh:"Actualizar",no_clips:"No hay clips destacados disponibles en este momento.",upload_clip:"Subir Clip",upload_title:"Subir Nuevo Clip",title_label:"Ttulo",description_label:"Descripcin",fighters_label:"Peleadores (separados por comas)",fighters_placeholder:"McGregor, Aldo",video_label:"Archivo de Video",cancel:"Cancelar",uploading:"Subiendo...",close:"Cerrar"},fighters:{title:"Ranking Oficial de Peleadores (P4P)",champion:"Campen",top_contender:"Top Contender",status:{"Campen":"Campen","Top Contender":"Top Contender"},no_table:"Componentes de Tabla o Badge no encontrados. Por favor, cralos si no existen.",note:"Ranking Libra por Libra (P4P) basado en el rendimiento y dominio divisional.",rank:"Rank",name:"Nombre",division:"Divisin",record:"Rcord",status_col:"Status",points_col:"Puntos"},compare:{title:"Comparador de Peleadores",select_fighter_1:"Seleccionar Peleador 1",select_fighter_2:"Seleccionar Peleador 2",strikes_per_min:"Golpes / min",accuracy:"Precisin (%)",takedowns_per_15:"Derribos / 15min",defense:"Defensa (%)",avg_fight_time:"Tiempo Medio Pelea",no_select:"Componente Select no encontrado"},events:{title:"Prximos Eventos",alt_arena:"Arena iluminada llena de espectadores para un evento de UFC",alt_octagon:"Vista lateral del octgono de UFC durante una pelea",alt_staredown:"Dos peleadores frente a frente antes de un combate",alt_celebration:"Peleador victorioso celebrando en el octgono",main_event:"Pelea Principal:",co_main_event:"Co-Estelar:",details:"Ver Detalles"},category:{not_found:"Categora no encontrada.",search_placeholder:"Buscar en {{category}}...",threads_in:"Hilos en {{category}} ({{count}})",no_threads:"No hay hilos en esta categora todava."},home:{featured_fight_bg:"Fondo de pelea destacada UFC con luces de octgono",event_principal:"Evento Principal",open_predictions:"Predicciones Abiertas",star_fight:"PELEA ESTELAR",star_fight_description:"Pelea estelar por el ttulo mundial",select_fav_a:"Seleccionar a Luchador A como favorito",select_fav_b:"Seleccionar a Luchador B como favorito",fighter_a:"Retrato del Luchador A",fighter_b:"Retrato del Luchador B",see_more:"Ver en Vivo",make_prediction:"Hacer Prediccin",join_community:"Ir al Foro",learn_more:"Hacer Prediccin",join_title:"nete a la Comunidad",join_desc:"Participa en los foros, compite en los rankings de predicciones y demuestra quin sabe ms de MMA.",see_rankings:"Ver Rankings",upcoming_events:"Prximos Eventos",see_details:"Ver Detalles",champion:"Campen",challenger:"Retador",vote_percent:"% de los votos",ufc_300_title:"UFC 300: PELEA ESTELAR",see_all:"Ver todos"},login:{welcome:"Bienvenido a",subtitle:"Tu plataforma definitiva para el mundo del MMA"},register:{title:"nete a la Comunidad",subtitle:"Crea tu cuenta y empieza a predecir resultados de MMA"},rankings:{title:"Ranking Global de Predicciones",rank:"Rank",user:"Usuario",points:"Puntos",streak:"Racha",updated:"El ranking se actualiza despus de cada evento principal. Sigue prediciendo!"},fighter:{division:"Divisin:",country:"Pas:",record:"Rcord:",status:"Status:"},logo:{alt:"Logo de UFC"},coins:{title:"Comprar Monedas Virtuales",subtitle:"Adquiere monedas virtuales para participar en predicciones, apuestas y ms actividades en la plataforma",current_balance:"Saldo Actual",balance_description:"Monedas disponibles para usar",coins:"Monedas",choose_package:"Elige tu Paquete",most_popular:"Ms Popular",discount:"Descuento",per_coin:"Por moneda",buy_now:"Comprar Ahora",processing:"Procesando...",purchase_initiated:"Compra Iniciada",redirecting_payment:"Redirigiendo a MercadoPago...",purchase_success:"Compra Exitosa!",coins_added:"Se agregaron {{coins}} monedas a tu cuenta",login_required:"Inicio de Sesin Requerido",login_message:"Necesitas iniciar sesin para comprar monedas virtuales",secure_payment:"Pago Seguro",secure_description:"Protegido por MercadoPago",instant_delivery:"Entrega Instantnea",instant_description:"Monedas disponibles inmediatamente",best_value:"Mejor Valor",best_value_description:"Ms monedas por tu dinero",payment_methods:"Mtodos de Pago",accepted_methods:"Mtodos Aceptados",credit_cards:"Tarjetas de Crdito",debit_cards:"Tarjetas de Dbito",bank_transfer:"Transferencia Bancaria",digital_wallets:"Billeteras Digitales",security_info:"Informacin de Seguridad",ssl_encryption:"Cifrado SSL",pci_compliant:"Cumple con PCI DSS",refund_policy:"Poltica de Reembolso",customer_support:"Soporte al Cliente"},transactions:{history:"Historial de Transacciones",no_transactions:"No tienes transacciones an",registration:"Registro",bet:"Apuesta",vote:"Voto",purchase_basic:"Compra - Paquete Bsico",purchase_standard:"Compra - Paquete Estndar",purchase_premium:"Compra - Paquete Premium",purchase_pro:"Compra - Paquete Pro",income:"Ingreso",expense:"Egreso"},error:{title:"Error",loading_history:"Error al cargar el historial de transacciones",purchase_failed:"Error al procesar la compra. Intntalo de nuevo.",loading_rewards:"Error al cargar las recompensas",redeem_failed:"Error al canjear la recompensa. Intntalo de nuevo."},rewards:{title:"Catlogo de Recompensas",subtitle:"Canjea tus monedas virtuales por recompensas exclusivas y contenido premium",current_balance:"Saldo Actual",balance_description:"Monedas disponibles para canjear",all_categories:"Todas las Categoras",badges:"Insignias",content:"Contenido",all_rewards:"Todas las Recompensas",categories:"Categoras",my_rewards:"Mis Recompensas",total_rewards:"Total de Recompensas",total_spent:"Total Gastado",average_per_reward:"Promedio por Recompensa",common:"Comn",rare:"Rara",legendary:"Legendaria",limited:"Limitada",includes:"Incluye",benefits:"Beneficios",processing:"Procesando...",owned:"Ya Poseda",insufficient_coins:"Monedas Insuficientes",redeem:"Canjear",redeem_success:"Recompensa Canjeada!",reward_added:"Se agreg {{name}} a tu coleccin",login_required:"Inicio de Sesin Requerido",login_message:"Necesitas iniciar sesin para ver las recompensas",no_rewards:"No tienes recompensas an",start_collecting:"Comienza a coleccionar recompensas!"},eventosUFC303:{title:"UFC 303: McGregor vs. Chandler",date_location:"28 de junio de 2025 - Las Vegas, NV (T-Mobile Arena)",time:"7:00 PM (hora local)",main_card:"Cartelera Estelar",prelims:"Preliminares",vs:"VS",image_alt:"Arena de UFC 303",weights:{"Peso ligero":"Peso ligero","Peso semipesado":"Peso semipesado","Peso medio":"Peso medio","Peso gallo femenino":"Peso gallo femenino","Peso welter":"Peso welter","Peso pluma":"Peso pluma","Peso gallo":"Peso gallo","Peso mosca":"Peso mosca"}}},Wx={profile:{edit_profile:"Edit Profile",member_since:"Member since",username:"Username",email:"Email",total_points:"Total Points",ranking:"Ranking",language:"Language"},main_card:"Main Card",prelims:"Prelims",vs:"VS",weight:{"peso medio":"Middleweight","peso semipesado":"Light Heavyweight","peso pesado":"Heavyweight","peso gallo":"Bantamweight","peso paja femenina":"Women's Strawweight","peso pluma":"Featherweight","Peso ligero":"Lightweight","peso mosca femenina":"Women's Flyweight","peso mosca":"Flyweight","peso welter":"Welterweight"},event:{title:{sandhagen_nurmagomedov:"UFC Fight Night: Sandhagen vs. Nurmagomedov",namajunas_barber:"UFC Fight Night: Namajunas vs. Barber",edwards_muhammad:"UFC 304: Edwards vs. Muhammad 2"},date_location:{sandhagen_nurmagomedov:"August 2, 2025 - Abu Dhabi, UAE (Etihad Arena)",namajunas_barber:"July 12, 2025 - Denver, CO (Ball Arena)",edwards_muhammad:"July 26, 2025 - Manchester, England (Co-op Live)"},time:"{{time}}",arena:"UFC Arena"},thread:{not_found:"Thread not found.",by:"by",replies:"Replies ({{count}})"},clips:{saved_clips:"Saved Clips",no_clips:"You have no saved clips yet.",hint_record:"Record clips during live streams to see them here.",download:"Download",share:"Share",clip_title:"UFC Clip",url_copied:"URL copied to clipboard"},prediction:{title:"Prediction & Bet",who_wins:"Who will win the fight?",additional_predictions:"Additional Predictions",first_strike:"First significant strike?",first_takedown:"First takedown?",will_be_ko:"Will there be a KO/TKO?",will_be_sub:"Will there be a Submission?",go_to_decision:"Will it go to Decision?",most_significant_strikes:"Most significant strikes?",send:"Send Prediction & Bet",yes:"Yes",no:"No",bet_amount:"Bet Amount",coins:"Coins",balance:"Balance",potential_win:"Potential Winnings",alert_invalid_bet:"Please enter a valid amount to bet.",alert_no_coins:"You don't have enough coins for this bet.",alert_sent:"Predictions sent with a bet of {{amount}} coins (see console)"},live:{title:"Live Stream",error_no_hls:"Your browser does not support live video playback",error_record:"Could not start recording",error_login:"You must be logged in to save clips.",error_upload:"Error uploading clip: {{message}}",on_air:"ON AIR",record_clip:"Record Clip",stop_record:"Stop Recording",chat_title:"Live Chat",no_messages:"No messages yet. Be the first to comment!",write_message:"Type your message...",send:"Send"},nav:{home:"Home",forum:"Forum",fighters:"Fighters",compare:"Compare",highlights:"Highlights",events:"Events",saved_clips:"Saved Clips",live:"Watch Live",profile:"My Profile",my_rankings:"My Rankings",buy_coins:"Buy Coins",rewards:"Rewards"},auth:{login:"Login",register:"Register",logout:"Logout",login_subtitle:"Enter your credentials to access your account",forgot_password:"Forgot your password?",or_continue_with:"Or continue with",continue_with_google:"Continue with Google",no_account:"Don't have an account?",register_here:"Register here",accept_terms:"By logging in, you accept our ",terms_conditions:"Terms and Conditions",email:"Email",password:"Password",remember:"Remember me",already_have_account:"Already have an account?",create_account:"Create Account",complete_data_join_community:"Complete your details to join the community",username:"Username",username_placeholder:"YourUsername",confirm_password:"Confirm Password",registering:"Registering...",login_here:"Login here",passwords_no_match:"Passwords do not match",email_placeholder:"your@email.com"},sidebar:{my_points:"My Points:"},stats:{accurate_predictions:"Accurate Predictions",coins_won:"Coins Won",global_ranking:"Global Ranking",next_level:"Next Level"},user:{default:"User",points:"pts",win_rate:"Win Rate",predictions:"Predictions",profile:"My Profile",ranking:"Global Ranking"},forum:{title:"Community Forum",search_placeholder:"Search the forum...",create_thread:"Create New Thread",categories:"Categories",recent_threads:"Recent Threads",by:"by",in:"in",category_general:"General Discussion",category_general_desc:"Talk about everything UFC",category_predictions:"Predictions & Bets",category_predictions_desc:"Share your predictions",category_news:"News & Rumors",category_news_desc:"Latest octagon news",category_fighters:"Fighters & Divisions",category_fighters_desc:"Category analysis"},highlights:{title:"Highlights",ko_epic:"Epic KO: McGregor vs. Aldo",submission_incredible:"Incredible Submission: Nurmagomedov",total_war:"Total War: Jones vs. Gustafsson I",surprise_kick:"Surprise Flying Kick",comeback:"Historic Comeback",night_ko:"Night of Knockouts",alt_ko:"Knockout punch in the octagon",alt_submission:"Submission hold on the mat",alt_war:"Intense exchange of blows",alt_kick:"Spectacular flying kick",alt_comeback:"Celebrating a comeback victory",alt_night:"Montage of highlight moments",fighters:"Fighters",watch_clip:"Watch Clip",loading:"Loading highlights...",retry:"Retry",refresh:"Refresh",no_clips:"No featured clips available at the moment.",upload_clip:"Upload Clip",upload_title:"Upload New Clip",title_label:"Title",description_label:"Description",fighters_label:"Fighters (comma separated)",fighters_placeholder:"McGregor, Aldo",video_label:"Video File",cancel:"Cancel",uploading:"Uploading...",close:"Close"},fighters:{title:"Official Fighter Rankings (P4P)",champion:"Champion",top_contender:"Top Contender",status:{"Campen":"Champion","Top Contender":"Top Contender",Campeao:"Champion"},no_table:"Table or Badge components not found. Please create them if missing.",note:"Pound for Pound (P4P) ranking based on performance and divisional dominance.",rank:"Rank",name:"Name",division:"Division",record:"Record",status_col:"Status",points_col:"Points"},compare:{title:"Fighter Comparison",select_fighter_1:"Select Fighter 1",select_fighter_2:"Select Fighter 2",strikes_per_min:"Strikes / min",accuracy:"Accuracy (%)",takedowns_per_15:"Takedowns / 15min",defense:"Defense (%)",avg_fight_time:"Avg Fight Time",no_select:"Select component not found"},events:{title:"Upcoming Events",alt_arena:"Brightly lit arena packed with spectators for a UFC event",alt_octagon:"Side view of the UFC octagon during a fight",alt_staredown:"Two fighters facing off intensely before a match",alt_celebration:"A victorious fighter celebrating in the octagon",main_event:"Main Event:",co_main_event:"Co-Main Event:",details:"View Details"},category:{not_found:"Category not found.",search_placeholder:"Search in {{category}}...",threads_in:"Threads in {{category}} ({{count}})",no_threads:"No threads in this category yet."},login:{welcome:"Welcome to",subtitle:"Your ultimate platform for the MMA world"},register:{title:"Join the Community",subtitle:"Create your account and start predicting MMA results"},rankings:{title:"Global Prediction Rankings",rank:"Rank",user:"User",points:"Points",streak:"Streak",updated:"The ranking is updated after each main event. Keep predicting!"},fighter:{division:"Division:",country:"Country:",record:"Record:",status:"Status:"},home:{join_title:"Join the Community",join_desc:"Participate in the forums, compete in the prediction rankings, and show who knows the most about MMA.",see_rankings:"See Rankings",upcoming_events:"Upcoming Events",see_details:"See Details",champion:"Champion",challenger:"Challenger",vote_percent:"% of votes",ufc_300_title:"UFC 300: MAIN EVENT",open_predictions:"Open Predictions",event_principal:"Main Event",star_fight_description:"Main event for the world title",see_more:"Watch Live",make_prediction:"Make Prediction",see_all:"See all"},logo:{alt:"UFC Logo"},coins:{title:"Buy Virtual Coins",subtitle:"Purchase virtual coins to participate in predictions, bets and more platform activities",current_balance:"Current Balance",balance_description:"Coins available to use",coins:"Coins",choose_package:"Choose Your Package",most_popular:"Most Popular",discount:"Discount",per_coin:"Per coin",buy_now:"Buy Now",processing:"Processing...",purchase_initiated:"Purchase Initiated",redirecting_payment:"Redirecting to MercadoPago...",purchase_success:"Purchase Successful!",coins_added:"{{coins}} coins added to your account",login_required:"Login Required",login_message:"You need to log in to buy virtual coins",secure_payment:"Secure Payment",secure_description:"Protected by MercadoPago",instant_delivery:"Instant Delivery",instant_description:"Coins available immediately",best_value:"Best Value",best_value_description:"More coins for your money",payment_methods:"Payment Methods",accepted_methods:"Accepted Methods",credit_cards:"Credit Cards",debit_cards:"Debit Cards",bank_transfer:"Bank Transfer",digital_wallets:"Digital Wallets",security_info:"Security Information",ssl_encryption:"SSL Encryption",pci_compliant:"PCI DSS Compliant",refund_policy:"Refund Policy",customer_support:"Customer Support"},transactions:{history:"Transaction History",no_transactions:"You have no transactions yet",registration:"Registration",bet:"Bet",vote:"Vote",purchase_basic:"Purchase - Basic Package",purchase_standard:"Purchase - Standard Package",purchase_premium:"Purchase - Premium Package",purchase_pro:"Purchase - Pro Package",income:"Income",expense:"Expense"},error:{title:"Error",loading_history:"Error loading transaction history",purchase_failed:"Error processing purchase. Please try again.",loading_rewards:"Error loading rewards",redeem_failed:"Error redeeming reward. Please try again."},rewards:{title:"Rewards Catalog",subtitle:"Redeem your virtual coins for exclusive rewards and premium content",current_balance:"Current Balance",balance_description:"Coins available to redeem",all_categories:"All Categories",badges:"Badges",content:"Content",all_rewards:"All Rewards",categories:"Categories",my_rewards:"My Rewards",total_rewards:"Total Rewards",total_spent:"Total Spent",average_per_reward:"Average per Reward",common:"Common",rare:"Rare",legendary:"Legendary",limited:"Limited",includes:"Includes",benefits:"Benefits",processing:"Processing...",owned:"Already Owned",insufficient_coins:"Insufficient Coins",redeem:"Redeem",redeem_success:"Reward Redeemed!",reward_added:"{{name}} added to your collection",login_required:"Login Required",login_message:"You need to log in to view rewards",no_rewards:"You have no rewards yet",start_collecting:"Start collecting rewards!"},eventosUFC303:{title:"UFC 303: McGregor vs. Chandler",date_location:"June 28, 2025 - Las Vegas, NV (T-Mobile Arena)",time:"7:00 PM (local time)",main_card:"Main Card",prelims:"Prelims",vs:"VS",image_alt:"UFC 303 Arena",weights:{"Peso ligero":"Lightweight","Peso semipesado":"Light Heavyweight","Peso medio":"Middleweight","Peso gallo femenino":"Women's Bantamweight","Peso welter":"Welterweight","Peso pluma":"Featherweight","Peso gallo":"Bantamweight","Peso mosca":"Flyweight"}}},Jx={profile:{edit_profile:"Editar Perfil",member_since:"Membro desde",username:"Nome de Usurio",email:"E-mail",total_points:"Pontos Totais",ranking:"Ranking",language:"Idioma"},main_card:"Card Principal",prelims:"Preliminares",vs:"VS",weight:{"peso medio":"Peso mdio","peso semipesado":"Peso meio-pesado","peso pesado":"Peso pesado","peso gallo":"Peso galo","peso paja femenina":"Peso palha feminino","peso pluma":"Peso pena","Peso ligero":"Peso leve","peso mosca femenina":"Peso mosca feminino","peso mosca":"Peso mosca","peso welter":"Peso meio-mdio"},event:{title:{sandhagen_nurmagomedov:"UFC Fight Night: Sandhagen vs. Nurmagomedov",namajunas_barber:"UFC Fight Night: Namajunas vs. Barber",edwards_muhammad:"UFC 304: Edwards vs. Muhammad 2"},date_location:{sandhagen_nurmagomedov:"2 de agosto de 2025 - Abu Dhabi, EAU (Etihad Arena)",namajunas_barber:"12 de julho de 2025 - Denver, CO (Ball Arena)",edwards_muhammad:"26 de julho de 2025 - Manchester, Inglaterra (Co-op Live)"},time:"{{time}}",arena:"Arena do UFC"},thread:{replies:"Respostas ({{count}})"},clips:{saved_clips:"Clipes Salvos",no_clips:"Voc ainda no tem clipes salvos.",hint_record:"Grave clipes durante as transmisses ao vivo para v-los aqui.",download:"Baixar",share:"Compartilhar",clip_title:"Clipe do UFC",url_copied:"URL copiada para a rea de transferncia"},prediction:{title:"Previso e Aposta",who_wins:"Quem vai ganhar a luta?",additional_predictions:"Previses Adicionais",first_strike:"Primeiro golpe significativo?",first_takedown:"Primeira queda?",will_be_ko:"Vai haver KO/TKO?",will_be_sub:"Vai haver Finalizao?",go_to_decision:"Vai para Deciso?",most_significant_strikes:"Mais golpes significativos?",send:"Enviar Previso e Aposta",yes:"Sim",no:"No",bet_amount:"Valor da Aposta",coins:"Moedas",balance:"Saldo",potential_win:"Ganho Potencial",alert_invalid_bet:"Por favor, insira um valor vlido para apostar.",alert_no_coins:"Voc no tem moedas suficientes para esta aposta.",alert_sent:"Previses enviadas com aposta de {{amount}} moedas (ver console)"},live:{title:"Transmisso ao Vivo",error_no_hls:"Seu navegador no suporta reproduo de vdeo ao vivo",error_record:"No foi possvel iniciar a gravao",error_login:"Voc precisa estar logado para salvar clipes.",error_upload:"Erro ao enviar o clipe: {{message}}",on_air:"AO VIVO",record_clip:"Gravar Clipe",stop_record:"Parar Gravao",chat_title:"Chat ao Vivo",no_messages:"Ainda no h mensagens. Seja o primeiro a comentar!",write_message:"Digite sua mensagem...",send:"Enviar"},nav:{home:"Incio",forum:"Frum",fighters:"Lutadores",compare:"Comparar",highlights:"Destaques",events:"Eventos",saved_clips:"Clipes Salvos",live:"Assistir ao Vivo",profile:"Meu Perfil",my_rankings:"Meus Rankings",buy_coins:"Comprar Moedas",rewards:"Recompensas"},auth:{login:"Entrar",register:"Registrar-se",logout:"Sair",login_subtitle:"Insira suas credenciais para acessar sua conta",forgot_password:"Esqueceu sua senha?",or_continue_with:"Ou continue com",continue_with_google:"Continuar com Google",no_account:"No tem uma conta?",register_here:"Cadastre-se aqui",accept_terms:"Ao se registrar, voc aceita nossos ",terms_conditions:"Termos e Condies",email:"E-mail",password:"Senha",remember:"Lembrar-me",already_have_account:"J tem uma conta?",create_account:"Criar Conta",complete_data_join_community:"Complete seus dados para entrar na comunidade",username:"Nome de Usurio",username_placeholder:"SeuUsuario",confirm_password:"Confirmar Senha",registering:"Registrando...",login_here:"Entrar aqui",passwords_no_match:"As senhas no coincidem",email_placeholder:"seu@email.com"},sidebar:{my_points:"Meus Pontos:"},stats:{accurate_predictions:"Previses Acertadas",coins_won:"Moedas Ganhas",global_ranking:"Ranking Global",next_level:"Prximo Nvel"},user:{default:"Usurio",points:"pts",win_rate:"Taxa de Vitrias",predictions:"Previses",profile:"Meu Perfil",ranking:"Ranking Global"},highlights:{title:"Destaques",ko_epic:"KO pico: McGregor vs. Aldo",submission_incredible:"Finalizao Incrvel: Nurmagomedov",total_war:"Guerra Total: Jones vs. Gustafsson I",surprise_kick:"Chute Voador Surpresa",comeback:"Virada Histrica",night_ko:"Noite de Nocautes",alt_ko:"Soco de nocaute no octgono",alt_submission:"Finalizao no cho",alt_war:"Troca intensa de golpes",alt_kick:"Chute voador espetacular",alt_comeback:"Celebrando uma vitria de virada",alt_night:"Montagem de momentos de destaque",fighters:"Lutadores",watch_clip:"Assistir Clipe",loading:"Carregando destaques...",retry:"Tentar Novamente",refresh:"Atualizar",no_clips:"No h clipes em destaque disponveis no momento.",upload_clip:"Enviar Clipe",upload_title:"Enviar Novo Clipe",title_label:"Ttulo",description_label:"Descrio",fighters_label:"Lutadores (separados por vrgulas)",fighters_placeholder:"McGregor, Aldo",video_label:"Arquivo de Vdeo",cancel:"Cancelar",uploading:"Enviando...",close:"Fechar"},events:{title:"Prximos Eventos",alt_arena:"Arena iluminada cheia de espectadores para um evento do UFC",alt_octagon:"Vista lateral do octgono do UFC durante uma luta",alt_staredown:"Dois lutadores frente a frente antes de uma luta",alt_celebration:"Lutador vitorioso comemorando no octgono",main_event:"Luta Principal:",co_main_event:"Co-Principal:",details:"Ver Detalhes"},category:{not_found:"Categoria no encontrada.",search_placeholder:"Buscar em {{category}}...",threads_in:"Tpicos em {{category}} ({{count}})",no_threads:"Ainda no h tpicos nesta categoria."},login:{welcome:"Bem-vindo ao",subtitle:"Sua plataforma definitiva para o mundo do MMA"},register:{title:"Junte-se  Comunidade",subtitle:"Crie sua conta e comece a prever resultados de MMA"},rankings:{title:"Ranking Global de Previses",rank:"Posio",user:"Usurio",points:"Pontos",streak:"Sequncia",updated:"O ranking  atualizado aps cada evento principal. Continue prevendo!"},fighters:{title:"Ranking Oficial de Lutadores (P4P)",rank:"Posio",name:"Nome",division:"Diviso",record:"Cartel",status_col:"Status",points_col:"Pontos",no_table:"Componentes de Tabela ou Badge no encontrados. Por favor, crie-os se no existirem.",note:"Ranking Peso por Peso (P4P) baseado no desempenho e domnio divisional.",status:{"Campen":"Campeo","Top Contender":"Top Contender"}},home:{join_title:"Junte-se  Comunidade",join_desc:"Participe dos fruns, compita nos rankings de previses e mostre quem mais entende de MMA.",see_rankings:"Ver Rankings",upcoming_events:"Prximos Eventos",see_details:"Ver Detalhes",champion:"Campeo",challenger:"Desafiante",vote_percent:"% dos votos",ufc_300_title:"UFC 300: LUTA PRINCIPAL",see_all:"Ver todos"},logo:{alt:"Logo do UFC"},coins:{title:"Comprar Moedas Virtuais",subtitle:"Adquira moedas virtuais para participar em previses, apostas e mais atividades da plataforma",current_balance:"Saldo Atual",balance_description:"Moedas disponveis para usar",coins:"Moedas",choose_package:"Escolha seu Pacote",most_popular:"Mais Popular",discount:"Desconto",per_coin:"Por moeda",buy_now:"Comprar Agora",processing:"Processando...",purchase_initiated:"Compra Iniciada",redirecting_payment:"Redirecionando para MercadoPago...",purchase_success:"Compra Bem-sucedida!",coins_added:"{{coins}} moedas adicionadas  sua conta",login_required:"Login Necessrio",login_message:"Voc precisa fazer login para comprar moedas virtuais",secure_payment:"Pagamento Seguro",secure_description:"Protegido pelo MercadoPago",instant_delivery:"Entrega Instantnea",instant_description:"Moedas disponveis imediatamente",best_value:"Melhor Valor",best_value_description:"Mais moedas pelo seu dinheiro",payment_methods:"Mtodos de Pagamento",accepted_methods:"Mtodos Aceitos",credit_cards:"Cartes de Crdito",debit_cards:"Cartes de Dbito",bank_transfer:"Transferncia Bancria",digital_wallets:"Carteiras Digitais",security_info:"Informaes de Segurana",ssl_encryption:"Criptografia SSL",pci_compliant:"Compatvel com PCI DSS",refund_policy:"Poltica de Reembolso",customer_support:"Suporte ao Cliente"},transactions:{history:"Histrico de Transaes",no_transactions:"Voc ainda no tem transaes",registration:"Registro",bet:"Aposta",vote:"Voto",purchase_basic:"Compra - Pacote Bsico",purchase_standard:"Compra - Pacote Padro",purchase_premium:"Compra - Pacote Premium",purchase_pro:"Compra - Pacote Pro",income:"Receita",expense:"Despesa"},error:{title:"Erro",loading_history:"Erro ao carregar histrico de transaes",purchase_failed:"Erro ao processar compra. Tente novamente.",loading_rewards:"Erro ao carregar recompensas",redeem_failed:"Erro ao resgatar recompensa. Tente novamente."},rewards:{title:"Catlogo de Recompensas",subtitle:"Resgate suas moedas virtuais por recompensas exclusivas e contedo premium",current_balance:"Saldo Atual",balance_description:"Moedas disponveis para resgatar",all_categories:"Todas as Categorias",badges:"Insgnias",content:"Contedo",all_rewards:"Todas as Recompensas",categories:"Categorias",my_rewards:"Minhas Recompensas",total_rewards:"Total de Recompensas",total_spent:"Total Gasto",average_per_reward:"Mdia por Recompensa",common:"Comum",rare:"Rara",legendary:"Lendria",limited:"Limitada",includes:"Inclui",benefits:"Benefcios",processing:"Processando...",owned:"J Possuda",insufficient_coins:"Moedas Insuficientes",redeem:"Resgatar",redeem_success:"Recompensa Resgatada!",reward_added:"{{name}} adicionada  sua coleo",login_required:"Login Necessrio",login_message:"Voc precisa fazer login para ver as recompensas",no_rewards:"Voc ainda no tem recompensas",start_collecting:"Comece a colecionar recompensas!"},eventosUFC303:{title:"UFC 303: McGregor vs. Chandler",date_location:"28 de junho de 2025 - Las Vegas, NV (T-Mobile Arena)",time:"19:00 (horrio local)",main_card:"Card Principal",prelims:"Preliminares",vs:"VS",image_alt:"Arena do UFC 303",weights:{"Peso ligero":"Peso leve","Peso semipesado":"Peso meio-pesado","Peso medio":"Peso mdio","Peso gallo feminino":"Peso galo feminino","Peso welter":"Peso meio-mdio","Peso pluma":"Peso pena","Peso gallo":"Peso galo","Peso mosca":"Peso mosca"}}};Sx.use(Kx).use(vc).init({resources:{es:{translation:Gx},en:{translation:Wx},pt:{translation:Jx}},fallbackLng:"es",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});oe(document.getElementById("root")).render(e.jsx(Y.StrictMode,{children:e.jsx(ne,{children:e.jsx(hp,{children:e.jsx(Np,{children:e.jsx(pf,{children:e.jsx($f,{})})})})})}));
